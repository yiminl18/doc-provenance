[
  {
    "09279f89": {
      "question": "What is a key topic discussed in the document?",
      "answer": "How to design and use a research database",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            0,
            1,
            2,
            3,
            4
          ],
          "provenance_ids": [
            0,
            1
          ],
          "provenance": "MINI-SYMPOSIUM: RESEARCH\n\nHow to design and use a\nresearch database\n\nSimon S Cross\n\nIan R Palmer\n\nTimothy J Stephenson\n\nAbstract\nThe vast majority of histopathology research projects based on a se-\nries of tissue samples will require a database to store and organize the\ndata.Most of these databases will be relatively simple standalone da-\ntabases that can be created in a spreadsheet application.",
          "time": 10.567322254180908,
          "input_token_size": 12880,
          "output_token_size": 81,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_09279f89",
        "created_at": 1750198886.8731172,
        "processing_time": 14.473281621932983,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs",
        "reason": "shorter_provenance",
        "sentence_count": 5,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs",
            "sentence_count": 5,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.863928"
      }
    }
  },
  {
    "174cb792": {
      "question": "Who is Timothy J Stephenson in relation to the document?",
      "answer": "Timothy J Stephenson is a Consultant Histopathologist at Sheffield Teaching Hospitals NHS Foundation Trust and Honorary Professor at the University of Sheffield and Sheffield Hallam University.",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            11,
            12,
            13
          ],
          "provenance_ids": [
            13
          ],
          "provenance": "Timothy J Stephenson MA MD MBA FRCPath is a Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation\nTrust and Honorary Professor at the University of Shefﬁeld and\nShefﬁeld Hallam University, Shefﬁeld, UK.",
          "time": 7.436999797821045,
          "input_token_size": 7580,
          "output_token_size": 205,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_174cb792",
        "created_at": 1750198972.0990844,
        "processing_time": 14.21041488647461,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs",
        "reason": "shorter_provenance",
        "sentence_count": 3,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs",
            "sentence_count": 3,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.863928"
      }
    }
  },
  {
    "2656c6b3": {
      "question": "What are the advantages of using Microsoft Excel for database management as discussed in the document?",
      "answer": "1. Virtually no learning curve for users familiar with spreadsheet functions.\n2. No platform specificity (works on different operating systems).\n3. Accepts files from other sources in a wide range of formats.\n4. Prevents users from wasting time creating unnecessary graphical interfaces.\n5. Allows direct data entry into a simple column-row format.\n6. Functions like 'Split Window' and 'Freeze Panes' enhance usability.\n7. Easy to create custom entry forms if needed.\n8. Supports multiuser entry through web-based databases.\n9. Facilitates data import from other databases.\n10. Allows for easy calculation of derived data items.\n11. Provides useful functions for verifying data accuracy.\n12. Produces manageable file sizes for easy backup.\n13. Supports direct statistical functions and analysis.\n14. Can export data in formats compatible with other statistical software.",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            163,
            164,
            165,
            166,
            167,
            168,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            163,
            164,
            165,
            166,
            167,
            168,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance": "MINI-SYMPOSIUM: RESEARCH\n\nHow to design and use a\nresearch database\n\nSimon S Cross\n\nIan R Palmer\n\nTimothy J Stephenson\n\nAbstract\nThe vast majority of histopathology research projects based on a se-\nries of tissue samples will require a database to store and organize the\ndata.Most of these databases will be relatively simple standalone da-\ntabases that can be created in a spreadsheet application.However,\nthere are still some important considerations in the design of the data-\nbase and coding of the data that will make its subsequent use much\nmore time efﬁcient.This article reviews the scope of databases for\ncommon histopathology research projects, the ethical and legal con-\nsiderations, design of the database structure, coding of data items,\nand import and export of data from databases.Keywords anonymization; databases; histopathology\n\nIntroduction\n\nMost research projects need some method for recording and\nordering data.Sometimes this may be a complex system that\nautomatically links with other data sources, but in most cases it\nwill be a relatively simple standalone database for a single\nresearcher to maintain their research data.However, even though\nthis level of database may be relatively simple, it is still very\nimportant to give some thought to its design before starting to use\nit, as a well-designed database will make analysing results much\neasier, and a poorly-designed database can lead to much wasted\ntime which may even extend as far as having to re-enter data.What sort of database does your project need?At the start of a research project you need to make a simple\nassessment of what your database will need to do.If your\ninvolving\nresearch project\nseveral different centres and which requires data to be entered by\nseveral different personnel, then we hope you have budgeted for\n\nis a randomized controlled trial\n\nSimon S Cross MD FRCPath is Professor of Diagnostic Histopathology\nat the University of Shefﬁeld and an Honorary Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation,\nUK.Conﬂict of interest: There is no conﬂict of interest.Ian R Palmer BSc is the Faculty IT Manager (Medicine, Dentistry &\nHealth) and Faculty IT Liaison Corporate Information and Computing\nServices at the University of Shefﬁeld, Shefﬁeld, UK.Conﬂict of\ninterest: There is no conﬂict of interest.Timothy J Stephenson MA MD MBA FRCPath is a Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation\nTrust and Honorary Professor at the University of Shefﬁeld and\nShefﬁeld Hallam University, Shefﬁeld, UK.Conﬂict of interest: There\nis no conﬂict of interest.a dedicated database manager in your research grant because\nyou will need them!Such a database is well outside the scope of\nthis paper.A more tractable project might be something like a\nnumber of different immunohistochemical stains performed on a\nretrospective series of 500 cases of breast cancer with histo-\npathological data (such as tumour size, grade, lymph node sta-\ntus) and clinical follow-up (e.g.time to last follow-up, recurrent\ndisease, death not due to breast cancer, death due to breast\ncancer).A database for a project such as this would be a\nreasonable proposition for a single researcher, such as a histo-\npathology trainee working on an PhD degree, and is the scale\nof database that we use all the time in our projects.1\n\nAnonymization, ethical and legal considerations\n\nAny research database should be anonymized to the highest level\nthat is compatible with the viability of the research project.The\nrecent high proﬁle cases in the media highlighting data losses by\nGovernment agencies has shown how easy it is for data in some\nformat (laptop, hard drive, data stick, and more recently insecure\nserver etc.)to be lost or stolen.2 It is likely that you will be\nmoving your data around between computers and it is probable\nthat you will be using a laptop computer, so for security con-\nsiderations alone the database should be anonymized.Any\nresearch project will require local ethics committee approval, and\nmost ethics committees are rightly concerned about the trans-\nmission of personal medical data and usually insist that any\nresearch databases are anonymized.There are two main methods of anonymization e complete\nand linked.The most secure is complete anonymization where\nthe clinicopathological data are taken from their original source\nand entered into the research database with no linkage at all\nbetween the two.If all personal identiﬁers are excluded from the\nresearch database, then there should be no way of systematically\nidentifying patients from the data held in the research database (it\nshould, however, be noted that it might be possible to identify\noccasional individuals if they have very distinctive characteristics,\ne.g.a 16-year-old female living in city ‘x’ who was diagnosed with\nbreast cancer).The advantage of a totally anonymized database is\na lowering of the risk should it be lost or stolen.It obviously re-\nduces the risk of identiﬁcation of individuals to close to zero, but\nit does not eliminate the risk of media coverage should the lost\ndata be found somewhere inappropriate (the local newspaper\nheadline ‘Cancer patients’ data found on memory stick in car\npark’ could still be applied whether the data were anonymized or\nnot).The major disadvantage of a completely anonymized data-\nbase is that it is a static database that cannot be updated later if\nthere is a need for further data input.This may not be a problem\nfor many histopathology research projects (e.g.novel immuno-\nhistochemistry on a series of tumours) but is obviously not\ncompatible with projects with continuing patient follow-up.In linked anonymization there is some system that links the\nresearch database to identiﬁable patient data.One method of\nlinkage is to have a separate secure database that acts as a key\nbetween identiﬁable data records and the anonymized research\ndatabase.Such a database does not need to be electronic; it could\nsimply be a book with two entries on each line e the identiﬁable\ndata and the anonymized research accession number (often\nknown as the study number).Such a book could be kept securely\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n149\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nlocked in a ﬁling cabinet in a locked ofﬁce and access could be\nrestricted to a few named individuals involved in the research\nproject; often it will be a single named individual whose sole\npurpose is to provide linkage if requested.However, this method\ninvolves setting up a separate administration system with its own\nsecurity issues.A much simpler method is to use some identiﬁer\nwhich is not identiﬁable without access to some existing infor-\nmation system.This could be the patient’s hospital number but\nmany ethics committees regard this as relatively insecure\nbecause the patient’s hospital number could open access to a\nwhole range of information in many different hospital informa-\ntion systems (and the patient’s NHS number is even less secure\nand more informative).In histopathology we are fortunate in\nhaving the laboratory accession number which is a restrictive\nsuperﬁcially-anonymous identiﬁer that is only available to those\nwith access to the laboratory information computer system, and\nthat system is already heavily protected by individual password\nlogin, automatic timing out of terminals after a short period of\nnon-use, etc.If we are conducting a research study on archival\ndiagnostic surgical material, then we will probably be using\nslides labelled with the laboratory accession number and we are\nunlikely to anonymize that number because of the slide labelling\nproblems it would cause.At present the ethics committees that\nwe have passed applications through have been happy to use the\nlaboratory accession number to anonymize the samples and data\nin studies, although they have always required a statement on\nthe circumstances in which the investigators would go back to\nthe laboratory information system for more data.Such consid-\nerations always have to be made for any research project and are\nnot exclusively a feature of research databases.It still needs to be appreciated that simple personal data, such\nas name and address, are not the only items that can identify an\nindividual.The date of birth is quite a speciﬁc item and com-\nbined with other items in a database (e.g.a woman with breast\ncancer diagnosed in 2002) could provide a strong indication of an\nindividual’s identity.It is usually better to change the date of\nbirth to a less speciﬁc age datum at the time of entering infor-\nmation into the database; age at diagnosis will probably give all\nthe information that is required.It should be noted that even when a database has been\n‘anonymized’ using relatively opaque linkage items, such as the\nlaboratory accession number, it is still not completely anony-\nmized because links can be made indirectly which could iden-\ntify the patient.Although this linked ‘anonymization’ will mini-\nmize the adverse effects of any data loss or unauthorized access\nto the data, the database is still legally regarded as personal data\nunder legislation such as the UK Data Protection Act.3,4 Under\nthis Act, only data essential to the study can be collected and they\ncan only be stored for as long as the study is active.This brings us to legal consideration as whether the database\nneeds to be registered under the terms of the Data Protection Act\nin the UK, or similar legislation in other countries.If there is no\nlinkage possible at all between the research database and per-\nsonal patient data, then it would not need to registered, but since\nthe act of creation of the database will involve some access to\npersonal data, then we would suggest that it does need regis-\ntration.In most UK institutions this is a simple process because\nthere will be an institutional Data Protection Ofﬁcer and the\ninstitution will be registered with the Government’s Information\n\nCommissioner, which will usually give generic registration for\ndatabases in that institution without the need for the registration\nof individual databases.However, you would need to check the\ndetails of your institution’s processes.A further medicolegal consideration is the duty of disclosure\nthat could occur if review of a case with identiﬁable data showed\nthat there was a misdiagnosis or mistreatment, e.g.if review of a\nseries of cases of mesothelioma showed that one of the cases\nappeared to be mesothelial hyperplasia rather than mesotheli-\noma.If there is complete anonymization, then this cannot apply.If there is linked anonymization, then it could apply and this\nneeds to be considered before the study commences.In most\nhistopathology research studies, the tissue being reviewed is only\na sample of the whole diagnostic material available on the case,\ne.g.a single block of breast cancer, so a full diagnostic review of\nthe case is not being carried out.The tissue is also being exam-\nined in a research context, e.g.a single core of tumour in a tissue\nmicroarray, where it is possible that there could have been some\ntransposition of laboratory accession numbers or rows and col-\numns in a spreadsheet and the risk of misidentiﬁcation would be\nslightly higher than in a fully functioning diagnostic histopa-\nthology laboratory.For these reasons, we include a statement in\nour ethics committee application stating that any discoveries are\nfor research purposes only and that there will be no retrograde\nﬂow of information back to patient records or individual patients.Design your database\n\nThe design of your database should reﬂect the design of your\nresearch project and it would be better to have all your aims and\nobjectives of the project clearly formulated and recorded before\nyou start to design your database.Sometimes, however, design of\nthe database and general objectives of the research project emerge\nconcurrently.A good way to design your database is to take a blank\nsheet of A3 paper and sketch out all the data items you think you\nneed in a ‘spider’ (or ‘mindmap’) diagram with clusters of related\nitems.This gets you away from a computer screen and a form\nformat, and allows you to look at all the data items with an over-\nview.It is worth spending some time doing this, possibly redraw-\ning the diagram if it becomes too cluttered by changes, because this\nis the most important stage of database design and time spent on\nthis stage will pay major dividends later in the process.You need to arrive at a design with all the data items that are\nessential for your project but no more than that.If you do not\ninclude essential data items at the start of the process, you will\ndiscover their absence later and then need to modify the database,\nand you may have to go through all your original data sources to\ninput the missing items.It is usually best to include individual raw\ndata items and use them to calculate derived data items within the\ndatabase.An example in breast cancer would be the Nottingham\nPrognostic Index.If you only include the Nottingham Prognostic\nIndex in your database as an aggregate measure of the potential\nprognostic behaviour of the tumour, then you will not have access\nto the tumour size, tumour grade and lymph node status in future\nanalyses.If you include those three items separately, then you can\ncreate a fourth derived data item that will automatically calculate\nthe Nottingham Prognostic Index from these items.If you only\nrecord axillary lymph node status in a case of breast cancer as\npositive or negative, then you will not have access to the total\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n150\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nnumber of positive lymph nodes, whereas if you record the total\nnumber of positive lymph nodes, you will be able to create\nanother automatically derived data item for overall lymph node\nstatus.The general rule is that data items cannot be split at a later\nstage, but they can be easily, and automatically, aggregated later,\nso it is best to create a database with the simplest raw data items\nincluded instead of derivative/aggregated data items.Any variable that in its raw state is a continuous variable (e.g.tumour size in millimetres) should be stored as that continuous\nvariable rather than a category (e.g. tumours between 5 and 10\nmm).You should of course ensure that all the data items in your\ndatabase are relevant to your project’s aims and objectives\nbecause it is a waste of resources (usually your time) to enter\nirrelevant items.What software should you use? You will notice that choice of software comes after design of the\ndatabase.Too many researchers start with the software choice and\nthen their database design is inﬂuenced by what the software can\ndo, rather than what the software can do for them.There are a\nnumber of popular database software packages on the market,\nsuch as Microsoft Access and Filemaker Pro, which run on indi-\nvidual computers.There are also server-based databases, such as\nMySQL, Microsoft SQL Server or Oracle.These software packages\nare all very good and very powerful for multiuser projects with a\nnumber of interacting databases, but they are overkill for a\nresearch project such as the breast cancer tissue array project\ndescribed above.Although we have used Microsoft Access and\nFilemaker Pro in the past with success, the learning curve for using\nthese packages is relatively steep and the results are no better than\nusing our current preferred option which is Microsoft Excel.This\nspreadsheet application has enough database functions built into it\nto carry out all the necessary preprocessing before statistical\nanalysis of results in speciﬁc statistical software package, such as\nStatistical Package for Social Sciences (SPSS).It has the major\nadvantages of virtually no learning curve, if you already use its\nspreadsheet functions, no platform speciﬁcity (Microsoft Access\ndoes not run on Macintosh computers), accepts ﬁles from other\nsources in a wide range of formats, and does not allow the user to\nwaste time creating colourful graphical interfaces for entering data\nthat have no value to the project.We simply create a column for\neach data item and use a row for each case.The ‘Split Window’ and\n‘Freeze Panes’ functions (found under the Windows menu at the\ntop of the screen) allow the column headings and left-hand row\nlabels to remain on the screen all the time no matter how many\nrows or columns there are in the spreadsheet (see the Excel help\nﬁles for further details).We enter data directly into the spreadsheet\nwithout using any custom entry form, but it is easy to create one if\nyou feel that data entry would be cleaner by using one, e.g.if\nsomeone without specialist knowledge is entering the data for you.If you need multiuser entry, then a single spreadsheet be-\ncomes problematic because version control becomes very difﬁ-\ncult.In these circumstances, a server-based database is more\nuseful but it can be difﬁcult to arrange access from different in-\nstitutions.A more recent development is the availability of web-\nbased databases, which are accessible from any web browser and\nmake multiuser data entry very simple.The consideration with\nthese web-based databases is the security of the commercial\n\nproviders’ servers, but they are basing their business on a secure\nservice so the risk might be lower than for an ad-hoc server in an\nacademic institution.Coding your data\n\nYou will know which data items you want to include in your\ndatabase because you designed it before you touched the com-\nputer keyboard, but now you need to consider how you are going\nto code that data.This only requires a bit of thought about how\nyou are going to sort and use the data but again if you code your\ndata in appropriate formats it will cause a lot of rework and delay\nlater.The laboratory accession number is a simple illustrative\ncase (Tables 1 and 2).This number is usually in the form of the\nyear and then a single unique number issued in ascending order\nas specimens arrive.There may also be a separate block number if\nthe specimen cannot be embedded in a single block.If such a\nnumber is entered into a single column in its usual format, e.g.08/23156/3E, it will be treated as text rather than a number in\nExcel and there can be a number of problems when sorting data\nfor analysis.Tables 1 and 2 illustrate these problems and show\nthat the best solution is to create separate columns for each\nelement of a multipart or mixed number/text item.Binary data\nitems, such as gender or lymph node status, are easier but there is\nstill a decision to be made as to whether to use strict mathematical\nbinary code or a more descriptive code.Gender could be coded as\n1 ¼ female and 0 ¼ male, but this is an arbitrary coding that is not\nmemorable to the data inputer.Coding as f ¼ female and m ¼\nmale is memorable and so far lower rates of errors are likely\nduring the inputting of the data, i.e.make the purest possible\ntransformations of data.It is a very simple automated ‘ﬁnd and\nreplace’ function to convert these to true mathematical binary\nitems for statistical analysis.It is well worth keeping descriptive\ncodings as short as possible, because this reduces the number of\nkeystrokes when entering data.The autoﬁll function of Excel is\n\nCoding the laboratory accession number.If entered in\nthe format in column 1 the accession number sorts to the\norder in column 2 e the year order is incorrect because\nthe full year was not included.With the full year added\nand sorted, column 3, there is still a problem with the\norder of the second and third rows because zeros before\nthe accession number have not been added to numbers\nwith fewer than ﬁve digits.When this has been done,\ncolumn 4, the numbers now do sort into the correct time\norder but a better method is shown in Table 2\n\n1.Unsorted\n\n2. Sorted\n\n3. Full year\nsorted\n\n4.Full year and\npreceeding zeros\nsorted\n\n98/1119/3E\n02/34001/4F\n99/1231/2F\n00/32754/1A\n03/4567/8G\n99/12237/4D\n\n00/32754/1A\n02/34001/4F\n03/4567/8G\n98/1119/3E\n99/1231/2F\n99/12237/4D\n\n1998/1119/3E\n1999/12237/4D\n1999/1231/2F\n2000/32754/1A\n2002/34001/4F\n2003/4567/8G\n\n1998/01119/3E\n1999/01231/2F\n1999/12237/4D\n2000/32754/1A\n2002/34001/4F\n2003/04567/8G\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\nTable 1\n\n151\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nThis shows a better method for coding the laboratory\naccession number by creating a separate column for\neach element of the number.Note that in this case\npreceding zeros do not need to be included as the Excel\nsoftware is treating the numbers as actual numbers\nrather than text, as in Table 1.If you are using a single\nrepresentative section from a multipart specimen, e.g.a\nrepresentative block of breast cancer from a mastectomy\nspecimen, then always remember to include the speciﬁc\nblock number in the database, otherwise future studies\nmay have to retrieve all the slides for the case (speciﬁed\nby the year and accession number) and look at these to\nselect the representative block again e a huge amount\nof rework for no gain in value\n\nNumber\n\n1119\n1231\n12237\n32754\n34001\n4567\n\nPart\n\n3E\n2F\n4D\n1A\n4F\n8G\n\nYear\n\n1998\n1999\n1999\n2000\n2002\n2003\n\nTable 2\n\nuseful and can be optimized by choosing different ﬁrst letters for\nas many different items as possible.An example for breast cancer\nthat we have used is tumour type, where d ¼ ductal, l ¼ lobular, t\n¼ tubular, me ¼ medullary, mu ¼ mucinous, etc.It should be\nnoted that when entering text into Excel it will be case-sensitive in\nany manipulations, such as grouping or pivot data tables, so it is\nbest to use lower case letter throughout, which also reduces\nkeystrokes by not using the Shift key.Importing items into your database\n\nIf some of the data you wish to have in your database exist in\nanother database, it may be possible to import them into your\ndatabase instead of having to key them all in.The ﬁrst thing to\nensure is that the data in the other database are ‘clean’ (i.e.consistently formatted) and veriﬁed.People often volunteer data\nfrom a database which on closer examinations contains many\nformatting inconsistencies, e.g.‘yes’ coded as ‘y’, ‘Y’ or ‘1’ for a\nsingle data ﬁeld, and it then is better to start again with the\noriginal source data.Another common feature of processes\ndesigned to port data from one database to another is that IT\nprofessionals want to write complicated interface programmes\nwhich take weeks or months to develop.Whilst these are essential\nfor databases that port data between themselves on a frequent,\nrecurrent basis, this is usually completely unnecessary for a\nstandalone research database, which usually only requires a sin-\ngle transfer at a single point in time.The easiest method we have\nfound is to perform a search on the existing database to select the\nrecords that we want to import and then export those in a format\nthat Excel can read.Often the parent database will be able to\nexport in Excel format but comma or tab-delimited text is just as\nacceptable and causes no extra work.Once in Excel the imported\ndata can be quickly sorted and formatted as required.It should be\nnoted that it is best to import as the ﬁrst stage of creating your\n\nresearch database, rather than trying to add the imported data to\nan existing database which may be more problematic.Calculating derived data items within your database\n\nAs noted above it is often easier (and certainly more accurate) to\ncalculate some derived data items from raw source data items\nwithin the database.This can be done using Excel’s calculation\nfunctions and the reader is referred to Excel help ﬁles or\ninstructional books for the details of this.5 Obviously some cal-\nculations are easier than others.If your raw data item is the\nmaximum diameter of a breast cancer in millimetres and you\nwant to convert that to centimetres in the calculation of the\nNottingham Prognostic Index, then you would simply set up a\nformula such: ¼ A23/10 where A23 is the index of the cell\ncontaining the measurement in millimetres.It is a simple matter\nto propagate that formula down the whole column for size in\ncentimetres by using the ‘Fill’ ‘Down’ functions from the Edit\nmenu.Deriving the lymph node status component for the Not-\ntingham Prognostic Index from the total number of positive\nlymph nodes would be more complicated but the conditional\noperators exist in Excel to allow this, e.g.¼ IF(A23 > 3,2,0), and\nautomatic help boxes make this very easy (click the calculator\nsymbol on the Excel toolbar just to the right of the green tick\nsymbol).It should be noted that these calculated values only\nexist when the other items from which they are derived are still\npresent in the datasheet.If for any reason, such as reducing data\ndown to the core items for statistical analysis, you are going to\nremove columns from the datasheet, you must select the whole\ndatasheet, copy it and then paste it back in the same cells using\nthe Paste Special function and selecting Values.You will then\nhave a sheet in which each cell is an independent number not\ndependent on any other cell.Obviously, you should only do this\nwhen you have ﬁnished entering all the data and are ready for\ndata analysis, and you should immediately save this sheet in a\ndifferent name from the original database sheet.Verifying your data\n\nOnce you have input your data you need to make some assess-\nment of the veracity of that data.It is remarkable how many\nerrors are introduced during data entry that need to be corrected\nbefore the database is usable.Excel has some useful functions\nthat make debugging the database relatively easy.One method is\nto ensure that you have saved the database and then try sorting\nthe data in many different ways.Go to ‘Sort’ under the ‘Data’\nmenu and select any single column as the sorting factor and\nperform the sort.Now scroll through the database sheet looking\nat the column you sorted by, especially at the top and bottom of\nthe sorted sheet, and you can see all sorts of data entry errors\nfrom completely blank cells through to mispellings or duplicated\nsymbols.You could repeat these sorts for each column to check\nfor further errors in other columns.A similar, but possibly easier,\nmethod is to use the Autoﬁlter function.Highlight the complete\nsheet (by clicking the diamond symbol in the top left cell of the\nsheet), from the Data menu select the Filter option and then\nselect the Autoﬁlter option.At the top of each column there will\nnow appear an up and down arrow symbol; clicking on this\nproduces a list of all the different occurrences of data items in\nthat column, making it very easy to see errors such as ‘Y’ instead\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n152\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nof ‘y’.When all the obvious typing errors have been corrected, it\nwould be wise to perform an audit, checking perhaps 10% of the\ncase records with their original source data to check that there\nare no systematic data entry errors.Backing up your database\n\nData only exists when it is stored in two places e this widespread\ndictum is never more true than for databases.If you are going to\nspend many hours entering data into a database, then you need to\nhave a reliable system of back-up.The best systems are automatic\nand store the data at a geographically separate location; institutions\nsuch as universities often provide such systems for their members.Excel-based databases produce ﬁles which are very manageable in\nsize and can easily be backed up to CDs or memory sticks, but be\nmindful of security issues even with a completely anonymized\ndatabase (which would still cause media interest if found in an\ninappropriate place) and keep the copies in secure locations.Many\nNHS institutions are now so wary of data loss through sources such\nas memory sticks, that they are considering disabling USB ports on\ntheir computers so automated back-ups onto servers within the\ninstitution’s ﬁrewall may well become the norm.Exporting data for analysis\n\nThe function of a database is to store and order data for a\nresearch project that can then be analysed.By using Excel as the\ndatabase software, many statistical functions and analysis can be\nused directly within Excel.However more sophisticated analyses\nwill require preprocessing and export to other programmes such\nas SSPS.The preprocessing will mainly consist of converting\ndescriptive variables into numerical values, e.g.‘f’ to ‘1’, which\nis easily done using the search and replace functions of Excel.The labels of the columns may have to be shortened to be read by\nsome statistical programmes, e.g.SPSS will only read the ﬁrst\neight characters of variable names.Again, you must remember to\nsave the spreadsheet with a different ﬁlename before beginning\ndata preprocessing, as it will destroy some of the data, or\ncertainly its format.Most specialist statistical programmes, such\nas SPSS, will read Excel ﬁles but data can be output in comma- or\ntab-delimited text from Excel if necessary.Research notes ‘database’\n\nAny researcher 15 years ago would have had supplementary ‘da-\ntabases’ for their research projects, usually an index box with cards\nwith the authors and title of published papers and a number that\nreferred to a folder in a ﬁling cabinet.They might also have had a\nbound book with notes, or possibly a pile of loose papers with\nvarious notes e they still might have those on their desk today.A\nsupervised researcher working in a well-organized laboratory\nshould still have a bound book as a record of their experiments and\nprimary data, but there are now more useful ways of storing other\ninformation than a pile of loose papers.The widespread availability\nof electronic PDF versions of published paper and the information\ndisplayed on numerous authoritative websites has widened the\nscope for electronic databases of collected research ‘notes’.These\nshould be much easier to search, can have direct links to PDF ﬁles\nstored on the computer and direct links to relevant websites, and\ncould signiﬁcantly improve a researcher’s productivity.A number\n\nof software programmes that perform this task are available.On\nMacintosh computers TapForms6 appears to be the current market\nleader and is extremely easy to use.On PCs Microsoft Ofﬁce One-\nNote (available as part of the MS Ofﬁce 2016 Ofﬁce Suite) is a\ncomprehensive electronic documentation application that allows\norganization and storage of information from a wide range of\nsources.7 It also allows resources to be shared securely with project\ncollaborators via the internet.Conclusions\n\nA research database for even relatively sophisticated histopa-\nthology research projects, e.g.immunohistochemical staining of\ntissue arrays with hundreds of tumours, is easy to construct and\nuse provided that care is taken in its overall design and the\ncoding of data items.The purpose of the database should always\nbe to serve the overall aims of the research project and it should\nnot become an isolated resource-consuming entity.For most\nhistopathology projects, a simple spreadsheet programme, such\nas Microsoft Excel, will provide all\nthe necessary database\nfunctions with the minimum amount of infra-structural effort.Conﬂicts of interest\n\nThe authors have no conﬂicts of interest to declare.A\n\nREFERENCES\n1 Balasubramanian SP, Cross SS, Globe J, Cox A, Brown NJ,\n\nReed MW.Endostatin gene variation and protein levels in breast\ncancer susceptibility and severity.BMC Cancer 2007; 7: 107. 2 BBC News website.Thousands of Welsh NHS staff’s data stolen in\n\nhack.Avaliable at: http://www.bbc.co.uk/news/uk-wales-\n39249975 (accessed 4 June 2017). 3 Data Protection Act.Available at: http://www.legislation.gov.uk/\n\nukpga/1998/29/contents (accessed 4 June 2017).4 Iversen A, Liddell K, Fear N, Hotopf M, Wessely S. Consent,\n\nconﬁdentiality and the data protection act.BMJ 2006; 332: 165e9. 5 Walkenbach J. Excel 2016 bible.Hoboken, New Jersey: John Wiley\n\n& Sons, 2015. June 2017). 6 TapForms.Avaliable at: https://www.tapforms.com/ (accessed 4\n\n7 Microsoft Ofﬁce OneNote.Avaliable at: https://www.onenote.com/\n\n(accessed 4 June 2017).Practice points\n\nC Any research database should be anonymized as completely as is\n\nfeasible for the speciﬁc research project\n\nC A research database should always be part of a project approved\nby a research ethics committee and should be speciﬁed within the\nresearch protocol\n\nC A research database should comply with appropriate data pro-\n\ntection legislation, the Data Protection Act in the UK\n\nC The design of the database should be speciﬁed by the aims and\nobjectives of the research project and not by software capabilities\nC Care should be taken to code data items in a format that retains\nall potentially relevant information and which allows them to be\nselected and sorted in a consistent manner\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n153\n\n(cid:1) 2017 Published by Elsevier Ltd.",
          "time": 662.1322863101959,
          "input_token_size": 7429,
          "output_token_size": 157,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_2656c6b3",
        "created_at": 1749769376.1209376,
        "processing_time": 671.6768190860748,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs_prev1",
        "reason": "shorter_provenance",
        "sentence_count": 190,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs_prev1",
            "sentence_count": 190,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.863928"
      }
    }
  },
  {
    "278b4eeb": {
      "question": "Where can ethical considerations be found in the article?",
      "answer": "1. Ethical and legal considerations\n2. Anonymization\n3. Local ethics committee approval\n4. Transmission of personal medical data\n5. Complete and linked anonymization\n6. Duty of disclosure\n7. Data Protection Act\n8. Registration of the database under data protection legislation\n9. Considerations for linked anonymization\n10. Statement in ethics committee application regarding discoveries for research purposes only",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            163,
            164,
            165,
            166,
            167,
            168,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            16,
            17,
            18,
            19,
            21,
            22,
            23,
            24,
            31,
            32,
            35,
            39,
            40,
            41,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            96,
            97,
            99,
            102,
            103,
            112,
            184,
            189
          ],
          "provenance": "MINI-SYMPOSIUM: RESEARCH\n\nHow to design and use a\nresearch database\n\nSimon S Cross\n\nIan R Palmer\n\nTimothy J Stephenson\n\nAbstract\nThe vast majority of histopathology research projects based on a se-\nries of tissue samples will require a database to store and organize the\ndata.Most of these databases will be relatively simple standalone da-\ntabases that can be created in a spreadsheet application.However,\nthere are still some important considerations in the design of the data-\nbase and coding of the data that will make its subsequent use much\nmore time efﬁcient.This article reviews the scope of databases for\ncommon histopathology research projects, the ethical and legal con-\nsiderations, design of the database structure, coding of data items,\nand import and export of data from databases.Keywords anonymization; databases; histopathology\n\nIntroduction\n\nMost research projects need some method for recording and\nordering data.Sometimes this may be a complex system that\nautomatically links with other data sources, but in most cases it\nwill be a relatively simple standalone database for a single\nresearcher to maintain their research data.However, even though\nthis level of database may be relatively simple, it is still very\nimportant to give some thought to its design before starting to use\nit, as a well-designed database will make analysing results much\neasier, and a poorly-designed database can lead to much wasted\ntime which may even extend as far as having to re-enter data.What sort of database does your project need?At the start of a research project you need to make a simple\nassessment of what your database will need to do.If your\ninvolving\nresearch project\nseveral different centres and which requires data to be entered by\nseveral different personnel, then we hope you have budgeted for\n\nis a randomized controlled trial\n\nSimon S Cross MD FRCPath is Professor of Diagnostic Histopathology\nat the University of Shefﬁeld and an Honorary Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation,\nUK.Conﬂict of interest: There is no conﬂict of interest.Ian R Palmer BSc is the Faculty IT Manager (Medicine, Dentistry &\nHealth) and Faculty IT Liaison Corporate Information and Computing\nServices at the University of Shefﬁeld, Shefﬁeld, UK.Conﬂict of\ninterest: There is no conﬂict of interest.Timothy J Stephenson MA MD MBA FRCPath is a Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation\nTrust and Honorary Professor at the University of Shefﬁeld and\nShefﬁeld Hallam University, Shefﬁeld, UK.Conﬂict of interest: There\nis no conﬂict of interest.Such a database is well outside the scope of\nthis paper.A more tractable project might be something like a\nnumber of different immunohistochemical stains performed on a\nretrospective series of 500 cases of breast cancer with histo-\npathological data (such as tumour size, grade, lymph node sta-\ntus) and clinical follow-up (e.g.time to last follow-up, recurrent\ndisease, death not due to breast cancer, death due to breast\ncancer).A database for a project such as this would be a\nreasonable proposition for a single researcher, such as a histo-\npathology trainee working on an PhD degree, and is the scale\nof database that we use all the time in our projects.1\n\nAnonymization, ethical and legal considerations\n\nAny research database should be anonymized to the highest level\nthat is compatible with the viability of the research project.to be lost or stolen.2 It is likely that you will be\nmoving your data around between computers and it is probable\nthat you will be using a laptop computer, so for security con-\nsiderations alone the database should be anonymized.Any\nresearch project will require local ethics committee approval, and\nmost ethics committees are rightly concerned about the trans-\nmission of personal medical data and usually insist that any\nresearch databases are anonymized.There are two main methods of anonymization e complete\nand linked.The most secure is complete anonymization where\nthe clinicopathological data are taken from their original source\nand entered into the research database with no linkage at all\nbetween the two.novel immuno-\nhistochemistry on a series of tumours) but is obviously not\ncompatible with projects with continuing patient follow-up.In linked anonymization there is some system that links the\nresearch database to identiﬁable patient data.Such a book could be kept securely\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n149\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nlocked in a ﬁling cabinet in a locked ofﬁce and access could be\nrestricted to a few named individuals involved in the research\nproject; often it will be a single named individual whose sole\npurpose is to provide linkage if requested.In histopathology we are fortunate in\nhaving the laboratory accession number which is a restrictive\nsuperﬁcially-anonymous identiﬁer that is only available to those\nwith access to the laboratory information computer system, and\nthat system is already heavily protected by individual password\nlogin, automatic timing out of terminals after a short period of\nnon-use, etc.If we are conducting a research study on archival\ndiagnostic surgical material, then we will probably be using\nslides labelled with the laboratory accession number and we are\nunlikely to anonymize that number because of the slide labelling\nproblems it would cause.At present the ethics committees that\nwe have passed applications through have been happy to use the\nlaboratory accession number to anonymize the samples and data\nin studies, although they have always required a statement on\nthe circumstances in which the investigators would go back to\nthe laboratory information system for more data.It still needs to be appreciated that simple personal data, such\nas name and address, are not the only items that can identify an\nindividual.The date of birth is quite a speciﬁc item and com-\nbined with other items in a database (e.g.a woman with breast\ncancer diagnosed in 2002) could provide a strong indication of an\nindividual’s identity.It is usually better to change the date of\nbirth to a less speciﬁc age datum at the time of entering infor-\nmation into the database; age at diagnosis will probably give all\nthe information that is required.It should be noted that even when a database has been\n‘anonymized’ using relatively opaque linkage items, such as the\nlaboratory accession number, it is still not completely anony-\nmized because links can be made indirectly which could iden-\ntify the patient.Although this linked ‘anonymization’ will mini-\nmize the adverse effects of any data loss or unauthorized access\nto the data, the database is still legally regarded as personal data\nunder legislation such as the UK Data Protection Act.3,4 Under\nthis Act, only data essential to the study can be collected and they\ncan only be stored for as long as the study is active.This brings us to legal consideration as whether the database\nneeds to be registered under the terms of the Data Protection Act\nin the UK, or similar legislation in other countries.If there is no\nlinkage possible at all between the research database and per-\nsonal patient data, then it would not need to registered, but since\nthe act of creation of the database will involve some access to\npersonal data, then we would suggest that it does need regis-\ntration.In most UK institutions this is a simple process because\nthere will be an institutional Data Protection Ofﬁcer and the\ninstitution will be registered with the Government’s Information\n\nCommissioner, which will usually give generic registration for\ndatabases in that institution without the need for the registration\nof individual databases.However, you would need to check the\ndetails of your institution’s processes.A further medicolegal consideration is the duty of disclosure\nthat could occur if review of a case with identiﬁable data showed\nthat there was a misdiagnosis or mistreatment, e.g.if review of a\nseries of cases of mesothelioma showed that one of the cases\nappeared to be mesothelial hyperplasia rather than mesotheli-\noma.If there is complete anonymization, then this cannot apply.If there is linked anonymization, then it could apply and this\nneeds to be considered before the study commences.In most\nhistopathology research studies, the tissue being reviewed is only\na sample of the whole diagnostic material available on the case,\ne.g.a single block of breast cancer, so a full diagnostic review of\nthe case is not being carried out.The tissue is also being exam-\nined in a research context, e.g.a single core of tumour in a tissue\nmicroarray, where it is possible that there could have been some\ntransposition of laboratory accession numbers or rows and col-\numns in a spreadsheet and the risk of misidentiﬁcation would be\nslightly higher than in a fully functioning diagnostic histopa-\nthology laboratory.For these reasons, we include a statement in\nour ethics committee application stating that any discoveries are\nfor research purposes only and that there will be no retrograde\nﬂow of information back to patient records or individual patients.Design your database\n\nThe design of your database should reﬂect the design of your\nresearch project and it would be better to have all your aims and\nobjectives of the project clearly formulated and recorded before\nyou start to design your database.Sometimes, however, design of\nthe database and general objectives of the research project emerge\nconcurrently.A good way to design your database is to take a blank\nsheet of A3 paper and sketch out all the data items you think you\nneed in a ‘spider’ (or ‘mindmap’) diagram with clusters of related\nitems.This gets you away from a computer screen and a form\nformat, and allows you to look at all the data items with an over-\nview.It is worth spending some time doing this, possibly redraw-\ning the diagram if it becomes too cluttered by changes, because this\nis the most important stage of database design and time spent on\nthis stage will pay major dividends later in the process.You need to arrive at a design with all the data items that are\nessential for your project but no more than that.If you do not\ninclude essential data items at the start of the process, you will\ndiscover their absence later and then need to modify the database,\nand you may have to go through all your original data sources to\ninput the missing items.It is usually best to include individual raw\ndata items and use them to calculate derived data items within the\ndatabase.An example in breast cancer would be the Nottingham\nPrognostic Index.If you only include the Nottingham Prognostic\nIndex in your database as an aggregate measure of the potential\nprognostic behaviour of the tumour, then you will not have access\nto the tumour size, tumour grade and lymph node status in future\nanalyses.If you include those three items separately, then you can\ncreate a fourth derived data item that will automatically calculate\nthe Nottingham Prognostic Index from these items.If you only\nrecord axillary lymph node status in a case of breast cancer as\npositive or negative, then you will not have access to the total\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n150\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nnumber of positive lymph nodes, whereas if you record the total\nnumber of positive lymph nodes, you will be able to create\nanother automatically derived data item for overall lymph node\nstatus.The general rule is that data items cannot be split at a later\nstage, but they can be easily, and automatically, aggregated later,\nso it is best to create a database with the simplest raw data items\nincluded instead of derivative/aggregated data items.Any variable that in its raw state is a continuous variable (e.g.tumour size in millimetres) should be stored as that continuous\nvariable rather than a category (e.g. tumours between 5 and 10\nmm).You should of course ensure that all the data items in your\ndatabase are relevant to your project’s aims and objectives\nbecause it is a waste of resources (usually your time) to enter\nirrelevant items.What software should you use? You will notice that choice of software comes after design of the\ndatabase.Too many researchers start with the software choice and\nthen their database design is inﬂuenced by what the software can\ndo, rather than what the software can do for them.There are also server-based databases, such as\nMySQL, Microsoft SQL Server or Oracle.These software packages\nare all very good and very powerful for multiuser projects with a\nnumber of interacting databases, but they are overkill for a\nresearch project such as the breast cancer tissue array project\ndescribed above.Although we have used Microsoft Access and\nFilemaker Pro in the past with success, the learning curve for using\nthese packages is relatively steep and the results are no better than\nusing our current preferred option which is Microsoft Excel.This\nspreadsheet application has enough database functions built into it\nto carry out all the necessary preprocessing before statistical\nanalysis of results in speciﬁc statistical software package, such as\nStatistical Package for Social Sciences (SPSS).It has the major\nadvantages of virtually no learning curve, if you already use its\nspreadsheet functions, no platform speciﬁcity (Microsoft Access\ndoes not run on Macintosh computers), accepts ﬁles from other\nsources in a wide range of formats, and does not allow the user to\nwaste time creating colourful graphical interfaces for entering data\nthat have no value to the project.We simply create a column for\neach data item and use a row for each case.The ‘Split Window’ and\n‘Freeze Panes’ functions (found under the Windows menu at the\ntop of the screen) allow the column headings and left-hand row\nlabels to remain on the screen all the time no matter how many\nrows or columns there are in the spreadsheet (see the Excel help\nﬁles for further details).We enter data directly into the spreadsheet\nwithout using any custom entry form, but it is easy to create one if\nyou feel that data entry would be cleaner by using one, e.g.if\nsomeone without specialist knowledge is entering the data for you.If you need multiuser entry, then a single spreadsheet be-\ncomes problematic because version control becomes very difﬁ-\ncult.In these circumstances, a server-based database is more\nuseful but it can be difﬁcult to arrange access from different in-\nstitutions.A more recent development is the availability of web-\nbased databases, which are accessible from any web browser and\nmake multiuser data entry very simple.The laboratory accession number is a simple illustrative\ncase (Tables 1 and 2).This number is usually in the form of the\nyear and then a single unique number issued in ascending order\nas specimens arrive.If such a\nnumber is entered into a single column in its usual format, e.g.Binary data\nitems, such as gender or lymph node status, are easier but there is\nstill a decision to be made as to whether to use strict mathematical\nbinary code or a more descriptive code.Gender could be coded as\n1 ¼ female and 0 ¼ male, but this is an arbitrary coding that is not\nmemorable to the data inputer.Unsorted\n\n2. Sorted\n\n3. Full year\nsorted\n\n4.4 Iversen A, Liddell K, Fear N, Hotopf M, Wessely S. Consent,\n\nconﬁdentiality and the data protection act.Practice points\n\nC Any research database should be anonymized as completely as is\n\nfeasible for the speciﬁc research project\n\nC A research database should always be part of a project approved\nby a research ethics committee and should be speciﬁed within the\nresearch protocol\n\nC A research database should comply with appropriate data pro-\n\ntection legislation, the Data Protection Act in the UK\n\nC The design of the database should be speciﬁed by the aims and\nobjectives of the research project and not by software capabilities\nC Care should be taken to code data items in a format that retains\nall potentially relevant information and which allows them to be\nselected and sorted in a consistent manner\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n153\n\n(cid:1) 2017 Published by Elsevier Ltd.",
          "time": 238.45466828346252,
          "input_token_size": 7415,
          "output_token_size": 369,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_278b4eeb",
        "created_at": 1750198893.329922,
        "processing_time": 241.2861135005951,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs",
        "reason": "shorter_provenance",
        "sentence_count": 190,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs",
            "sentence_count": 190,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.866837"
      }
    }
  },
  {
    "371a48b9": {
      "question": "What kind of diagram is recommended for mapping out data items?",
      "answer": "Mindmap diagram",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94
          ],
          "provenance_ids": [
            46,
            62,
            64,
            87,
            88,
            91,
            93,
            94
          ],
          "provenance": "It is usually better to change the date of\nbirth to a less speciﬁc age datum at the time of entering infor-\nmation into the database; age at diagnosis will probably give all\nthe information that is required.Design your database\n\nThe design of your database should reﬂect the design of your\nresearch project and it would be better to have all your aims and\nobjectives of the project clearly formulated and recorded before\nyou start to design your database.A good way to design your database is to take a blank\nsheet of A3 paper and sketch out all the data items you think you\nneed in a ‘spider’ (or ‘mindmap’) diagram with clusters of related\nitems.The ‘Split Window’ and\n‘Freeze Panes’ functions (found under the Windows menu at the\ntop of the screen) allow the column headings and left-hand row\nlabels to remain on the screen all the time no matter how many\nrows or columns there are in the spreadsheet (see the Excel help\nﬁles for further details).We enter data directly into the spreadsheet\nwithout using any custom entry form, but it is easy to create one if\nyou feel that data entry would be cleaner by using one, e.g.In these circumstances, a server-based database is more\nuseful but it can be difﬁcult to arrange access from different in-\nstitutions.The consideration with\nthese web-based databases is the security of the commercial\n\nproviders’ servers, but they are basing their business on a secure\nservice so the risk might be lower than for an ad-hoc server in an\nacademic institution.Coding your data\n\nYou will know which data items you want to include in your\ndatabase because you designed it before you touched the com-\nputer keyboard, but now you need to consider how you are going\nto code that data.",
          "time": 16.7334566116333,
          "input_token_size": 7599,
          "output_token_size": 11,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_371a48b9",
        "created_at": 1750198912.8575065,
        "processing_time": 18.785186290740967,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs",
        "reason": "shorter_provenance",
        "sentence_count": 95,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs",
            "sentence_count": 95,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.866837"
      }
    }
  },
  {
    "3789e2c2": {
      "question": "Where does the document suggest backing up databases?",
      "answer": "Data should be backed up to CDs or memory sticks, and institutions such as universities often provide automatic backup systems that store data at a geographically separate location.",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            163,
            164,
            165,
            166,
            167,
            168,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance_ids": [
            0,
            1,
            2,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            17,
            18,
            19,
            20,
            21,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            47,
            48,
            49,
            50,
            51,
            52,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            163,
            171,
            172,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance": "MINI-SYMPOSIUM: RESEARCH\n\nHow to design and use a\nresearch database\n\nSimon S Cross\n\nIan R Palmer\n\nTimothy J Stephenson\n\nAbstract\nThe vast majority of histopathology research projects based on a se-\nries of tissue samples will require a database to store and organize the\ndata.Most of these databases will be relatively simple standalone da-\ntabases that can be created in a spreadsheet application.However,\nthere are still some important considerations in the design of the data-\nbase and coding of the data that will make its subsequent use much\nmore time efﬁcient.Keywords anonymization; databases; histopathology\n\nIntroduction\n\nMost research projects need some method for recording and\nordering data.Sometimes this may be a complex system that\nautomatically links with other data sources, but in most cases it\nwill be a relatively simple standalone database for a single\nresearcher to maintain their research data.However, even though\nthis level of database may be relatively simple, it is still very\nimportant to give some thought to its design before starting to use\nit, as a well-designed database will make analysing results much\neasier, and a poorly-designed database can lead to much wasted\ntime which may even extend as far as having to re-enter data.What sort of database does your project need?At the start of a research project you need to make a simple\nassessment of what your database will need to do.If your\ninvolving\nresearch project\nseveral different centres and which requires data to be entered by\nseveral different personnel, then we hope you have budgeted for\n\nis a randomized controlled trial\n\nSimon S Cross MD FRCPath is Professor of Diagnostic Histopathology\nat the University of Shefﬁeld and an Honorary Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation,\nUK.Conﬂict of interest: There is no conﬂict of interest.Ian R Palmer BSc is the Faculty IT Manager (Medicine, Dentistry &\nHealth) and Faculty IT Liaison Corporate Information and Computing\nServices at the University of Shefﬁeld, Shefﬁeld, UK.Conﬂict of\ninterest: There is no conﬂict of interest.Timothy J Stephenson MA MD MBA FRCPath is a Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation\nTrust and Honorary Professor at the University of Shefﬁeld and\nShefﬁeld Hallam University, Shefﬁeld, UK.Conﬂict of interest: There\nis no conﬂict of interest.a dedicated database manager in your research grant because\nyou will need them!A more tractable project might be something like a\nnumber of different immunohistochemical stains performed on a\nretrospective series of 500 cases of breast cancer with histo-\npathological data (such as tumour size, grade, lymph node sta-\ntus) and clinical follow-up (e.g.time to last follow-up, recurrent\ndisease, death not due to breast cancer, death due to breast\ncancer).A database for a project such as this would be a\nreasonable proposition for a single researcher, such as a histo-\npathology trainee working on an PhD degree, and is the scale\nof database that we use all the time in our projects.1\n\nAnonymization, ethical and legal considerations\n\nAny research database should be anonymized to the highest level\nthat is compatible with the viability of the research project.The\nrecent high proﬁle cases in the media highlighting data losses by\nGovernment agencies has shown how easy it is for data in some\nformat (laptop, hard drive, data stick, and more recently insecure\nserver etc.)to be lost or stolen.2 It is likely that you will be\nmoving your data around between computers and it is probable\nthat you will be using a laptop computer, so for security con-\nsiderations alone the database should be anonymized.There are two main methods of anonymization e complete\nand linked.The most secure is complete anonymization where\nthe clinicopathological data are taken from their original source\nand entered into the research database with no linkage at all\nbetween the two.If all personal identiﬁers are excluded from the\nresearch database, then there should be no way of systematically\nidentifying patients from the data held in the research database (it\nshould, however, be noted that it might be possible to identify\noccasional individuals if they have very distinctive characteristics,\ne.g.a 16-year-old female living in city ‘x’ who was diagnosed with\nbreast cancer).The advantage of a totally anonymized database is\na lowering of the risk should it be lost or stolen.It obviously re-\nduces the risk of identiﬁcation of individuals to close to zero, but\nit does not eliminate the risk of media coverage should the lost\ndata be found somewhere inappropriate (the local newspaper\nheadline ‘Cancer patients’ data found on memory stick in car\npark’ could still be applied whether the data were anonymized or\nnot).The major disadvantage of a completely anonymized data-\nbase is that it is a static database that cannot be updated later if\nthere is a need for further data input.This may not be a problem\nfor many histopathology research projects (e.g.novel immuno-\nhistochemistry on a series of tumours) but is obviously not\ncompatible with projects with continuing patient follow-up.In linked anonymization there is some system that links the\nresearch database to identiﬁable patient data.One method of\nlinkage is to have a separate secure database that acts as a key\nbetween identiﬁable data records and the anonymized research\ndatabase.Such a database does not need to be electronic; it could\nsimply be a book with two entries on each line e the identiﬁable\ndata and the anonymized research accession number (often\nknown as the study number).Such a book could be kept securely\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n149\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nlocked in a ﬁling cabinet in a locked ofﬁce and access could be\nrestricted to a few named individuals involved in the research\nproject; often it will be a single named individual whose sole\npurpose is to provide linkage if requested.However, this method\ninvolves setting up a separate administration system with its own\nsecurity issues.A much simpler method is to use some identiﬁer\nwhich is not identiﬁable without access to some existing infor-\nmation system.This could be the patient’s hospital number but\nmany ethics committees regard this as relatively insecure\nbecause the patient’s hospital number could open access to a\nwhole range of information in many different hospital informa-\ntion systems (and the patient’s NHS number is even less secure\nand more informative).In histopathology we are fortunate in\nhaving the laboratory accession number which is a restrictive\nsuperﬁcially-anonymous identiﬁer that is only available to those\nwith access to the laboratory information computer system, and\nthat system is already heavily protected by individual password\nlogin, automatic timing out of terminals after a short period of\nnon-use, etc.If we are conducting a research study on archival\ndiagnostic surgical material, then we will probably be using\nslides labelled with the laboratory accession number and we are\nunlikely to anonymize that number because of the slide labelling\nproblems it would cause.At present the ethics committees that\nwe have passed applications through have been happy to use the\nlaboratory accession number to anonymize the samples and data\nin studies, although they have always required a statement on\nthe circumstances in which the investigators would go back to\nthe laboratory information system for more data.Such consid-\nerations always have to be made for any research project and are\nnot exclusively a feature of research databases.It still needs to be appreciated that simple personal data, such\nas name and address, are not the only items that can identify an\nindividual.The date of birth is quite a speciﬁc item and com-\nbined with other items in a database (e.g.a woman with breast\ncancer diagnosed in 2002) could provide a strong indication of an\nindividual’s identity.It should be noted that even when a database has been\n‘anonymized’ using relatively opaque linkage items, such as the\nlaboratory accession number, it is still not completely anony-\nmized because links can be made indirectly which could iden-\ntify the patient.Although this linked ‘anonymization’ will mini-\nmize the adverse effects of any data loss or unauthorized access\nto the data, the database is still legally regarded as personal data\nunder legislation such as the UK Data Protection Act.3,4 Under\nthis Act, only data essential to the study can be collected and they\ncan only be stored for as long as the study is active.This brings us to legal consideration as whether the database\nneeds to be registered under the terms of the Data Protection Act\nin the UK, or similar legislation in other countries.If there is no\nlinkage possible at all between the research database and per-\nsonal patient data, then it would not need to registered, but since\nthe act of creation of the database will involve some access to\npersonal data, then we would suggest that it does need regis-\ntration.In most UK institutions this is a simple process because\nthere will be an institutional Data Protection Ofﬁcer and the\ninstitution will be registered with the Government’s Information\n\nCommissioner, which will usually give generic registration for\ndatabases in that institution without the need for the registration\nof individual databases.However, you would need to check the\ndetails of your institution’s processes.if review of a\nseries of cases of mesothelioma showed that one of the cases\nappeared to be mesothelial hyperplasia rather than mesotheli-\noma.If there is complete anonymization, then this cannot apply.If there is linked anonymization, then it could apply and this\nneeds to be considered before the study commences.In most\nhistopathology research studies, the tissue being reviewed is only\na sample of the whole diagnostic material available on the case,\ne.g.a single block of breast cancer, so a full diagnostic review of\nthe case is not being carried out.The tissue is also being exam-\nined in a research context, e.g.a single core of tumour in a tissue\nmicroarray, where it is possible that there could have been some\ntransposition of laboratory accession numbers or rows and col-\numns in a spreadsheet and the risk of misidentiﬁcation would be\nslightly higher than in a fully functioning diagnostic histopa-\nthology laboratory.For these reasons, we include a statement in\nour ethics committee application stating that any discoveries are\nfor research purposes only and that there will be no retrograde\nﬂow of information back to patient records or individual patients.Design your database\n\nThe design of your database should reﬂect the design of your\nresearch project and it would be better to have all your aims and\nobjectives of the project clearly formulated and recorded before\nyou start to design your database.Sometimes, however, design of\nthe database and general objectives of the research project emerge\nconcurrently.A good way to design your database is to take a blank\nsheet of A3 paper and sketch out all the data items you think you\nneed in a ‘spider’ (or ‘mindmap’) diagram with clusters of related\nitems.This gets you away from a computer screen and a form\nformat, and allows you to look at all the data items with an over-\nview.It is worth spending some time doing this, possibly redraw-\ning the diagram if it becomes too cluttered by changes, because this\nis the most important stage of database design and time spent on\nthis stage will pay major dividends later in the process.You need to arrive at a design with all the data items that are\nessential for your project but no more than that.If you do not\ninclude essential data items at the start of the process, you will\ndiscover their absence later and then need to modify the database,\nand you may have to go through all your original data sources to\ninput the missing items.It is usually best to include individual raw\ndata items and use them to calculate derived data items within the\ndatabase.An example in breast cancer would be the Nottingham\nPrognostic Index.If you only include the Nottingham Prognostic\nIndex in your database as an aggregate measure of the potential\nprognostic behaviour of the tumour, then you will not have access\nto the tumour size, tumour grade and lymph node status in future\nanalyses.If you include those three items separately, then you can\ncreate a fourth derived data item that will automatically calculate\nthe Nottingham Prognostic Index from these items.If you only\nrecord axillary lymph node status in a case of breast cancer as\npositive or negative, then you will not have access to the total\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n150\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nnumber of positive lymph nodes, whereas if you record the total\nnumber of positive lymph nodes, you will be able to create\nanother automatically derived data item for overall lymph node\nstatus.The general rule is that data items cannot be split at a later\nstage, but they can be easily, and automatically, aggregated later,\nso it is best to create a database with the simplest raw data items\nincluded instead of derivative/aggregated data items.Any variable that in its raw state is a continuous variable (e.g.tumour size in millimetres) should be stored as that continuous\nvariable rather than a category (e.g. tumours between 5 and 10\nmm).You should of course ensure that all the data items in your\ndatabase are relevant to your project’s aims and objectives\nbecause it is a waste of resources (usually your time) to enter\nirrelevant items.What software should you use? You will notice that choice of software comes after design of the\ndatabase.Too many researchers start with the software choice and\nthen their database design is inﬂuenced by what the software can\ndo, rather than what the software can do for them.There are a\nnumber of popular database software packages on the market,\nsuch as Microsoft Access and Filemaker Pro, which run on indi-\nvidual computers.There are also server-based databases, such as\nMySQL, Microsoft SQL Server or Oracle.These software packages\nare all very good and very powerful for multiuser projects with a\nnumber of interacting databases, but they are overkill for a\nresearch project such as the breast cancer tissue array project\ndescribed above.Although we have used Microsoft Access and\nFilemaker Pro in the past with success, the learning curve for using\nthese packages is relatively steep and the results are no better than\nusing our current preferred option which is Microsoft Excel.This\nspreadsheet application has enough database functions built into it\nto carry out all the necessary preprocessing before statistical\nanalysis of results in speciﬁc statistical software package, such as\nStatistical Package for Social Sciences (SPSS).It has the major\nadvantages of virtually no learning curve, if you already use its\nspreadsheet functions, no platform speciﬁcity (Microsoft Access\ndoes not run on Macintosh computers), accepts ﬁles from other\nsources in a wide range of formats, and does not allow the user to\nwaste time creating colourful graphical interfaces for entering data\nthat have no value to the project.We simply create a column for\neach data item and use a row for each case.The ‘Split Window’ and\n‘Freeze Panes’ functions (found under the Windows menu at the\ntop of the screen) allow the column headings and left-hand row\nlabels to remain on the screen all the time no matter how many\nrows or columns there are in the spreadsheet (see the Excel help\nﬁles for further details).We enter data directly into the spreadsheet\nwithout using any custom entry form, but it is easy to create one if\nyou feel that data entry would be cleaner by using one, e.g.if\nsomeone without specialist knowledge is entering the data for you.If you need multiuser entry, then a single spreadsheet be-\ncomes problematic because version control becomes very difﬁ-\ncult.In these circumstances, a server-based database is more\nuseful but it can be difﬁcult to arrange access from different in-\nstitutions.A more recent development is the availability of web-\nbased databases, which are accessible from any web browser and\nmake multiuser data entry very simple.The consideration with\nthese web-based databases is the security of the commercial\n\nproviders’ servers, but they are basing their business on a secure\nservice so the risk might be lower than for an ad-hoc server in an\nacademic institution.Coding your data\n\nYou will know which data items you want to include in your\ndatabase because you designed it before you touched the com-\nputer keyboard, but now you need to consider how you are going\nto code that data.This only requires a bit of thought about how\nyou are going to sort and use the data but again if you code your\ndata in appropriate formats it will cause a lot of rework and delay\nlater.The laboratory accession number is a simple illustrative\ncase (Tables 1 and 2).This number is usually in the form of the\nyear and then a single unique number issued in ascending order\nas specimens arrive.There may also be a separate block number if\nthe specimen cannot be embedded in a single block.If such a\nnumber is entered into a single column in its usual format, e.g.08/23156/3E, it will be treated as text rather than a number in\nExcel and there can be a number of problems when sorting data\nfor analysis.Tables 1 and 2 illustrate these problems and show\nthat the best solution is to create separate columns for each\nelement of a multipart or mixed number/text item.Binary data\nitems, such as gender or lymph node status, are easier but there is\nstill a decision to be made as to whether to use strict mathematical\nbinary code or a more descriptive code.Gender could be coded as\n1 ¼ female and 0 ¼ male, but this is an arbitrary coding that is not\nmemorable to the data inputer.Coding as f ¼ female and m ¼\nmale is memorable and so far lower rates of errors are likely\nduring the inputting of the data, i.e.make the purest possible\ntransformations of data.It is a very simple automated ‘ﬁnd and\nreplace’ function to convert these to true mathematical binary\nitems for statistical analysis.It is well worth keeping descriptive\ncodings as short as possible, because this reduces the number of\nkeystrokes when entering data.The autoﬁll function of Excel is\n\nCoding the laboratory accession number.If entered in\nthe format in column 1 the accession number sorts to the\norder in column 2 e the year order is incorrect because\nthe full year was not included.With the full year added\nand sorted, column 3, there is still a problem with the\norder of the second and third rows because zeros before\nthe accession number have not been added to numbers\nwith fewer than ﬁve digits.When this has been done,\ncolumn 4, the numbers now do sort into the correct time\norder but a better method is shown in Table 2\n\n1.Unsorted\n\n2. Sorted\n\n3. Full year\nsorted\n\n4.Full year and\npreceeding zeros\nsorted\n\n98/1119/3E\n02/34001/4F\n99/1231/2F\n00/32754/1A\n03/4567/8G\n99/12237/4D\n\n00/32754/1A\n02/34001/4F\n03/4567/8G\n98/1119/3E\n99/1231/2F\n99/12237/4D\n\n1998/1119/3E\n1999/12237/4D\n1999/1231/2F\n2000/32754/1A\n2002/34001/4F\n2003/4567/8G\n\n1998/01119/3E\n1999/01231/2F\n1999/12237/4D\n2000/32754/1A\n2002/34001/4F\n2003/04567/8G\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\nTable 1\n\n151\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nThis shows a better method for coding the laboratory\naccession number by creating a separate column for\neach element of the number.Note that in this case\npreceding zeros do not need to be included as the Excel\nsoftware is treating the numbers as actual numbers\nrather than text, as in Table 1.If you are using a single\nrepresentative section from a multipart specimen, e.g.a\nrepresentative block of breast cancer from a mastectomy\nspecimen, then always remember to include the speciﬁc\nblock number in the database, otherwise future studies\nmay have to retrieve all the slides for the case (speciﬁed\nby the year and accession number) and look at these to\nselect the representative block again e a huge amount\nof rework for no gain in value\n\nNumber\n\n1119\n1231\n12237\n32754\n34001\n4567\n\nPart\n\n3E\n2F\n4D\n1A\n4F\n8G\n\nYear\n\n1998\n1999\n1999\n2000\n2002\n2003\n\nTable 2\n\nuseful and can be optimized by choosing different ﬁrst letters for\nas many different items as possible.An example for breast cancer\nthat we have used is tumour type, where d ¼ ductal, l ¼ lobular, t\n¼ tubular, me ¼ medullary, mu ¼ mucinous, etc.It should be\nnoted that when entering text into Excel it will be case-sensitive in\nany manipulations, such as grouping or pivot data tables, so it is\nbest to use lower case letter throughout, which also reduces\nkeystrokes by not using the Shift key.Importing items into your database\n\nIf some of the data you wish to have in your database exist in\nanother database, it may be possible to import them into your\ndatabase instead of having to key them all in.The ﬁrst thing to\nensure is that the data in the other database are ‘clean’ (i.e.consistently formatted) and veriﬁed.People often volunteer data\nfrom a database which on closer examinations contains many\nformatting inconsistencies, e.g.‘yes’ coded as ‘y’, ‘Y’ or ‘1’ for a\nsingle data ﬁeld, and it then is better to start again with the\noriginal source data.Another common feature of processes\ndesigned to port data from one database to another is that IT\nprofessionals want to write complicated interface programmes\nwhich take weeks or months to develop.The easiest method we have\nfound is to perform a search on the existing database to select the\nrecords that we want to import and then export those in a format\nthat Excel can read.Often the parent database will be able to\nexport in Excel format but comma or tab-delimited text is just as\nacceptable and causes no extra work.Once in Excel the imported\ndata can be quickly sorted and formatted as required.It should be\nnoted that it is best to import as the ﬁrst stage of creating your\n\nresearch database, rather than trying to add the imported data to\nan existing database which may be more problematic.Calculating derived data items within your database\n\nAs noted above it is often easier (and certainly more accurate) to\ncalculate some derived data items from raw source data items\nwithin the database.This can be done using Excel’s calculation\nfunctions and the reader is referred to Excel help ﬁles or\ninstructional books for the details of this.5 Obviously some cal-\nculations are easier than others.If your raw data item is the\nmaximum diameter of a breast cancer in millimetres and you\nwant to convert that to centimetres in the calculation of the\nNottingham Prognostic Index, then you would simply set up a\nformula such: ¼ A23/10 where A23 is the index of the cell\ncontaining the measurement in millimetres.It is a simple matter\nto propagate that formula down the whole column for size in\ncentimetres by using the ‘Fill’ ‘Down’ functions from the Edit\nmenu.Deriving the lymph node status component for the Not-\ntingham Prognostic Index from the total number of positive\nlymph nodes would be more complicated but the conditional\noperators exist in Excel to allow this, e.g.¼ IF(A23 > 3,2,0), and\nautomatic help boxes make this very easy (click the calculator\nsymbol on the Excel toolbar just to the right of the green tick\nsymbol).It should be noted that these calculated values only\nexist when the other items from which they are derived are still\npresent in the datasheet.If for any reason, such as reducing data\ndown to the core items for statistical analysis, you are going to\nremove columns from the datasheet, you must select the whole\ndatasheet, copy it and then paste it back in the same cells using\nthe Paste Special function and selecting Values.You will then\nhave a sheet in which each cell is an independent number not\ndependent on any other cell.Obviously, you should only do this\nwhen you have ﬁnished entering all the data and are ready for\ndata analysis, and you should immediately save this sheet in a\ndifferent name from the original database sheet.Verifying your data\n\nOnce you have input your data you need to make some assess-\nment of the veracity of that data.It is remarkable how many\nerrors are introduced during data entry that need to be corrected\nbefore the database is usable.Excel has some useful functions\nthat make debugging the database relatively easy.One method is\nto ensure that you have saved the database and then try sorting\nthe data in many different ways.Go to ‘Sort’ under the ‘Data’\nmenu and select any single column as the sorting factor and\nperform the sort.Now scroll through the database sheet looking\nat the column you sorted by, especially at the top and bottom of\nthe sorted sheet, and you can see all sorts of data entry errors\nfrom completely blank cells through to mispellings or duplicated\nsymbols.You could repeat these sorts for each column to check\nfor further errors in other columns.A similar, but possibly easier,\nmethod is to use the Autoﬁlter function.Highlight the complete\nsheet (by clicking the diamond symbol in the top left cell of the\nsheet), from the Data menu select the Filter option and then\nselect the Autoﬁlter option.At the top of each column there will\nnow appear an up and down arrow symbol; clicking on this\nproduces a list of all the different occurrences of data items in\nthat column, making it very easy to see errors such as ‘Y’ instead\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n152\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nof ‘y’.When all the obvious typing errors have been corrected, it\nwould be wise to perform an audit, checking perhaps 10% of the\ncase records with their original source data to check that there\nare no systematic data entry errors.Backing up your database\n\nData only exists when it is stored in two places e this widespread\ndictum is never more true than for databases.If you are going to\nspend many hours entering data into a database, then you need to\nhave a reliable system of back-up.The best systems are automatic\nand store the data at a geographically separate location; institutions\nsuch as universities often provide such systems for their members.Excel-based databases produce ﬁles which are very manageable in\nsize and can easily be backed up to CDs or memory sticks, but be\nmindful of security issues even with a completely anonymized\ndatabase (which would still cause media interest if found in an\ninappropriate place) and keep the copies in secure locations.Many\nNHS institutions are now so wary of data loss through sources such\nas memory sticks, that they are considering disabling USB ports on\ntheir computers so automated back-ups onto servers within the\ninstitution’s ﬁrewall may well become the norm.Again, you must remember to\nsave the spreadsheet with a different ﬁlename before beginning\ndata preprocessing, as it will destroy some of the data, or\ncertainly its format.On\nMacintosh computers TapForms6 appears to be the current market\nleader and is extremely easy to use.On PCs Microsoft Ofﬁce One-\nNote (available as part of the MS Ofﬁce 2016 Ofﬁce Suite) is a\ncomprehensive electronic documentation application that allows\norganization and storage of information from a wide range of\nsources.7 It also allows resources to be shared securely with project\ncollaborators via the internet.BMJ 2006; 332: 165e9. 5 Walkenbach J. Excel 2016 bible.Hoboken, New Jersey: John Wiley\n\n& Sons, 2015. June 2017). 6 TapForms.Avaliable at: https://www.tapforms.com/ (accessed 4\n\n7 Microsoft Ofﬁce OneNote.Avaliable at: https://www.onenote.com/\n\n(accessed 4 June 2017).Practice points\n\nC Any research database should be anonymized as completely as is\n\nfeasible for the speciﬁc research project\n\nC A research database should always be part of a project approved\nby a research ethics committee and should be speciﬁed within the\nresearch protocol\n\nC A research database should comply with appropriate data pro-\n\ntection legislation, the Data Protection Act in the UK\n\nC The design of the database should be speciﬁed by the aims and\nobjectives of the research project and not by software capabilities\nC Care should be taken to code data items in a format that retains\nall potentially relevant information and which allows them to be\nselected and sorted in a consistent manner\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n153\n\n(cid:1) 2017 Published by Elsevier Ltd.",
          "time": 183.08521246910095,
          "input_token_size": 7413,
          "output_token_size": 27,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_3789e2c2",
        "created_at": 1750198959.0421,
        "processing_time": 188.00377345085144,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs",
        "reason": "shorter_provenance",
        "sentence_count": 190,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs",
            "sentence_count": 190,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.866837"
      }
    }
  },
  {
    "39b9b603": {
      "question": "What ethical and legal considerations are discussed in the document?",
      "answer": "1. Anonymization\n2. Local ethics committee approval\n3. Transmission of personal medical data\n4. Complete and linked anonymization methods\n5. UK Data Protection Act\n6. Registration of the database under data protection legislation\n7. Duty of disclosure in case of misdiagnosis or mistreatment\n8. Consideration of personal data beyond name and address\n9. Ethical concerns regarding data loss and unauthorized access\n10. Compliance with data protection legislation",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            163,
            164,
            165,
            166,
            167,
            168,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            163,
            164,
            165,
            166,
            167,
            168,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance": "MINI-SYMPOSIUM: RESEARCH\n\nHow to design and use a\nresearch database\n\nSimon S Cross\n\nIan R Palmer\n\nTimothy J Stephenson\n\nAbstract\nThe vast majority of histopathology research projects based on a se-\nries of tissue samples will require a database to store and organize the\ndata.Most of these databases will be relatively simple standalone da-\ntabases that can be created in a spreadsheet application.However,\nthere are still some important considerations in the design of the data-\nbase and coding of the data that will make its subsequent use much\nmore time efﬁcient.This article reviews the scope of databases for\ncommon histopathology research projects, the ethical and legal con-\nsiderations, design of the database structure, coding of data items,\nand import and export of data from databases.Keywords anonymization; databases; histopathology\n\nIntroduction\n\nMost research projects need some method for recording and\nordering data.Sometimes this may be a complex system that\nautomatically links with other data sources, but in most cases it\nwill be a relatively simple standalone database for a single\nresearcher to maintain their research data.However, even though\nthis level of database may be relatively simple, it is still very\nimportant to give some thought to its design before starting to use\nit, as a well-designed database will make analysing results much\neasier, and a poorly-designed database can lead to much wasted\ntime which may even extend as far as having to re-enter data.What sort of database does your project need?At the start of a research project you need to make a simple\nassessment of what your database will need to do.If your\ninvolving\nresearch project\nseveral different centres and which requires data to be entered by\nseveral different personnel, then we hope you have budgeted for\n\nis a randomized controlled trial\n\nSimon S Cross MD FRCPath is Professor of Diagnostic Histopathology\nat the University of Shefﬁeld and an Honorary Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation,\nUK.Conﬂict of interest: There is no conﬂict of interest.Ian R Palmer BSc is the Faculty IT Manager (Medicine, Dentistry &\nHealth) and Faculty IT Liaison Corporate Information and Computing\nServices at the University of Shefﬁeld, Shefﬁeld, UK.Conﬂict of\ninterest: There is no conﬂict of interest.Timothy J Stephenson MA MD MBA FRCPath is a Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation\nTrust and Honorary Professor at the University of Shefﬁeld and\nShefﬁeld Hallam University, Shefﬁeld, UK.Conﬂict of interest: There\nis no conﬂict of interest.a dedicated database manager in your research grant because\nyou will need them!Such a database is well outside the scope of\nthis paper.A more tractable project might be something like a\nnumber of different immunohistochemical stains performed on a\nretrospective series of 500 cases of breast cancer with histo-\npathological data (such as tumour size, grade, lymph node sta-\ntus) and clinical follow-up (e.g.time to last follow-up, recurrent\ndisease, death not due to breast cancer, death due to breast\ncancer).A database for a project such as this would be a\nreasonable proposition for a single researcher, such as a histo-\npathology trainee working on an PhD degree, and is the scale\nof database that we use all the time in our projects.1\n\nAnonymization, ethical and legal considerations\n\nAny research database should be anonymized to the highest level\nthat is compatible with the viability of the research project.The\nrecent high proﬁle cases in the media highlighting data losses by\nGovernment agencies has shown how easy it is for data in some\nformat (laptop, hard drive, data stick, and more recently insecure\nserver etc.)to be lost or stolen.2 It is likely that you will be\nmoving your data around between computers and it is probable\nthat you will be using a laptop computer, so for security con-\nsiderations alone the database should be anonymized.Any\nresearch project will require local ethics committee approval, and\nmost ethics committees are rightly concerned about the trans-\nmission of personal medical data and usually insist that any\nresearch databases are anonymized.There are two main methods of anonymization e complete\nand linked.The most secure is complete anonymization where\nthe clinicopathological data are taken from their original source\nand entered into the research database with no linkage at all\nbetween the two.If all personal identiﬁers are excluded from the\nresearch database, then there should be no way of systematically\nidentifying patients from the data held in the research database (it\nshould, however, be noted that it might be possible to identify\noccasional individuals if they have very distinctive characteristics,\ne.g.a 16-year-old female living in city ‘x’ who was diagnosed with\nbreast cancer).The advantage of a totally anonymized database is\na lowering of the risk should it be lost or stolen.It obviously re-\nduces the risk of identiﬁcation of individuals to close to zero, but\nit does not eliminate the risk of media coverage should the lost\ndata be found somewhere inappropriate (the local newspaper\nheadline ‘Cancer patients’ data found on memory stick in car\npark’ could still be applied whether the data were anonymized or\nnot).The major disadvantage of a completely anonymized data-\nbase is that it is a static database that cannot be updated later if\nthere is a need for further data input.This may not be a problem\nfor many histopathology research projects (e.g.novel immuno-\nhistochemistry on a series of tumours) but is obviously not\ncompatible with projects with continuing patient follow-up.In linked anonymization there is some system that links the\nresearch database to identiﬁable patient data.One method of\nlinkage is to have a separate secure database that acts as a key\nbetween identiﬁable data records and the anonymized research\ndatabase.Such a database does not need to be electronic; it could\nsimply be a book with two entries on each line e the identiﬁable\ndata and the anonymized research accession number (often\nknown as the study number).Such a book could be kept securely\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n149\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nlocked in a ﬁling cabinet in a locked ofﬁce and access could be\nrestricted to a few named individuals involved in the research\nproject; often it will be a single named individual whose sole\npurpose is to provide linkage if requested.However, this method\ninvolves setting up a separate administration system with its own\nsecurity issues.A much simpler method is to use some identiﬁer\nwhich is not identiﬁable without access to some existing infor-\nmation system.This could be the patient’s hospital number but\nmany ethics committees regard this as relatively insecure\nbecause the patient’s hospital number could open access to a\nwhole range of information in many different hospital informa-\ntion systems (and the patient’s NHS number is even less secure\nand more informative).In histopathology we are fortunate in\nhaving the laboratory accession number which is a restrictive\nsuperﬁcially-anonymous identiﬁer that is only available to those\nwith access to the laboratory information computer system, and\nthat system is already heavily protected by individual password\nlogin, automatic timing out of terminals after a short period of\nnon-use, etc.If we are conducting a research study on archival\ndiagnostic surgical material, then we will probably be using\nslides labelled with the laboratory accession number and we are\nunlikely to anonymize that number because of the slide labelling\nproblems it would cause.At present the ethics committees that\nwe have passed applications through have been happy to use the\nlaboratory accession number to anonymize the samples and data\nin studies, although they have always required a statement on\nthe circumstances in which the investigators would go back to\nthe laboratory information system for more data.Such consid-\nerations always have to be made for any research project and are\nnot exclusively a feature of research databases.It still needs to be appreciated that simple personal data, such\nas name and address, are not the only items that can identify an\nindividual.The date of birth is quite a speciﬁc item and com-\nbined with other items in a database (e.g.a woman with breast\ncancer diagnosed in 2002) could provide a strong indication of an\nindividual’s identity.It is usually better to change the date of\nbirth to a less speciﬁc age datum at the time of entering infor-\nmation into the database; age at diagnosis will probably give all\nthe information that is required.It should be noted that even when a database has been\n‘anonymized’ using relatively opaque linkage items, such as the\nlaboratory accession number, it is still not completely anony-\nmized because links can be made indirectly which could iden-\ntify the patient.Although this linked ‘anonymization’ will mini-\nmize the adverse effects of any data loss or unauthorized access\nto the data, the database is still legally regarded as personal data\nunder legislation such as the UK Data Protection Act.3,4 Under\nthis Act, only data essential to the study can be collected and they\ncan only be stored for as long as the study is active.This brings us to legal consideration as whether the database\nneeds to be registered under the terms of the Data Protection Act\nin the UK, or similar legislation in other countries.If there is no\nlinkage possible at all between the research database and per-\nsonal patient data, then it would not need to registered, but since\nthe act of creation of the database will involve some access to\npersonal data, then we would suggest that it does need regis-\ntration.In most UK institutions this is a simple process because\nthere will be an institutional Data Protection Ofﬁcer and the\ninstitution will be registered with the Government’s Information\n\nCommissioner, which will usually give generic registration for\ndatabases in that institution without the need for the registration\nof individual databases.However, you would need to check the\ndetails of your institution’s processes.A further medicolegal consideration is the duty of disclosure\nthat could occur if review of a case with identiﬁable data showed\nthat there was a misdiagnosis or mistreatment, e.g.if review of a\nseries of cases of mesothelioma showed that one of the cases\nappeared to be mesothelial hyperplasia rather than mesotheli-\noma.If there is complete anonymization, then this cannot apply.If there is linked anonymization, then it could apply and this\nneeds to be considered before the study commences.In most\nhistopathology research studies, the tissue being reviewed is only\na sample of the whole diagnostic material available on the case,\ne.g.a single block of breast cancer, so a full diagnostic review of\nthe case is not being carried out.The tissue is also being exam-\nined in a research context, e.g.a single core of tumour in a tissue\nmicroarray, where it is possible that there could have been some\ntransposition of laboratory accession numbers or rows and col-\numns in a spreadsheet and the risk of misidentiﬁcation would be\nslightly higher than in a fully functioning diagnostic histopa-\nthology laboratory.For these reasons, we include a statement in\nour ethics committee application stating that any discoveries are\nfor research purposes only and that there will be no retrograde\nﬂow of information back to patient records or individual patients.Design your database\n\nThe design of your database should reﬂect the design of your\nresearch project and it would be better to have all your aims and\nobjectives of the project clearly formulated and recorded before\nyou start to design your database.Sometimes, however, design of\nthe database and general objectives of the research project emerge\nconcurrently.This gets you away from a computer screen and a form\nformat, and allows you to look at all the data items with an over-\nview.It is worth spending some time doing this, possibly redraw-\ning the diagram if it becomes too cluttered by changes, because this\nis the most important stage of database design and time spent on\nthis stage will pay major dividends later in the process.You need to arrive at a design with all the data items that are\nessential for your project but no more than that.If you do not\ninclude essential data items at the start of the process, you will\ndiscover their absence later and then need to modify the database,\nand you may have to go through all your original data sources to\ninput the missing items.It is usually best to include individual raw\ndata items and use them to calculate derived data items within the\ndatabase.An example in breast cancer would be the Nottingham\nPrognostic Index.If you only include the Nottingham Prognostic\nIndex in your database as an aggregate measure of the potential\nprognostic behaviour of the tumour, then you will not have access\nto the tumour size, tumour grade and lymph node status in future\nanalyses.If you include those three items separately, then you can\ncreate a fourth derived data item that will automatically calculate\nthe Nottingham Prognostic Index from these items.If you only\nrecord axillary lymph node status in a case of breast cancer as\npositive or negative, then you will not have access to the total\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n150\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nnumber of positive lymph nodes, whereas if you record the total\nnumber of positive lymph nodes, you will be able to create\nanother automatically derived data item for overall lymph node\nstatus.The general rule is that data items cannot be split at a later\nstage, but they can be easily, and automatically, aggregated later,\nso it is best to create a database with the simplest raw data items\nincluded instead of derivative/aggregated data items.Any variable that in its raw state is a continuous variable (e.g.tumour size in millimetres) should be stored as that continuous\nvariable rather than a category (e.g. tumours between 5 and 10\nmm).You should of course ensure that all the data items in your\ndatabase are relevant to your project’s aims and objectives\nbecause it is a waste of resources (usually your time) to enter\nirrelevant items.What software should you use? You will notice that choice of software comes after design of the\ndatabase.Too many researchers start with the software choice and\nthen their database design is inﬂuenced by what the software can\ndo, rather than what the software can do for them.There are a\nnumber of popular database software packages on the market,\nsuch as Microsoft Access and Filemaker Pro, which run on indi-\nvidual computers.There are also server-based databases, such as\nMySQL, Microsoft SQL Server or Oracle.These software packages\nare all very good and very powerful for multiuser projects with a\nnumber of interacting databases, but they are overkill for a\nresearch project such as the breast cancer tissue array project\ndescribed above.Although we have used Microsoft Access and\nFilemaker Pro in the past with success, the learning curve for using\nthese packages is relatively steep and the results are no better than\nusing our current preferred option which is Microsoft Excel.This\nspreadsheet application has enough database functions built into it\nto carry out all the necessary preprocessing before statistical\nanalysis of results in speciﬁc statistical software package, such as\nStatistical Package for Social Sciences (SPSS).It has the major\nadvantages of virtually no learning curve, if you already use its\nspreadsheet functions, no platform speciﬁcity (Microsoft Access\ndoes not run on Macintosh computers), accepts ﬁles from other\nsources in a wide range of formats, and does not allow the user to\nwaste time creating colourful graphical interfaces for entering data\nthat have no value to the project.We simply create a column for\neach data item and use a row for each case.The ‘Split Window’ and\n‘Freeze Panes’ functions (found under the Windows menu at the\ntop of the screen) allow the column headings and left-hand row\nlabels to remain on the screen all the time no matter how many\nrows or columns there are in the spreadsheet (see the Excel help\nﬁles for further details).We enter data directly into the spreadsheet\nwithout using any custom entry form, but it is easy to create one if\nyou feel that data entry would be cleaner by using one, e.g.if\nsomeone without specialist knowledge is entering the data for you.If you need multiuser entry, then a single spreadsheet be-\ncomes problematic because version control becomes very difﬁ-\ncult.In these circumstances, a server-based database is more\nuseful but it can be difﬁcult to arrange access from different in-\nstitutions.A more recent development is the availability of web-\nbased databases, which are accessible from any web browser and\nmake multiuser data entry very simple.The consideration with\nthese web-based databases is the security of the commercial\n\nproviders’ servers, but they are basing their business on a secure\nservice so the risk might be lower than for an ad-hoc server in an\nacademic institution.Coding your data\n\nYou will know which data items you want to include in your\ndatabase because you designed it before you touched the com-\nputer keyboard, but now you need to consider how you are going\nto code that data.This only requires a bit of thought about how\nyou are going to sort and use the data but again if you code your\ndata in appropriate formats it will cause a lot of rework and delay\nlater.The laboratory accession number is a simple illustrative\ncase (Tables 1 and 2).This number is usually in the form of the\nyear and then a single unique number issued in ascending order\nas specimens arrive.There may also be a separate block number if\nthe specimen cannot be embedded in a single block.If such a\nnumber is entered into a single column in its usual format, e.g.08/23156/3E, it will be treated as text rather than a number in\nExcel and there can be a number of problems when sorting data\nfor analysis.Tables 1 and 2 illustrate these problems and show\nthat the best solution is to create separate columns for each\nelement of a multipart or mixed number/text item.Binary data\nitems, such as gender or lymph node status, are easier but there is\nstill a decision to be made as to whether to use strict mathematical\nbinary code or a more descriptive code.Gender could be coded as\n1 ¼ female and 0 ¼ male, but this is an arbitrary coding that is not\nmemorable to the data inputer.Coding as f ¼ female and m ¼\nmale is memorable and so far lower rates of errors are likely\nduring the inputting of the data, i.e.make the purest possible\ntransformations of data.It is a very simple automated ‘ﬁnd and\nreplace’ function to convert these to true mathematical binary\nitems for statistical analysis.It is well worth keeping descriptive\ncodings as short as possible, because this reduces the number of\nkeystrokes when entering data.The autoﬁll function of Excel is\n\nCoding the laboratory accession number.If entered in\nthe format in column 1 the accession number sorts to the\norder in column 2 e the year order is incorrect because\nthe full year was not included.With the full year added\nand sorted, column 3, there is still a problem with the\norder of the second and third rows because zeros before\nthe accession number have not been added to numbers\nwith fewer than ﬁve digits.When this has been done,\ncolumn 4, the numbers now do sort into the correct time\norder but a better method is shown in Table 2\n\n1.Unsorted\n\n2. Sorted\n\n3. Full year\nsorted\n\n4.Full year and\npreceeding zeros\nsorted\n\n98/1119/3E\n02/34001/4F\n99/1231/2F\n00/32754/1A\n03/4567/8G\n99/12237/4D\n\n00/32754/1A\n02/34001/4F\n03/4567/8G\n98/1119/3E\n99/1231/2F\n99/12237/4D\n\n1998/1119/3E\n1999/12237/4D\n1999/1231/2F\n2000/32754/1A\n2002/34001/4F\n2003/4567/8G\n\n1998/01119/3E\n1999/01231/2F\n1999/12237/4D\n2000/32754/1A\n2002/34001/4F\n2003/04567/8G\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\nTable 1\n\n151\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nThis shows a better method for coding the laboratory\naccession number by creating a separate column for\neach element of the number.Note that in this case\npreceding zeros do not need to be included as the Excel\nsoftware is treating the numbers as actual numbers\nrather than text, as in Table 1.If you are using a single\nrepresentative section from a multipart specimen, e.g.a\nrepresentative block of breast cancer from a mastectomy\nspecimen, then always remember to include the speciﬁc\nblock number in the database, otherwise future studies\nmay have to retrieve all the slides for the case (speciﬁed\nby the year and accession number) and look at these to\nselect the representative block again e a huge amount\nof rework for no gain in value\n\nNumber\n\n1119\n1231\n12237\n32754\n34001\n4567\n\nPart\n\n3E\n2F\n4D\n1A\n4F\n8G\n\nYear\n\n1998\n1999\n1999\n2000\n2002\n2003\n\nTable 2\n\nuseful and can be optimized by choosing different ﬁrst letters for\nas many different items as possible.An example for breast cancer\nthat we have used is tumour type, where d ¼ ductal, l ¼ lobular, t\n¼ tubular, me ¼ medullary, mu ¼ mucinous, etc.It should be\nnoted that when entering text into Excel it will be case-sensitive in\nany manipulations, such as grouping or pivot data tables, so it is\nbest to use lower case letter throughout, which also reduces\nkeystrokes by not using the Shift key.Importing items into your database\n\nIf some of the data you wish to have in your database exist in\nanother database, it may be possible to import them into your\ndatabase instead of having to key them all in.The ﬁrst thing to\nensure is that the data in the other database are ‘clean’ (i.e.consistently formatted) and veriﬁed.People often volunteer data\nfrom a database which on closer examinations contains many\nformatting inconsistencies, e.g.‘yes’ coded as ‘y’, ‘Y’ or ‘1’ for a\nsingle data ﬁeld, and it then is better to start again with the\noriginal source data.Another common feature of processes\ndesigned to port data from one database to another is that IT\nprofessionals want to write complicated interface programmes\nwhich take weeks or months to develop.Whilst these are essential\nfor databases that port data between themselves on a frequent,\nrecurrent basis, this is usually completely unnecessary for a\nstandalone research database, which usually only requires a sin-\ngle transfer at a single point in time.The easiest method we have\nfound is to perform a search on the existing database to select the\nrecords that we want to import and then export those in a format\nthat Excel can read.Often the parent database will be able to\nexport in Excel format but comma or tab-delimited text is just as\nacceptable and causes no extra work.Once in Excel the imported\ndata can be quickly sorted and formatted as required.It should be\nnoted that it is best to import as the ﬁrst stage of creating your\n\nresearch database, rather than trying to add the imported data to\nan existing database which may be more problematic.Calculating derived data items within your database\n\nAs noted above it is often easier (and certainly more accurate) to\ncalculate some derived data items from raw source data items\nwithin the database.This can be done using Excel’s calculation\nfunctions and the reader is referred to Excel help ﬁles or\ninstructional books for the details of this.5 Obviously some cal-\nculations are easier than others.If your raw data item is the\nmaximum diameter of a breast cancer in millimetres and you\nwant to convert that to centimetres in the calculation of the\nNottingham Prognostic Index, then you would simply set up a\nformula such: ¼ A23/10 where A23 is the index of the cell\ncontaining the measurement in millimetres.It is a simple matter\nto propagate that formula down the whole column for size in\ncentimetres by using the ‘Fill’ ‘Down’ functions from the Edit\nmenu.Deriving the lymph node status component for the Not-\ntingham Prognostic Index from the total number of positive\nlymph nodes would be more complicated but the conditional\noperators exist in Excel to allow this, e.g.¼ IF(A23 > 3,2,0), and\nautomatic help boxes make this very easy (click the calculator\nsymbol on the Excel toolbar just to the right of the green tick\nsymbol).It should be noted that these calculated values only\nexist when the other items from which they are derived are still\npresent in the datasheet.If for any reason, such as reducing data\ndown to the core items for statistical analysis, you are going to\nremove columns from the datasheet, you must select the whole\ndatasheet, copy it and then paste it back in the same cells using\nthe Paste Special function and selecting Values.You will then\nhave a sheet in which each cell is an independent number not\ndependent on any other cell.Obviously, you should only do this\nwhen you have ﬁnished entering all the data and are ready for\ndata analysis, and you should immediately save this sheet in a\ndifferent name from the original database sheet.Verifying your data\n\nOnce you have input your data you need to make some assess-\nment of the veracity of that data.It is remarkable how many\nerrors are introduced during data entry that need to be corrected\nbefore the database is usable.Excel has some useful functions\nthat make debugging the database relatively easy.One method is\nto ensure that you have saved the database and then try sorting\nthe data in many different ways.Go to ‘Sort’ under the ‘Data’\nmenu and select any single column as the sorting factor and\nperform the sort.Now scroll through the database sheet looking\nat the column you sorted by, especially at the top and bottom of\nthe sorted sheet, and you can see all sorts of data entry errors\nfrom completely blank cells through to mispellings or duplicated\nsymbols.You could repeat these sorts for each column to check\nfor further errors in other columns.Highlight the complete\nsheet (by clicking the diamond symbol in the top left cell of the\nsheet), from the Data menu select the Filter option and then\nselect the Autoﬁlter option.At the top of each column there will\nnow appear an up and down arrow symbol; clicking on this\nproduces a list of all the different occurrences of data items in\nthat column, making it very easy to see errors such as ‘Y’ instead\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n152\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nof ‘y’.When all the obvious typing errors have been corrected, it\nwould be wise to perform an audit, checking perhaps 10% of the\ncase records with their original source data to check that there\nare no systematic data entry errors.Backing up your database\n\nData only exists when it is stored in two places e this widespread\ndictum is never more true than for databases.If you are going to\nspend many hours entering data into a database, then you need to\nhave a reliable system of back-up.The best systems are automatic\nand store the data at a geographically separate location; institutions\nsuch as universities often provide such systems for their members.Excel-based databases produce ﬁles which are very manageable in\nsize and can easily be backed up to CDs or memory sticks, but be\nmindful of security issues even with a completely anonymized\ndatabase (which would still cause media interest if found in an\ninappropriate place) and keep the copies in secure locations.Many\nNHS institutions are now so wary of data loss through sources such\nas memory sticks, that they are considering disabling USB ports on\ntheir computers so automated back-ups onto servers within the\ninstitution’s ﬁrewall may well become the norm.Exporting data for analysis\n\nThe function of a database is to store and order data for a\nresearch project that can then be analysed.By using Excel as the\ndatabase software, many statistical functions and analysis can be\nused directly within Excel.However more sophisticated analyses\nwill require preprocessing and export to other programmes such\nas SSPS.The preprocessing will mainly consist of converting\ndescriptive variables into numerical values, e.g.‘f’ to ‘1’, which\nis easily done using the search and replace functions of Excel.The labels of the columns may have to be shortened to be read by\nsome statistical programmes, e.g.SPSS will only read the ﬁrst\neight characters of variable names.Again, you must remember to\nsave the spreadsheet with a different ﬁlename before beginning\ndata preprocessing, as it will destroy some of the data, or\ncertainly its format.Most specialist statistical programmes, such\nas SPSS, will read Excel ﬁles but data can be output in comma- or\ntab-delimited text from Excel if necessary.Research notes ‘database’\n\nAny researcher 15 years ago would have had supplementary ‘da-\ntabases’ for their research projects, usually an index box with cards\nwith the authors and title of published papers and a number that\nreferred to a folder in a ﬁling cabinet.They might also have had a\nbound book with notes, or possibly a pile of loose papers with\nvarious notes e they still might have those on their desk today.A\nsupervised researcher working in a well-organized laboratory\nshould still have a bound book as a record of their experiments and\nprimary data, but there are now more useful ways of storing other\ninformation than a pile of loose papers.The widespread availability\nof electronic PDF versions of published paper and the information\ndisplayed on numerous authoritative websites has widened the\nscope for electronic databases of collected research ‘notes’.These\nshould be much easier to search, can have direct links to PDF ﬁles\nstored on the computer and direct links to relevant websites, and\ncould signiﬁcantly improve a researcher’s productivity.A number\n\nof software programmes that perform this task are available.On\nMacintosh computers TapForms6 appears to be the current market\nleader and is extremely easy to use.On PCs Microsoft Ofﬁce One-\nNote (available as part of the MS Ofﬁce 2016 Ofﬁce Suite) is a\ncomprehensive electronic documentation application that allows\norganization and storage of information from a wide range of\nsources.7 It also allows resources to be shared securely with project\ncollaborators via the internet.Conclusions\n\nA research database for even relatively sophisticated histopa-\nthology research projects, e.g.immunohistochemical staining of\ntissue arrays with hundreds of tumours, is easy to construct and\nuse provided that care is taken in its overall design and the\ncoding of data items.The purpose of the database should always\nbe to serve the overall aims of the research project and it should\nnot become an isolated resource-consuming entity.For most\nhistopathology projects, a simple spreadsheet programme, such\nas Microsoft Excel, will provide all\nthe necessary database\nfunctions with the minimum amount of infra-structural effort.Conﬂicts of interest\n\nThe authors have no conﬂicts of interest to declare.A\n\nREFERENCES\n1 Balasubramanian SP, Cross SS, Globe J, Cox A, Brown NJ,\n\nReed MW.Endostatin gene variation and protein levels in breast\ncancer susceptibility and severity.BMC Cancer 2007; 7: 107. 2 BBC News website.Thousands of Welsh NHS staff’s data stolen in\n\nhack.Avaliable at: http://www.bbc.co.uk/news/uk-wales-\n39249975 (accessed 4 June 2017). 3 Data Protection Act.Available at: http://www.legislation.gov.uk/\n\nukpga/1998/29/contents (accessed 4 June 2017).4 Iversen A, Liddell K, Fear N, Hotopf M, Wessely S. Consent,\n\nconﬁdentiality and the data protection act.BMJ 2006; 332: 165e9. 5 Walkenbach J. Excel 2016 bible.Hoboken, New Jersey: John Wiley\n\n& Sons, 2015. June 2017). 6 TapForms.Avaliable at: https://www.tapforms.com/ (accessed 4\n\n7 Microsoft Ofﬁce OneNote.Avaliable at: https://www.onenote.com/\n\n(accessed 4 June 2017).Practice points\n\nC Any research database should be anonymized as completely as is\n\nfeasible for the speciﬁc research project\n\nC A research database should always be part of a project approved\nby a research ethics committee and should be speciﬁed within the\nresearch protocol\n\nC A research database should comply with appropriate data pro-\n\ntection legislation, the Data Protection Act in the UK\n\nC The design of the database should be speciﬁed by the aims and\nobjectives of the research project and not by software capabilities\nC Care should be taken to code data items in a format that retains\nall potentially relevant information and which allows them to be\nselected and sorted in a consistent manner\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n153\n\n(cid:1) 2017 Published by Elsevier Ltd.",
          "time": 393.8987216949463,
          "input_token_size": 7417,
          "output_token_size": 155,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_39b9b603",
        "created_at": 1749870016.4815938,
        "processing_time": 397.7915999889374,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs_prev1",
        "reason": "shorter_provenance",
        "sentence_count": 190,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs_prev1",
            "sentence_count": 190,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.866837"
      }
    }
  },
  {
    "39fbd04f": {
      "question": "Where are the authors affiliated?",
      "answer": "Simon S Cross: University of Sheffield, Sheffield, UK  \nIan R Palmer: University of Sheffield, Sheffield, UK  \nTimothy J Stephenson: Sheffield Teaching Hospitals NHS Foundation Trust, University of Sheffield, Sheffield Hallam University, Sheffield, UK",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22
          ],
          "provenance_ids": [
            0,
            9,
            11,
            13,
            20,
            21,
            22
          ],
          "provenance": "MINI-SYMPOSIUM: RESEARCH\n\nHow to design and use a\nresearch database\n\nSimon S Cross\n\nIan R Palmer\n\nTimothy J Stephenson\n\nAbstract\nThe vast majority of histopathology research projects based on a se-\nries of tissue samples will require a database to store and organize the\ndata.If your\ninvolving\nresearch project\nseveral different centres and which requires data to be entered by\nseveral different personnel, then we hope you have budgeted for\n\nis a randomized controlled trial\n\nSimon S Cross MD FRCPath is Professor of Diagnostic Histopathology\nat the University of Shefﬁeld and an Honorary Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation,\nUK.Ian R Palmer BSc is the Faculty IT Manager (Medicine, Dentistry &\nHealth) and Faculty IT Liaison Corporate Information and Computing\nServices at the University of Shefﬁeld, Shefﬁeld, UK.Timothy J Stephenson MA MD MBA FRCPath is a Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation\nTrust and Honorary Professor at the University of Shefﬁeld and\nShefﬁeld Hallam University, Shefﬁeld, UK.The\nrecent high proﬁle cases in the media highlighting data losses by\nGovernment agencies has shown how easy it is for data in some\nformat (laptop, hard drive, data stick, and more recently insecure\nserver etc.)to be lost or stolen.2 It is likely that you will be\nmoving your data around between computers and it is probable\nthat you will be using a laptop computer, so for security con-\nsiderations alone the database should be anonymized.Any\nresearch project will require local ethics committee approval, and\nmost ethics committees are rightly concerned about the trans-\nmission of personal medical data and usually insist that any\nresearch databases are anonymized.",
          "time": 36.19300389289856,
          "input_token_size": 7592,
          "output_token_size": 214,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_39fbd04f",
        "created_at": 1749769342.6268363,
        "processing_time": 55.05454230308533,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs_prev1",
        "reason": "shorter_provenance",
        "sentence_count": 23,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs_prev",
            "sentence_count": 190,
            "provenance_count": 1,
            "has_answer": true
          },
          {
            "source": "test_outputs_prev1",
            "sentence_count": 23,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.866837"
      }
    }
  },
  {
    "570e2c23": {
      "question": "How do the authors suggest ensuring that data coding is effective for analysis?",
      "answer": "- The design of the database should be specified by the aims and objectives of the research project and not by software capabilities.\n- Care should be taken to code data items in a format that retains all potentially relevant information and which allows them to be selected and sorted in a consistent manner.",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            163,
            164,
            165,
            166,
            167,
            168,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance_ids": [
            60,
            61,
            62,
            63,
            65,
            144,
            146,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance": "a single core of tumour in a tissue\nmicroarray, where it is possible that there could have been some\ntransposition of laboratory accession numbers or rows and col-\numns in a spreadsheet and the risk of misidentiﬁcation would be\nslightly higher than in a fully functioning diagnostic histopa-\nthology laboratory.For these reasons, we include a statement in\nour ethics committee application stating that any discoveries are\nfor research purposes only and that there will be no retrograde\nﬂow of information back to patient records or individual patients.Design your database\n\nThe design of your database should reﬂect the design of your\nresearch project and it would be better to have all your aims and\nobjectives of the project clearly formulated and recorded before\nyou start to design your database.Sometimes, however, design of\nthe database and general objectives of the research project emerge\nconcurrently.This gets you away from a computer screen and a form\nformat, and allows you to look at all the data items with an over-\nview.Go to ‘Sort’ under the ‘Data’\nmenu and select any single column as the sorting factor and\nperform the sort.You could repeat these sorts for each column to check\nfor further errors in other columns.A\n\nREFERENCES\n1 Balasubramanian SP, Cross SS, Globe J, Cox A, Brown NJ,\n\nReed MW.Endostatin gene variation and protein levels in breast\ncancer susceptibility and severity.BMC Cancer 2007; 7: 107. 2 BBC News website.Thousands of Welsh NHS staff’s data stolen in\n\nhack.Avaliable at: http://www.bbc.co.uk/news/uk-wales-\n39249975 (accessed 4 June 2017). 3 Data Protection Act.Available at: http://www.legislation.gov.uk/\n\nukpga/1998/29/contents (accessed 4 June 2017).4 Iversen A, Liddell K, Fear N, Hotopf M, Wessely S. Consent,\n\nconﬁdentiality and the data protection act.BMJ 2006; 332: 165e9. 5 Walkenbach J. Excel 2016 bible.Hoboken, New Jersey: John Wiley\n\n& Sons, 2015. June 2017). 6 TapForms.Avaliable at: https://www.tapforms.com/ (accessed 4\n\n7 Microsoft Ofﬁce OneNote.Avaliable at: https://www.onenote.com/\n\n(accessed 4 June 2017).Practice points\n\nC Any research database should be anonymized as completely as is\n\nfeasible for the speciﬁc research project\n\nC A research database should always be part of a project approved\nby a research ethics committee and should be speciﬁed within the\nresearch protocol\n\nC A research database should comply with appropriate data pro-\n\ntection legislation, the Data Protection Act in the UK\n\nC The design of the database should be speciﬁed by the aims and\nobjectives of the research project and not by software capabilities\nC Care should be taken to code data items in a format that retains\nall potentially relevant information and which allows them to be\nselected and sorted in a consistent manner\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n153\n\n(cid:1) 2017 Published by Elsevier Ltd.",
          "time": 135.41999793052673,
          "input_token_size": 7423,
          "output_token_size": 206,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_570e2c23",
        "created_at": 1749769402.8642707,
        "processing_time": 145.01718091964722,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs_prev1",
        "reason": "shorter_provenance",
        "sentence_count": 190,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs_prev1",
            "sentence_count": 190,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.868843"
      }
    }
  },
  {
    "5a5573e7": {
      "question": "How does the document suggest managing data backup and security?",
      "answer": "1. Data should be stored in two places for backup.\n2. A reliable system of backup is necessary, preferably automatic and at a geographically separate location.\n3. Excel-based databases can be backed up to CDs or memory sticks, but security issues should be considered.\n4. Many NHS institutions are considering disabling USB ports to prevent data loss, favoring automated backups onto secure servers.",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            163,
            164,
            165,
            166,
            167,
            168,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            163,
            164,
            165,
            166,
            167,
            168,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance": "MINI-SYMPOSIUM: RESEARCH\n\nHow to design and use a\nresearch database\n\nSimon S Cross\n\nIan R Palmer\n\nTimothy J Stephenson\n\nAbstract\nThe vast majority of histopathology research projects based on a se-\nries of tissue samples will require a database to store and organize the\ndata.Most of these databases will be relatively simple standalone da-\ntabases that can be created in a spreadsheet application.However,\nthere are still some important considerations in the design of the data-\nbase and coding of the data that will make its subsequent use much\nmore time efﬁcient.This article reviews the scope of databases for\ncommon histopathology research projects, the ethical and legal con-\nsiderations, design of the database structure, coding of data items,\nand import and export of data from databases.Keywords anonymization; databases; histopathology\n\nIntroduction\n\nMost research projects need some method for recording and\nordering data.Sometimes this may be a complex system that\nautomatically links with other data sources, but in most cases it\nwill be a relatively simple standalone database for a single\nresearcher to maintain their research data.However, even though\nthis level of database may be relatively simple, it is still very\nimportant to give some thought to its design before starting to use\nit, as a well-designed database will make analysing results much\neasier, and a poorly-designed database can lead to much wasted\ntime which may even extend as far as having to re-enter data.What sort of database does your project need?At the start of a research project you need to make a simple\nassessment of what your database will need to do.If your\ninvolving\nresearch project\nseveral different centres and which requires data to be entered by\nseveral different personnel, then we hope you have budgeted for\n\nis a randomized controlled trial\n\nSimon S Cross MD FRCPath is Professor of Diagnostic Histopathology\nat the University of Shefﬁeld and an Honorary Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation,\nUK.Conﬂict of interest: There is no conﬂict of interest.Ian R Palmer BSc is the Faculty IT Manager (Medicine, Dentistry &\nHealth) and Faculty IT Liaison Corporate Information and Computing\nServices at the University of Shefﬁeld, Shefﬁeld, UK.Conﬂict of\ninterest: There is no conﬂict of interest.Timothy J Stephenson MA MD MBA FRCPath is a Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation\nTrust and Honorary Professor at the University of Shefﬁeld and\nShefﬁeld Hallam University, Shefﬁeld, UK.Conﬂict of interest: There\nis no conﬂict of interest.a dedicated database manager in your research grant because\nyou will need them!Such a database is well outside the scope of\nthis paper.A more tractable project might be something like a\nnumber of different immunohistochemical stains performed on a\nretrospective series of 500 cases of breast cancer with histo-\npathological data (such as tumour size, grade, lymph node sta-\ntus) and clinical follow-up (e.g.time to last follow-up, recurrent\ndisease, death not due to breast cancer, death due to breast\ncancer).A database for a project such as this would be a\nreasonable proposition for a single researcher, such as a histo-\npathology trainee working on an PhD degree, and is the scale\nof database that we use all the time in our projects.1\n\nAnonymization, ethical and legal considerations\n\nAny research database should be anonymized to the highest level\nthat is compatible with the viability of the research project.The\nrecent high proﬁle cases in the media highlighting data losses by\nGovernment agencies has shown how easy it is for data in some\nformat (laptop, hard drive, data stick, and more recently insecure\nserver etc.)to be lost or stolen.2 It is likely that you will be\nmoving your data around between computers and it is probable\nthat you will be using a laptop computer, so for security con-\nsiderations alone the database should be anonymized.Any\nresearch project will require local ethics committee approval, and\nmost ethics committees are rightly concerned about the trans-\nmission of personal medical data and usually insist that any\nresearch databases are anonymized.There are two main methods of anonymization e complete\nand linked.The most secure is complete anonymization where\nthe clinicopathological data are taken from their original source\nand entered into the research database with no linkage at all\nbetween the two.If all personal identiﬁers are excluded from the\nresearch database, then there should be no way of systematically\nidentifying patients from the data held in the research database (it\nshould, however, be noted that it might be possible to identify\noccasional individuals if they have very distinctive characteristics,\ne.g.a 16-year-old female living in city ‘x’ who was diagnosed with\nbreast cancer).The advantage of a totally anonymized database is\na lowering of the risk should it be lost or stolen.It obviously re-\nduces the risk of identiﬁcation of individuals to close to zero, but\nit does not eliminate the risk of media coverage should the lost\ndata be found somewhere inappropriate (the local newspaper\nheadline ‘Cancer patients’ data found on memory stick in car\npark’ could still be applied whether the data were anonymized or\nnot).The major disadvantage of a completely anonymized data-\nbase is that it is a static database that cannot be updated later if\nthere is a need for further data input.This may not be a problem\nfor many histopathology research projects (e.g.novel immuno-\nhistochemistry on a series of tumours) but is obviously not\ncompatible with projects with continuing patient follow-up.In linked anonymization there is some system that links the\nresearch database to identiﬁable patient data.One method of\nlinkage is to have a separate secure database that acts as a key\nbetween identiﬁable data records and the anonymized research\ndatabase.Such a database does not need to be electronic; it could\nsimply be a book with two entries on each line e the identiﬁable\ndata and the anonymized research accession number (often\nknown as the study number).Such a book could be kept securely\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n149\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nlocked in a ﬁling cabinet in a locked ofﬁce and access could be\nrestricted to a few named individuals involved in the research\nproject; often it will be a single named individual whose sole\npurpose is to provide linkage if requested.However, this method\ninvolves setting up a separate administration system with its own\nsecurity issues.A much simpler method is to use some identiﬁer\nwhich is not identiﬁable without access to some existing infor-\nmation system.This could be the patient’s hospital number but\nmany ethics committees regard this as relatively insecure\nbecause the patient’s hospital number could open access to a\nwhole range of information in many different hospital informa-\ntion systems (and the patient’s NHS number is even less secure\nand more informative).In histopathology we are fortunate in\nhaving the laboratory accession number which is a restrictive\nsuperﬁcially-anonymous identiﬁer that is only available to those\nwith access to the laboratory information computer system, and\nthat system is already heavily protected by individual password\nlogin, automatic timing out of terminals after a short period of\nnon-use, etc.If we are conducting a research study on archival\ndiagnostic surgical material, then we will probably be using\nslides labelled with the laboratory accession number and we are\nunlikely to anonymize that number because of the slide labelling\nproblems it would cause.At present the ethics committees that\nwe have passed applications through have been happy to use the\nlaboratory accession number to anonymize the samples and data\nin studies, although they have always required a statement on\nthe circumstances in which the investigators would go back to\nthe laboratory information system for more data.Such consid-\nerations always have to be made for any research project and are\nnot exclusively a feature of research databases.It still needs to be appreciated that simple personal data, such\nas name and address, are not the only items that can identify an\nindividual.The date of birth is quite a speciﬁc item and com-\nbined with other items in a database (e.g.a woman with breast\ncancer diagnosed in 2002) could provide a strong indication of an\nindividual’s identity.It is usually better to change the date of\nbirth to a less speciﬁc age datum at the time of entering infor-\nmation into the database; age at diagnosis will probably give all\nthe information that is required.It should be noted that even when a database has been\n‘anonymized’ using relatively opaque linkage items, such as the\nlaboratory accession number, it is still not completely anony-\nmized because links can be made indirectly which could iden-\ntify the patient.Although this linked ‘anonymization’ will mini-\nmize the adverse effects of any data loss or unauthorized access\nto the data, the database is still legally regarded as personal data\nunder legislation such as the UK Data Protection Act.3,4 Under\nthis Act, only data essential to the study can be collected and they\ncan only be stored for as long as the study is active.This brings us to legal consideration as whether the database\nneeds to be registered under the terms of the Data Protection Act\nin the UK, or similar legislation in other countries.If there is no\nlinkage possible at all between the research database and per-\nsonal patient data, then it would not need to registered, but since\nthe act of creation of the database will involve some access to\npersonal data, then we would suggest that it does need regis-\ntration.In most UK institutions this is a simple process because\nthere will be an institutional Data Protection Ofﬁcer and the\ninstitution will be registered with the Government’s Information\n\nCommissioner, which will usually give generic registration for\ndatabases in that institution without the need for the registration\nof individual databases.However, you would need to check the\ndetails of your institution’s processes.A further medicolegal consideration is the duty of disclosure\nthat could occur if review of a case with identiﬁable data showed\nthat there was a misdiagnosis or mistreatment, e.g.if review of a\nseries of cases of mesothelioma showed that one of the cases\nappeared to be mesothelial hyperplasia rather than mesotheli-\noma.If there is complete anonymization, then this cannot apply.If there is linked anonymization, then it could apply and this\nneeds to be considered before the study commences.In most\nhistopathology research studies, the tissue being reviewed is only\na sample of the whole diagnostic material available on the case,\ne.g.a single block of breast cancer, so a full diagnostic review of\nthe case is not being carried out.The tissue is also being exam-\nined in a research context, e.g.a single core of tumour in a tissue\nmicroarray, where it is possible that there could have been some\ntransposition of laboratory accession numbers or rows and col-\numns in a spreadsheet and the risk of misidentiﬁcation would be\nslightly higher than in a fully functioning diagnostic histopa-\nthology laboratory.For these reasons, we include a statement in\nour ethics committee application stating that any discoveries are\nfor research purposes only and that there will be no retrograde\nﬂow of information back to patient records or individual patients.Design your database\n\nThe design of your database should reﬂect the design of your\nresearch project and it would be better to have all your aims and\nobjectives of the project clearly formulated and recorded before\nyou start to design your database.Sometimes, however, design of\nthe database and general objectives of the research project emerge\nconcurrently.A good way to design your database is to take a blank\nsheet of A3 paper and sketch out all the data items you think you\nneed in a ‘spider’ (or ‘mindmap’) diagram with clusters of related\nitems.This gets you away from a computer screen and a form\nformat, and allows you to look at all the data items with an over-\nview.It is worth spending some time doing this, possibly redraw-\ning the diagram if it becomes too cluttered by changes, because this\nis the most important stage of database design and time spent on\nthis stage will pay major dividends later in the process.You need to arrive at a design with all the data items that are\nessential for your project but no more than that.If you do not\ninclude essential data items at the start of the process, you will\ndiscover their absence later and then need to modify the database,\nand you may have to go through all your original data sources to\ninput the missing items.It is usually best to include individual raw\ndata items and use them to calculate derived data items within the\ndatabase.An example in breast cancer would be the Nottingham\nPrognostic Index.If you only include the Nottingham Prognostic\nIndex in your database as an aggregate measure of the potential\nprognostic behaviour of the tumour, then you will not have access\nto the tumour size, tumour grade and lymph node status in future\nanalyses.If you include those three items separately, then you can\ncreate a fourth derived data item that will automatically calculate\nthe Nottingham Prognostic Index from these items.If you only\nrecord axillary lymph node status in a case of breast cancer as\npositive or negative, then you will not have access to the total\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n150\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nnumber of positive lymph nodes, whereas if you record the total\nnumber of positive lymph nodes, you will be able to create\nanother automatically derived data item for overall lymph node\nstatus.The general rule is that data items cannot be split at a later\nstage, but they can be easily, and automatically, aggregated later,\nso it is best to create a database with the simplest raw data items\nincluded instead of derivative/aggregated data items.Any variable that in its raw state is a continuous variable (e.g.tumour size in millimetres) should be stored as that continuous\nvariable rather than a category (e.g. tumours between 5 and 10\nmm).You should of course ensure that all the data items in your\ndatabase are relevant to your project’s aims and objectives\nbecause it is a waste of resources (usually your time) to enter\nirrelevant items.What software should you use? You will notice that choice of software comes after design of the\ndatabase.Too many researchers start with the software choice and\nthen their database design is inﬂuenced by what the software can\ndo, rather than what the software can do for them.There are a\nnumber of popular database software packages on the market,\nsuch as Microsoft Access and Filemaker Pro, which run on indi-\nvidual computers.There are also server-based databases, such as\nMySQL, Microsoft SQL Server or Oracle.These software packages\nare all very good and very powerful for multiuser projects with a\nnumber of interacting databases, but they are overkill for a\nresearch project such as the breast cancer tissue array project\ndescribed above.Although we have used Microsoft Access and\nFilemaker Pro in the past with success, the learning curve for using\nthese packages is relatively steep and the results are no better than\nusing our current preferred option which is Microsoft Excel.This\nspreadsheet application has enough database functions built into it\nto carry out all the necessary preprocessing before statistical\nanalysis of results in speciﬁc statistical software package, such as\nStatistical Package for Social Sciences (SPSS).It has the major\nadvantages of virtually no learning curve, if you already use its\nspreadsheet functions, no platform speciﬁcity (Microsoft Access\ndoes not run on Macintosh computers), accepts ﬁles from other\nsources in a wide range of formats, and does not allow the user to\nwaste time creating colourful graphical interfaces for entering data\nthat have no value to the project.We simply create a column for\neach data item and use a row for each case.The ‘Split Window’ and\n‘Freeze Panes’ functions (found under the Windows menu at the\ntop of the screen) allow the column headings and left-hand row\nlabels to remain on the screen all the time no matter how many\nrows or columns there are in the spreadsheet (see the Excel help\nﬁles for further details).We enter data directly into the spreadsheet\nwithout using any custom entry form, but it is easy to create one if\nyou feel that data entry would be cleaner by using one, e.g.if\nsomeone without specialist knowledge is entering the data for you.If you need multiuser entry, then a single spreadsheet be-\ncomes problematic because version control becomes very difﬁ-\ncult.In these circumstances, a server-based database is more\nuseful but it can be difﬁcult to arrange access from different in-\nstitutions.A more recent development is the availability of web-\nbased databases, which are accessible from any web browser and\nmake multiuser data entry very simple.The consideration with\nthese web-based databases is the security of the commercial\n\nproviders’ servers, but they are basing their business on a secure\nservice so the risk might be lower than for an ad-hoc server in an\nacademic institution.Coding your data\n\nYou will know which data items you want to include in your\ndatabase because you designed it before you touched the com-\nputer keyboard, but now you need to consider how you are going\nto code that data.This only requires a bit of thought about how\nyou are going to sort and use the data but again if you code your\ndata in appropriate formats it will cause a lot of rework and delay\nlater.The laboratory accession number is a simple illustrative\ncase (Tables 1 and 2).This number is usually in the form of the\nyear and then a single unique number issued in ascending order\nas specimens arrive.There may also be a separate block number if\nthe specimen cannot be embedded in a single block.If such a\nnumber is entered into a single column in its usual format, e.g.08/23156/3E, it will be treated as text rather than a number in\nExcel and there can be a number of problems when sorting data\nfor analysis.Tables 1 and 2 illustrate these problems and show\nthat the best solution is to create separate columns for each\nelement of a multipart or mixed number/text item.Binary data\nitems, such as gender or lymph node status, are easier but there is\nstill a decision to be made as to whether to use strict mathematical\nbinary code or a more descriptive code.Gender could be coded as\n1 ¼ female and 0 ¼ male, but this is an arbitrary coding that is not\nmemorable to the data inputer.Coding as f ¼ female and m ¼\nmale is memorable and so far lower rates of errors are likely\nduring the inputting of the data, i.e.make the purest possible\ntransformations of data.It is a very simple automated ‘ﬁnd and\nreplace’ function to convert these to true mathematical binary\nitems for statistical analysis.It is well worth keeping descriptive\ncodings as short as possible, because this reduces the number of\nkeystrokes when entering data.The autoﬁll function of Excel is\n\nCoding the laboratory accession number.If entered in\nthe format in column 1 the accession number sorts to the\norder in column 2 e the year order is incorrect because\nthe full year was not included.With the full year added\nand sorted, column 3, there is still a problem with the\norder of the second and third rows because zeros before\nthe accession number have not been added to numbers\nwith fewer than ﬁve digits.When this has been done,\ncolumn 4, the numbers now do sort into the correct time\norder but a better method is shown in Table 2\n\n1.Unsorted\n\n2. Sorted\n\n3. Full year\nsorted\n\n4.Full year and\npreceeding zeros\nsorted\n\n98/1119/3E\n02/34001/4F\n99/1231/2F\n00/32754/1A\n03/4567/8G\n99/12237/4D\n\n00/32754/1A\n02/34001/4F\n03/4567/8G\n98/1119/3E\n99/1231/2F\n99/12237/4D\n\n1998/1119/3E\n1999/12237/4D\n1999/1231/2F\n2000/32754/1A\n2002/34001/4F\n2003/4567/8G\n\n1998/01119/3E\n1999/01231/2F\n1999/12237/4D\n2000/32754/1A\n2002/34001/4F\n2003/04567/8G\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\nTable 1\n\n151\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nThis shows a better method for coding the laboratory\naccession number by creating a separate column for\neach element of the number.Note that in this case\npreceding zeros do not need to be included as the Excel\nsoftware is treating the numbers as actual numbers\nrather than text, as in Table 1.If you are using a single\nrepresentative section from a multipart specimen, e.g.a\nrepresentative block of breast cancer from a mastectomy\nspecimen, then always remember to include the speciﬁc\nblock number in the database, otherwise future studies\nmay have to retrieve all the slides for the case (speciﬁed\nby the year and accession number) and look at these to\nselect the representative block again e a huge amount\nof rework for no gain in value\n\nNumber\n\n1119\n1231\n12237\n32754\n34001\n4567\n\nPart\n\n3E\n2F\n4D\n1A\n4F\n8G\n\nYear\n\n1998\n1999\n1999\n2000\n2002\n2003\n\nTable 2\n\nuseful and can be optimized by choosing different ﬁrst letters for\nas many different items as possible.An example for breast cancer\nthat we have used is tumour type, where d ¼ ductal, l ¼ lobular, t\n¼ tubular, me ¼ medullary, mu ¼ mucinous, etc.It should be\nnoted that when entering text into Excel it will be case-sensitive in\nany manipulations, such as grouping or pivot data tables, so it is\nbest to use lower case letter throughout, which also reduces\nkeystrokes by not using the Shift key.Importing items into your database\n\nIf some of the data you wish to have in your database exist in\nanother database, it may be possible to import them into your\ndatabase instead of having to key them all in.The ﬁrst thing to\nensure is that the data in the other database are ‘clean’ (i.e.consistently formatted) and veriﬁed.People often volunteer data\nfrom a database which on closer examinations contains many\nformatting inconsistencies, e.g.‘yes’ coded as ‘y’, ‘Y’ or ‘1’ for a\nsingle data ﬁeld, and it then is better to start again with the\noriginal source data.Another common feature of processes\ndesigned to port data from one database to another is that IT\nprofessionals want to write complicated interface programmes\nwhich take weeks or months to develop.Whilst these are essential\nfor databases that port data between themselves on a frequent,\nrecurrent basis, this is usually completely unnecessary for a\nstandalone research database, which usually only requires a sin-\ngle transfer at a single point in time.The easiest method we have\nfound is to perform a search on the existing database to select the\nrecords that we want to import and then export those in a format\nthat Excel can read.Often the parent database will be able to\nexport in Excel format but comma or tab-delimited text is just as\nacceptable and causes no extra work.Once in Excel the imported\ndata can be quickly sorted and formatted as required.It should be\nnoted that it is best to import as the ﬁrst stage of creating your\n\nresearch database, rather than trying to add the imported data to\nan existing database which may be more problematic.Calculating derived data items within your database\n\nAs noted above it is often easier (and certainly more accurate) to\ncalculate some derived data items from raw source data items\nwithin the database.This can be done using Excel’s calculation\nfunctions and the reader is referred to Excel help ﬁles or\ninstructional books for the details of this.5 Obviously some cal-\nculations are easier than others.If your raw data item is the\nmaximum diameter of a breast cancer in millimetres and you\nwant to convert that to centimetres in the calculation of the\nNottingham Prognostic Index, then you would simply set up a\nformula such: ¼ A23/10 where A23 is the index of the cell\ncontaining the measurement in millimetres.It is a simple matter\nto propagate that formula down the whole column for size in\ncentimetres by using the ‘Fill’ ‘Down’ functions from the Edit\nmenu.Deriving the lymph node status component for the Not-\ntingham Prognostic Index from the total number of positive\nlymph nodes would be more complicated but the conditional\noperators exist in Excel to allow this, e.g.¼ IF(A23 > 3,2,0), and\nautomatic help boxes make this very easy (click the calculator\nsymbol on the Excel toolbar just to the right of the green tick\nsymbol).It should be noted that these calculated values only\nexist when the other items from which they are derived are still\npresent in the datasheet.If for any reason, such as reducing data\ndown to the core items for statistical analysis, you are going to\nremove columns from the datasheet, you must select the whole\ndatasheet, copy it and then paste it back in the same cells using\nthe Paste Special function and selecting Values.You will then\nhave a sheet in which each cell is an independent number not\ndependent on any other cell.Obviously, you should only do this\nwhen you have ﬁnished entering all the data and are ready for\ndata analysis, and you should immediately save this sheet in a\ndifferent name from the original database sheet.Verifying your data\n\nOnce you have input your data you need to make some assess-\nment of the veracity of that data.It is remarkable how many\nerrors are introduced during data entry that need to be corrected\nbefore the database is usable.Excel has some useful functions\nthat make debugging the database relatively easy.One method is\nto ensure that you have saved the database and then try sorting\nthe data in many different ways.Go to ‘Sort’ under the ‘Data’\nmenu and select any single column as the sorting factor and\nperform the sort.Now scroll through the database sheet looking\nat the column you sorted by, especially at the top and bottom of\nthe sorted sheet, and you can see all sorts of data entry errors\nfrom completely blank cells through to mispellings or duplicated\nsymbols.You could repeat these sorts for each column to check\nfor further errors in other columns.A similar, but possibly easier,\nmethod is to use the Autoﬁlter function.Highlight the complete\nsheet (by clicking the diamond symbol in the top left cell of the\nsheet), from the Data menu select the Filter option and then\nselect the Autoﬁlter option.At the top of each column there will\nnow appear an up and down arrow symbol; clicking on this\nproduces a list of all the different occurrences of data items in\nthat column, making it very easy to see errors such as ‘Y’ instead\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n152\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nof ‘y’.When all the obvious typing errors have been corrected, it\nwould be wise to perform an audit, checking perhaps 10% of the\ncase records with their original source data to check that there\nare no systematic data entry errors.Backing up your database\n\nData only exists when it is stored in two places e this widespread\ndictum is never more true than for databases.If you are going to\nspend many hours entering data into a database, then you need to\nhave a reliable system of back-up.The best systems are automatic\nand store the data at a geographically separate location; institutions\nsuch as universities often provide such systems for their members.Excel-based databases produce ﬁles which are very manageable in\nsize and can easily be backed up to CDs or memory sticks, but be\nmindful of security issues even with a completely anonymized\ndatabase (which would still cause media interest if found in an\ninappropriate place) and keep the copies in secure locations.Many\nNHS institutions are now so wary of data loss through sources such\nas memory sticks, that they are considering disabling USB ports on\ntheir computers so automated back-ups onto servers within the\ninstitution’s ﬁrewall may well become the norm.Exporting data for analysis\n\nThe function of a database is to store and order data for a\nresearch project that can then be analysed.By using Excel as the\ndatabase software, many statistical functions and analysis can be\nused directly within Excel.However more sophisticated analyses\nwill require preprocessing and export to other programmes such\nas SSPS.The preprocessing will mainly consist of converting\ndescriptive variables into numerical values, e.g.‘f’ to ‘1’, which\nis easily done using the search and replace functions of Excel.The labels of the columns may have to be shortened to be read by\nsome statistical programmes, e.g.SPSS will only read the ﬁrst\neight characters of variable names.Again, you must remember to\nsave the spreadsheet with a different ﬁlename before beginning\ndata preprocessing, as it will destroy some of the data, or\ncertainly its format.Most specialist statistical programmes, such\nas SPSS, will read Excel ﬁles but data can be output in comma- or\ntab-delimited text from Excel if necessary.Research notes ‘database’\n\nAny researcher 15 years ago would have had supplementary ‘da-\ntabases’ for their research projects, usually an index box with cards\nwith the authors and title of published papers and a number that\nreferred to a folder in a ﬁling cabinet.They might also have had a\nbound book with notes, or possibly a pile of loose papers with\nvarious notes e they still might have those on their desk today.A\nsupervised researcher working in a well-organized laboratory\nshould still have a bound book as a record of their experiments and\nprimary data, but there are now more useful ways of storing other\ninformation than a pile of loose papers.The widespread availability\nof electronic PDF versions of published paper and the information\ndisplayed on numerous authoritative websites has widened the\nscope for electronic databases of collected research ‘notes’.These\nshould be much easier to search, can have direct links to PDF ﬁles\nstored on the computer and direct links to relevant websites, and\ncould signiﬁcantly improve a researcher’s productivity.A number\n\nof software programmes that perform this task are available.On\nMacintosh computers TapForms6 appears to be the current market\nleader and is extremely easy to use.On PCs Microsoft Ofﬁce One-\nNote (available as part of the MS Ofﬁce 2016 Ofﬁce Suite) is a\ncomprehensive electronic documentation application that allows\norganization and storage of information from a wide range of\nsources.7 It also allows resources to be shared securely with project\ncollaborators via the internet.Conclusions\n\nA research database for even relatively sophisticated histopa-\nthology research projects, e.g.immunohistochemical staining of\ntissue arrays with hundreds of tumours, is easy to construct and\nuse provided that care is taken in its overall design and the\ncoding of data items.The purpose of the database should always\nbe to serve the overall aims of the research project and it should\nnot become an isolated resource-consuming entity.For most\nhistopathology projects, a simple spreadsheet programme, such\nas Microsoft Excel, will provide all\nthe necessary database\nfunctions with the minimum amount of infra-structural effort.Conﬂicts of interest\n\nThe authors have no conﬂicts of interest to declare.A\n\nREFERENCES\n1 Balasubramanian SP, Cross SS, Globe J, Cox A, Brown NJ,\n\nReed MW.Endostatin gene variation and protein levels in breast\ncancer susceptibility and severity.BMC Cancer 2007; 7: 107. 2 BBC News website.Thousands of Welsh NHS staff’s data stolen in\n\nhack.Avaliable at: http://www.bbc.co.uk/news/uk-wales-\n39249975 (accessed 4 June 2017). 3 Data Protection Act.Available at: http://www.legislation.gov.uk/\n\nukpga/1998/29/contents (accessed 4 June 2017).4 Iversen A, Liddell K, Fear N, Hotopf M, Wessely S. Consent,\n\nconﬁdentiality and the data protection act.BMJ 2006; 332: 165e9. 5 Walkenbach J. Excel 2016 bible.Hoboken, New Jersey: John Wiley\n\n& Sons, 2015. June 2017). 6 TapForms.Avaliable at: https://www.tapforms.com/ (accessed 4\n\n7 Microsoft Ofﬁce OneNote.Avaliable at: https://www.onenote.com/\n\n(accessed 4 June 2017).Practice points\n\nC Any research database should be anonymized as completely as is\n\nfeasible for the speciﬁc research project\n\nC A research database should always be part of a project approved\nby a research ethics committee and should be speciﬁed within the\nresearch protocol\n\nC A research database should comply with appropriate data pro-\n\ntection legislation, the Data Protection Act in the UK\n\nC The design of the database should be speciﬁed by the aims and\nobjectives of the research project and not by software capabilities\nC Care should be taken to code data items in a format that retains\nall potentially relevant information and which allows them to be\nselected and sorted in a consistent manner\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n153\n\n(cid:1) 2017 Published by Elsevier Ltd.",
          "time": 398.82579374313354,
          "input_token_size": 7417,
          "output_token_size": 87,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_5a5573e7",
        "created_at": 1749870042.8084538,
        "processing_time": 402.40477681159973,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs_prev1",
        "reason": "shorter_provenance",
        "sentence_count": 190,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs_prev1",
            "sentence_count": 190,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.868843"
      }
    }
  },
  {
    "6b366729": {
      "question": "What are the differences between complete and linked anonymization as discussed in the document?",
      "answer": "Complete anonymization: No linkage between research database and original data; all personal identifiers excluded.\n\nLinked anonymization: Some system links research database to identifiable patient data; may involve a separate secure database or non-identifiable identifiers.",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            163,
            164,
            165,
            166,
            167,
            168,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            13,
            14,
            16,
            17,
            18,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            40,
            41,
            42,
            44,
            45,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            60,
            61,
            62,
            63,
            65,
            66,
            71,
            72,
            73,
            74,
            75,
            83,
            84,
            85,
            86,
            87,
            88,
            90,
            91,
            94,
            98,
            99,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            137,
            138,
            139,
            140,
            141,
            143,
            144,
            145,
            146,
            147,
            149,
            150,
            151,
            152,
            153,
            161,
            162,
            163,
            164,
            165,
            166,
            167,
            168,
            169,
            170,
            173,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            186,
            187,
            188
          ],
          "provenance": "MINI-SYMPOSIUM: RESEARCH\n\nHow to design and use a\nresearch database\n\nSimon S Cross\n\nIan R Palmer\n\nTimothy J Stephenson\n\nAbstract\nThe vast majority of histopathology research projects based on a se-\nries of tissue samples will require a database to store and organize the\ndata.Most of these databases will be relatively simple standalone da-\ntabases that can be created in a spreadsheet application.However,\nthere are still some important considerations in the design of the data-\nbase and coding of the data that will make its subsequent use much\nmore time efﬁcient.This article reviews the scope of databases for\ncommon histopathology research projects, the ethical and legal con-\nsiderations, design of the database structure, coding of data items,\nand import and export of data from databases.Keywords anonymization; databases; histopathology\n\nIntroduction\n\nMost research projects need some method for recording and\nordering data.Sometimes this may be a complex system that\nautomatically links with other data sources, but in most cases it\nwill be a relatively simple standalone database for a single\nresearcher to maintain their research data.However, even though\nthis level of database may be relatively simple, it is still very\nimportant to give some thought to its design before starting to use\nit, as a well-designed database will make analysing results much\neasier, and a poorly-designed database can lead to much wasted\ntime which may even extend as far as having to re-enter data.What sort of database does your project need?At the start of a research project you need to make a simple\nassessment of what your database will need to do.If your\ninvolving\nresearch project\nseveral different centres and which requires data to be entered by\nseveral different personnel, then we hope you have budgeted for\n\nis a randomized controlled trial\n\nSimon S Cross MD FRCPath is Professor of Diagnostic Histopathology\nat the University of Shefﬁeld and an Honorary Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation,\nUK.Conﬂict of interest: There is no conﬂict of interest.Ian R Palmer BSc is the Faculty IT Manager (Medicine, Dentistry &\nHealth) and Faculty IT Liaison Corporate Information and Computing\nServices at the University of Shefﬁeld, Shefﬁeld, UK.Timothy J Stephenson MA MD MBA FRCPath is a Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation\nTrust and Honorary Professor at the University of Shefﬁeld and\nShefﬁeld Hallam University, Shefﬁeld, UK.Conﬂict of interest: There\nis no conﬂict of interest.Such a database is well outside the scope of\nthis paper.A more tractable project might be something like a\nnumber of different immunohistochemical stains performed on a\nretrospective series of 500 cases of breast cancer with histo-\npathological data (such as tumour size, grade, lymph node sta-\ntus) and clinical follow-up (e.g.time to last follow-up, recurrent\ndisease, death not due to breast cancer, death due to breast\ncancer).The\nrecent high proﬁle cases in the media highlighting data losses by\nGovernment agencies has shown how easy it is for data in some\nformat (laptop, hard drive, data stick, and more recently insecure\nserver etc.)to be lost or stolen.2 It is likely that you will be\nmoving your data around between computers and it is probable\nthat you will be using a laptop computer, so for security con-\nsiderations alone the database should be anonymized.Any\nresearch project will require local ethics committee approval, and\nmost ethics committees are rightly concerned about the trans-\nmission of personal medical data and usually insist that any\nresearch databases are anonymized.There are two main methods of anonymization e complete\nand linked.The most secure is complete anonymization where\nthe clinicopathological data are taken from their original source\nand entered into the research database with no linkage at all\nbetween the two.If all personal identiﬁers are excluded from the\nresearch database, then there should be no way of systematically\nidentifying patients from the data held in the research database (it\nshould, however, be noted that it might be possible to identify\noccasional individuals if they have very distinctive characteristics,\ne.g.a 16-year-old female living in city ‘x’ who was diagnosed with\nbreast cancer).The advantage of a totally anonymized database is\na lowering of the risk should it be lost or stolen.It obviously re-\nduces the risk of identiﬁcation of individuals to close to zero, but\nit does not eliminate the risk of media coverage should the lost\ndata be found somewhere inappropriate (the local newspaper\nheadline ‘Cancer patients’ data found on memory stick in car\npark’ could still be applied whether the data were anonymized or\nnot).The major disadvantage of a completely anonymized data-\nbase is that it is a static database that cannot be updated later if\nthere is a need for further data input.This may not be a problem\nfor many histopathology research projects (e.g.In linked anonymization there is some system that links the\nresearch database to identiﬁable patient data.One method of\nlinkage is to have a separate secure database that acts as a key\nbetween identiﬁable data records and the anonymized research\ndatabase.Such a database does not need to be electronic; it could\nsimply be a book with two entries on each line e the identiﬁable\ndata and the anonymized research accession number (often\nknown as the study number).Such a book could be kept securely\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n149\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nlocked in a ﬁling cabinet in a locked ofﬁce and access could be\nrestricted to a few named individuals involved in the research\nproject; often it will be a single named individual whose sole\npurpose is to provide linkage if requested.However, this method\ninvolves setting up a separate administration system with its own\nsecurity issues.A much simpler method is to use some identiﬁer\nwhich is not identiﬁable without access to some existing infor-\nmation system.This could be the patient’s hospital number but\nmany ethics committees regard this as relatively insecure\nbecause the patient’s hospital number could open access to a\nwhole range of information in many different hospital informa-\ntion systems (and the patient’s NHS number is even less secure\nand more informative).If we are conducting a research study on archival\ndiagnostic surgical material, then we will probably be using\nslides labelled with the laboratory accession number and we are\nunlikely to anonymize that number because of the slide labelling\nproblems it would cause.At present the ethics committees that\nwe have passed applications through have been happy to use the\nlaboratory accession number to anonymize the samples and data\nin studies, although they have always required a statement on\nthe circumstances in which the investigators would go back to\nthe laboratory information system for more data.Such consid-\nerations always have to be made for any research project and are\nnot exclusively a feature of research databases.The date of birth is quite a speciﬁc item and com-\nbined with other items in a database (e.g.a woman with breast\ncancer diagnosed in 2002) could provide a strong indication of an\nindividual’s identity.It should be noted that even when a database has been\n‘anonymized’ using relatively opaque linkage items, such as the\nlaboratory accession number, it is still not completely anony-\nmized because links can be made indirectly which could iden-\ntify the patient.Although this linked ‘anonymization’ will mini-\nmize the adverse effects of any data loss or unauthorized access\nto the data, the database is still legally regarded as personal data\nunder legislation such as the UK Data Protection Act.3,4 Under\nthis Act, only data essential to the study can be collected and they\ncan only be stored for as long as the study is active.This brings us to legal consideration as whether the database\nneeds to be registered under the terms of the Data Protection Act\nin the UK, or similar legislation in other countries.If there is no\nlinkage possible at all between the research database and per-\nsonal patient data, then it would not need to registered, but since\nthe act of creation of the database will involve some access to\npersonal data, then we would suggest that it does need regis-\ntration.In most UK institutions this is a simple process because\nthere will be an institutional Data Protection Ofﬁcer and the\ninstitution will be registered with the Government’s Information\n\nCommissioner, which will usually give generic registration for\ndatabases in that institution without the need for the registration\nof individual databases.However, you would need to check the\ndetails of your institution’s processes.A further medicolegal consideration is the duty of disclosure\nthat could occur if review of a case with identiﬁable data showed\nthat there was a misdiagnosis or mistreatment, e.g.if review of a\nseries of cases of mesothelioma showed that one of the cases\nappeared to be mesothelial hyperplasia rather than mesotheli-\noma.If there is complete anonymization, then this cannot apply.If there is linked anonymization, then it could apply and this\nneeds to be considered before the study commences.a single core of tumour in a tissue\nmicroarray, where it is possible that there could have been some\ntransposition of laboratory accession numbers or rows and col-\numns in a spreadsheet and the risk of misidentiﬁcation would be\nslightly higher than in a fully functioning diagnostic histopa-\nthology laboratory.For these reasons, we include a statement in\nour ethics committee application stating that any discoveries are\nfor research purposes only and that there will be no retrograde\nﬂow of information back to patient records or individual patients.Design your database\n\nThe design of your database should reﬂect the design of your\nresearch project and it would be better to have all your aims and\nobjectives of the project clearly formulated and recorded before\nyou start to design your database.Sometimes, however, design of\nthe database and general objectives of the research project emerge\nconcurrently.This gets you away from a computer screen and a form\nformat, and allows you to look at all the data items with an over-\nview.It is worth spending some time doing this, possibly redraw-\ning the diagram if it becomes too cluttered by changes, because this\nis the most important stage of database design and time spent on\nthis stage will pay major dividends later in the process.If you only include the Nottingham Prognostic\nIndex in your database as an aggregate measure of the potential\nprognostic behaviour of the tumour, then you will not have access\nto the tumour size, tumour grade and lymph node status in future\nanalyses.If you include those three items separately, then you can\ncreate a fourth derived data item that will automatically calculate\nthe Nottingham Prognostic Index from these items.If you only\nrecord axillary lymph node status in a case of breast cancer as\npositive or negative, then you will not have access to the total\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n150\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nnumber of positive lymph nodes, whereas if you record the total\nnumber of positive lymph nodes, you will be able to create\nanother automatically derived data item for overall lymph node\nstatus.The general rule is that data items cannot be split at a later\nstage, but they can be easily, and automatically, aggregated later,\nso it is best to create a database with the simplest raw data items\nincluded instead of derivative/aggregated data items.Any variable that in its raw state is a continuous variable (e.g.Although we have used Microsoft Access and\nFilemaker Pro in the past with success, the learning curve for using\nthese packages is relatively steep and the results are no better than\nusing our current preferred option which is Microsoft Excel.This\nspreadsheet application has enough database functions built into it\nto carry out all the necessary preprocessing before statistical\nanalysis of results in speciﬁc statistical software package, such as\nStatistical Package for Social Sciences (SPSS).It has the major\nadvantages of virtually no learning curve, if you already use its\nspreadsheet functions, no platform speciﬁcity (Microsoft Access\ndoes not run on Macintosh computers), accepts ﬁles from other\nsources in a wide range of formats, and does not allow the user to\nwaste time creating colourful graphical interfaces for entering data\nthat have no value to the project.We simply create a column for\neach data item and use a row for each case.The ‘Split Window’ and\n‘Freeze Panes’ functions (found under the Windows menu at the\ntop of the screen) allow the column headings and left-hand row\nlabels to remain on the screen all the time no matter how many\nrows or columns there are in the spreadsheet (see the Excel help\nﬁles for further details).We enter data directly into the spreadsheet\nwithout using any custom entry form, but it is easy to create one if\nyou feel that data entry would be cleaner by using one, e.g.If you need multiuser entry, then a single spreadsheet be-\ncomes problematic because version control becomes very difﬁ-\ncult.In these circumstances, a server-based database is more\nuseful but it can be difﬁcult to arrange access from different in-\nstitutions.Coding your data\n\nYou will know which data items you want to include in your\ndatabase because you designed it before you touched the com-\nputer keyboard, but now you need to consider how you are going\nto code that data.There may also be a separate block number if\nthe specimen cannot be embedded in a single block.If such a\nnumber is entered into a single column in its usual format, e.g.It is well worth keeping descriptive\ncodings as short as possible, because this reduces the number of\nkeystrokes when entering data.The autoﬁll function of Excel is\n\nCoding the laboratory accession number.If entered in\nthe format in column 1 the accession number sorts to the\norder in column 2 e the year order is incorrect because\nthe full year was not included.With the full year added\nand sorted, column 3, there is still a problem with the\norder of the second and third rows because zeros before\nthe accession number have not been added to numbers\nwith fewer than ﬁve digits.When this has been done,\ncolumn 4, the numbers now do sort into the correct time\norder but a better method is shown in Table 2\n\n1.Unsorted\n\n2. Sorted\n\n3. Full year\nsorted\n\n4.Full year and\npreceeding zeros\nsorted\n\n98/1119/3E\n02/34001/4F\n99/1231/2F\n00/32754/1A\n03/4567/8G\n99/12237/4D\n\n00/32754/1A\n02/34001/4F\n03/4567/8G\n98/1119/3E\n99/1231/2F\n99/12237/4D\n\n1998/1119/3E\n1999/12237/4D\n1999/1231/2F\n2000/32754/1A\n2002/34001/4F\n2003/4567/8G\n\n1998/01119/3E\n1999/01231/2F\n1999/12237/4D\n2000/32754/1A\n2002/34001/4F\n2003/04567/8G\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\nTable 1\n\n151\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nThis shows a better method for coding the laboratory\naccession number by creating a separate column for\neach element of the number.Note that in this case\npreceding zeros do not need to be included as the Excel\nsoftware is treating the numbers as actual numbers\nrather than text, as in Table 1.a\nrepresentative block of breast cancer from a mastectomy\nspecimen, then always remember to include the speciﬁc\nblock number in the database, otherwise future studies\nmay have to retrieve all the slides for the case (speciﬁed\nby the year and accession number) and look at these to\nselect the representative block again e a huge amount\nof rework for no gain in value\n\nNumber\n\n1119\n1231\n12237\n32754\n34001\n4567\n\nPart\n\n3E\n2F\n4D\n1A\n4F\n8G\n\nYear\n\n1998\n1999\n1999\n2000\n2002\n2003\n\nTable 2\n\nuseful and can be optimized by choosing different ﬁrst letters for\nas many different items as possible.An example for breast cancer\nthat we have used is tumour type, where d ¼ ductal, l ¼ lobular, t\n¼ tubular, me ¼ medullary, mu ¼ mucinous, etc.It should be\nnoted that when entering text into Excel it will be case-sensitive in\nany manipulations, such as grouping or pivot data tables, so it is\nbest to use lower case letter throughout, which also reduces\nkeystrokes by not using the Shift key.Importing items into your database\n\nIf some of the data you wish to have in your database exist in\nanother database, it may be possible to import them into your\ndatabase instead of having to key them all in.The ﬁrst thing to\nensure is that the data in the other database are ‘clean’ (i.e.consistently formatted) and veriﬁed.People often volunteer data\nfrom a database which on closer examinations contains many\nformatting inconsistencies, e.g.‘yes’ coded as ‘y’, ‘Y’ or ‘1’ for a\nsingle data ﬁeld, and it then is better to start again with the\noriginal source data.Another common feature of processes\ndesigned to port data from one database to another is that IT\nprofessionals want to write complicated interface programmes\nwhich take weeks or months to develop.Whilst these are essential\nfor databases that port data between themselves on a frequent,\nrecurrent basis, this is usually completely unnecessary for a\nstandalone research database, which usually only requires a sin-\ngle transfer at a single point in time.The easiest method we have\nfound is to perform a search on the existing database to select the\nrecords that we want to import and then export those in a format\nthat Excel can read.Often the parent database will be able to\nexport in Excel format but comma or tab-delimited text is just as\nacceptable and causes no extra work.Once in Excel the imported\ndata can be quickly sorted and formatted as required.It should be\nnoted that it is best to import as the ﬁrst stage of creating your\n\nresearch database, rather than trying to add the imported data to\nan existing database which may be more problematic.Calculating derived data items within your database\n\nAs noted above it is often easier (and certainly more accurate) to\ncalculate some derived data items from raw source data items\nwithin the database.If for any reason, such as reducing data\ndown to the core items for statistical analysis, you are going to\nremove columns from the datasheet, you must select the whole\ndatasheet, copy it and then paste it back in the same cells using\nthe Paste Special function and selecting Values.You will then\nhave a sheet in which each cell is an independent number not\ndependent on any other cell.Obviously, you should only do this\nwhen you have ﬁnished entering all the data and are ready for\ndata analysis, and you should immediately save this sheet in a\ndifferent name from the original database sheet.Verifying your data\n\nOnce you have input your data you need to make some assess-\nment of the veracity of that data.It is remarkable how many\nerrors are introduced during data entry that need to be corrected\nbefore the database is usable.One method is\nto ensure that you have saved the database and then try sorting\nthe data in many different ways.Go to ‘Sort’ under the ‘Data’\nmenu and select any single column as the sorting factor and\nperform the sort.Now scroll through the database sheet looking\nat the column you sorted by, especially at the top and bottom of\nthe sorted sheet, and you can see all sorts of data entry errors\nfrom completely blank cells through to mispellings or duplicated\nsymbols.You could repeat these sorts for each column to check\nfor further errors in other columns.A similar, but possibly easier,\nmethod is to use the Autoﬁlter function.At the top of each column there will\nnow appear an up and down arrow symbol; clicking on this\nproduces a list of all the different occurrences of data items in\nthat column, making it very easy to see errors such as ‘Y’ instead\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n152\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nof ‘y’.When all the obvious typing errors have been corrected, it\nwould be wise to perform an audit, checking perhaps 10% of the\ncase records with their original source data to check that there\nare no systematic data entry errors.Backing up your database\n\nData only exists when it is stored in two places e this widespread\ndictum is never more true than for databases.If you are going to\nspend many hours entering data into a database, then you need to\nhave a reliable system of back-up.The best systems are automatic\nand store the data at a geographically separate location; institutions\nsuch as universities often provide such systems for their members.The labels of the columns may have to be shortened to be read by\nsome statistical programmes, e.g.SPSS will only read the ﬁrst\neight characters of variable names.Again, you must remember to\nsave the spreadsheet with a different ﬁlename before beginning\ndata preprocessing, as it will destroy some of the data, or\ncertainly its format.Most specialist statistical programmes, such\nas SPSS, will read Excel ﬁles but data can be output in comma- or\ntab-delimited text from Excel if necessary.Research notes ‘database’\n\nAny researcher 15 years ago would have had supplementary ‘da-\ntabases’ for their research projects, usually an index box with cards\nwith the authors and title of published papers and a number that\nreferred to a folder in a ﬁling cabinet.They might also have had a\nbound book with notes, or possibly a pile of loose papers with\nvarious notes e they still might have those on their desk today.A\nsupervised researcher working in a well-organized laboratory\nshould still have a bound book as a record of their experiments and\nprimary data, but there are now more useful ways of storing other\ninformation than a pile of loose papers.The widespread availability\nof electronic PDF versions of published paper and the information\ndisplayed on numerous authoritative websites has widened the\nscope for electronic databases of collected research ‘notes’.These\nshould be much easier to search, can have direct links to PDF ﬁles\nstored on the computer and direct links to relevant websites, and\ncould signiﬁcantly improve a researcher’s productivity.A number\n\nof software programmes that perform this task are available.Conclusions\n\nA research database for even relatively sophisticated histopa-\nthology research projects, e.g.The purpose of the database should always\nbe to serve the overall aims of the research project and it should\nnot become an isolated resource-consuming entity.For most\nhistopathology projects, a simple spreadsheet programme, such\nas Microsoft Excel, will provide all\nthe necessary database\nfunctions with the minimum amount of infra-structural effort.Conﬂicts of interest\n\nThe authors have no conﬂicts of interest to declare.A\n\nREFERENCES\n1 Balasubramanian SP, Cross SS, Globe J, Cox A, Brown NJ,\n\nReed MW.Endostatin gene variation and protein levels in breast\ncancer susceptibility and severity.BMC Cancer 2007; 7: 107. 2 BBC News website.Thousands of Welsh NHS staff’s data stolen in\n\nhack.Hoboken, New Jersey: John Wiley\n\n& Sons, 2015. June 2017). 6 TapForms.Avaliable at: https://www.tapforms.com/ (accessed 4\n\n7 Microsoft Ofﬁce OneNote.Avaliable at: https://www.onenote.com/\n\n(accessed 4 June 2017).",
          "time": 323.1712634563446,
          "input_token_size": 7427,
          "output_token_size": 52,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_6b366729",
        "created_at": 1749627325.1600132,
        "processing_time": 328.0462625026703,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs_prev",
        "reason": "shorter_provenance",
        "sentence_count": 190,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs_prev",
            "sentence_count": 190,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.868843"
      }
    }
  },
  {
    "6eadcb5d": {
      "question": "What are the main topics and themes covered in the document?",
      "answer": "1. Design and use of research databases\n2. Histopathology research projects\n3. Ethical and legal considerations\n4. Anonymization of data\n5. Database structure and coding of data items\n6. Import and export of data\n7. Software selection for databases\n8. Data verification and backup\n9. Calculating derived data items\n10. Research documentation and organization",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            163,
            164,
            165,
            166,
            167,
            168,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            85,
            86,
            87,
            88,
            89,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            163,
            164,
            165,
            166,
            167,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance": "MINI-SYMPOSIUM: RESEARCH\n\nHow to design and use a\nresearch database\n\nSimon S Cross\n\nIan R Palmer\n\nTimothy J Stephenson\n\nAbstract\nThe vast majority of histopathology research projects based on a se-\nries of tissue samples will require a database to store and organize the\ndata.Most of these databases will be relatively simple standalone da-\ntabases that can be created in a spreadsheet application.However,\nthere are still some important considerations in the design of the data-\nbase and coding of the data that will make its subsequent use much\nmore time efﬁcient.This article reviews the scope of databases for\ncommon histopathology research projects, the ethical and legal con-\nsiderations, design of the database structure, coding of data items,\nand import and export of data from databases.Keywords anonymization; databases; histopathology\n\nIntroduction\n\nMost research projects need some method for recording and\nordering data.Sometimes this may be a complex system that\nautomatically links with other data sources, but in most cases it\nwill be a relatively simple standalone database for a single\nresearcher to maintain their research data.However, even though\nthis level of database may be relatively simple, it is still very\nimportant to give some thought to its design before starting to use\nit, as a well-designed database will make analysing results much\neasier, and a poorly-designed database can lead to much wasted\ntime which may even extend as far as having to re-enter data.What sort of database does your project need?At the start of a research project you need to make a simple\nassessment of what your database will need to do.Conﬂict of interest: There is no conﬂict of interest.Ian R Palmer BSc is the Faculty IT Manager (Medicine, Dentistry &\nHealth) and Faculty IT Liaison Corporate Information and Computing\nServices at the University of Shefﬁeld, Shefﬁeld, UK.Conﬂict of\ninterest: There is no conﬂict of interest.Timothy J Stephenson MA MD MBA FRCPath is a Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation\nTrust and Honorary Professor at the University of Shefﬁeld and\nShefﬁeld Hallam University, Shefﬁeld, UK.Conﬂict of interest: There\nis no conﬂict of interest.a dedicated database manager in your research grant because\nyou will need them!Such a database is well outside the scope of\nthis paper.A more tractable project might be something like a\nnumber of different immunohistochemical stains performed on a\nretrospective series of 500 cases of breast cancer with histo-\npathological data (such as tumour size, grade, lymph node sta-\ntus) and clinical follow-up (e.g.time to last follow-up, recurrent\ndisease, death not due to breast cancer, death due to breast\ncancer).A database for a project such as this would be a\nreasonable proposition for a single researcher, such as a histo-\npathology trainee working on an PhD degree, and is the scale\nof database that we use all the time in our projects.1\n\nAnonymization, ethical and legal considerations\n\nAny research database should be anonymized to the highest level\nthat is compatible with the viability of the research project.The\nrecent high proﬁle cases in the media highlighting data losses by\nGovernment agencies has shown how easy it is for data in some\nformat (laptop, hard drive, data stick, and more recently insecure\nserver etc.)to be lost or stolen.2 It is likely that you will be\nmoving your data around between computers and it is probable\nthat you will be using a laptop computer, so for security con-\nsiderations alone the database should be anonymized.Any\nresearch project will require local ethics committee approval, and\nmost ethics committees are rightly concerned about the trans-\nmission of personal medical data and usually insist that any\nresearch databases are anonymized.There are two main methods of anonymization e complete\nand linked.The most secure is complete anonymization where\nthe clinicopathological data are taken from their original source\nand entered into the research database with no linkage at all\nbetween the two.If all personal identiﬁers are excluded from the\nresearch database, then there should be no way of systematically\nidentifying patients from the data held in the research database (it\nshould, however, be noted that it might be possible to identify\noccasional individuals if they have very distinctive characteristics,\ne.g.a 16-year-old female living in city ‘x’ who was diagnosed with\nbreast cancer).It obviously re-\nduces the risk of identiﬁcation of individuals to close to zero, but\nit does not eliminate the risk of media coverage should the lost\ndata be found somewhere inappropriate (the local newspaper\nheadline ‘Cancer patients’ data found on memory stick in car\npark’ could still be applied whether the data were anonymized or\nnot).The major disadvantage of a completely anonymized data-\nbase is that it is a static database that cannot be updated later if\nthere is a need for further data input.This may not be a problem\nfor many histopathology research projects (e.g.novel immuno-\nhistochemistry on a series of tumours) but is obviously not\ncompatible with projects with continuing patient follow-up.In linked anonymization there is some system that links the\nresearch database to identiﬁable patient data.One method of\nlinkage is to have a separate secure database that acts as a key\nbetween identiﬁable data records and the anonymized research\ndatabase.Such a database does not need to be electronic; it could\nsimply be a book with two entries on each line e the identiﬁable\ndata and the anonymized research accession number (often\nknown as the study number).Such a book could be kept securely\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n149\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nlocked in a ﬁling cabinet in a locked ofﬁce and access could be\nrestricted to a few named individuals involved in the research\nproject; often it will be a single named individual whose sole\npurpose is to provide linkage if requested.However, this method\ninvolves setting up a separate administration system with its own\nsecurity issues.A much simpler method is to use some identiﬁer\nwhich is not identiﬁable without access to some existing infor-\nmation system.This could be the patient’s hospital number but\nmany ethics committees regard this as relatively insecure\nbecause the patient’s hospital number could open access to a\nwhole range of information in many different hospital informa-\ntion systems (and the patient’s NHS number is even less secure\nand more informative).In histopathology we are fortunate in\nhaving the laboratory accession number which is a restrictive\nsuperﬁcially-anonymous identiﬁer that is only available to those\nwith access to the laboratory information computer system, and\nthat system is already heavily protected by individual password\nlogin, automatic timing out of terminals after a short period of\nnon-use, etc.If we are conducting a research study on archival\ndiagnostic surgical material, then we will probably be using\nslides labelled with the laboratory accession number and we are\nunlikely to anonymize that number because of the slide labelling\nproblems it would cause.At present the ethics committees that\nwe have passed applications through have been happy to use the\nlaboratory accession number to anonymize the samples and data\nin studies, although they have always required a statement on\nthe circumstances in which the investigators would go back to\nthe laboratory information system for more data.Such consid-\nerations always have to be made for any research project and are\nnot exclusively a feature of research databases.It still needs to be appreciated that simple personal data, such\nas name and address, are not the only items that can identify an\nindividual.The date of birth is quite a speciﬁc item and com-\nbined with other items in a database (e.g.a woman with breast\ncancer diagnosed in 2002) could provide a strong indication of an\nindividual’s identity.It is usually better to change the date of\nbirth to a less speciﬁc age datum at the time of entering infor-\nmation into the database; age at diagnosis will probably give all\nthe information that is required.It should be noted that even when a database has been\n‘anonymized’ using relatively opaque linkage items, such as the\nlaboratory accession number, it is still not completely anony-\nmized because links can be made indirectly which could iden-\ntify the patient.This brings us to legal consideration as whether the database\nneeds to be registered under the terms of the Data Protection Act\nin the UK, or similar legislation in other countries.If there is no\nlinkage possible at all between the research database and per-\nsonal patient data, then it would not need to registered, but since\nthe act of creation of the database will involve some access to\npersonal data, then we would suggest that it does need regis-\ntration.In most UK institutions this is a simple process because\nthere will be an institutional Data Protection Ofﬁcer and the\ninstitution will be registered with the Government’s Information\n\nCommissioner, which will usually give generic registration for\ndatabases in that institution without the need for the registration\nof individual databases.However, you would need to check the\ndetails of your institution’s processes.A further medicolegal consideration is the duty of disclosure\nthat could occur if review of a case with identiﬁable data showed\nthat there was a misdiagnosis or mistreatment, e.g.if review of a\nseries of cases of mesothelioma showed that one of the cases\nappeared to be mesothelial hyperplasia rather than mesotheli-\noma.If there is complete anonymization, then this cannot apply.If there is linked anonymization, then it could apply and this\nneeds to be considered before the study commences.In most\nhistopathology research studies, the tissue being reviewed is only\na sample of the whole diagnostic material available on the case,\ne.g.a single block of breast cancer, so a full diagnostic review of\nthe case is not being carried out.The tissue is also being exam-\nined in a research context, e.g.a single core of tumour in a tissue\nmicroarray, where it is possible that there could have been some\ntransposition of laboratory accession numbers or rows and col-\numns in a spreadsheet and the risk of misidentiﬁcation would be\nslightly higher than in a fully functioning diagnostic histopa-\nthology laboratory.For these reasons, we include a statement in\nour ethics committee application stating that any discoveries are\nfor research purposes only and that there will be no retrograde\nﬂow of information back to patient records or individual patients.Design your database\n\nThe design of your database should reﬂect the design of your\nresearch project and it would be better to have all your aims and\nobjectives of the project clearly formulated and recorded before\nyou start to design your database.Sometimes, however, design of\nthe database and general objectives of the research project emerge\nconcurrently.A good way to design your database is to take a blank\nsheet of A3 paper and sketch out all the data items you think you\nneed in a ‘spider’ (or ‘mindmap’) diagram with clusters of related\nitems.This gets you away from a computer screen and a form\nformat, and allows you to look at all the data items with an over-\nview.It is worth spending some time doing this, possibly redraw-\ning the diagram if it becomes too cluttered by changes, because this\nis the most important stage of database design and time spent on\nthis stage will pay major dividends later in the process.You need to arrive at a design with all the data items that are\nessential for your project but no more than that.If you do not\ninclude essential data items at the start of the process, you will\ndiscover their absence later and then need to modify the database,\nand you may have to go through all your original data sources to\ninput the missing items.It is usually best to include individual raw\ndata items and use them to calculate derived data items within the\ndatabase.An example in breast cancer would be the Nottingham\nPrognostic Index.If you only include the Nottingham Prognostic\nIndex in your database as an aggregate measure of the potential\nprognostic behaviour of the tumour, then you will not have access\nto the tumour size, tumour grade and lymph node status in future\nanalyses.If you include those three items separately, then you can\ncreate a fourth derived data item that will automatically calculate\nthe Nottingham Prognostic Index from these items.If you only\nrecord axillary lymph node status in a case of breast cancer as\npositive or negative, then you will not have access to the total\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n150\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nnumber of positive lymph nodes, whereas if you record the total\nnumber of positive lymph nodes, you will be able to create\nanother automatically derived data item for overall lymph node\nstatus.The general rule is that data items cannot be split at a later\nstage, but they can be easily, and automatically, aggregated later,\nso it is best to create a database with the simplest raw data items\nincluded instead of derivative/aggregated data items.Any variable that in its raw state is a continuous variable (e.g.tumour size in millimetres) should be stored as that continuous\nvariable rather than a category (e.g. tumours between 5 and 10\nmm).You should of course ensure that all the data items in your\ndatabase are relevant to your project’s aims and objectives\nbecause it is a waste of resources (usually your time) to enter\nirrelevant items.What software should you use? You will notice that choice of software comes after design of the\ndatabase.Too many researchers start with the software choice and\nthen their database design is inﬂuenced by what the software can\ndo, rather than what the software can do for them.There are a\nnumber of popular database software packages on the market,\nsuch as Microsoft Access and Filemaker Pro, which run on indi-\nvidual computers.There are also server-based databases, such as\nMySQL, Microsoft SQL Server or Oracle.These software packages\nare all very good and very powerful for multiuser projects with a\nnumber of interacting databases, but they are overkill for a\nresearch project such as the breast cancer tissue array project\ndescribed above.Although we have used Microsoft Access and\nFilemaker Pro in the past with success, the learning curve for using\nthese packages is relatively steep and the results are no better than\nusing our current preferred option which is Microsoft Excel.It has the major\nadvantages of virtually no learning curve, if you already use its\nspreadsheet functions, no platform speciﬁcity (Microsoft Access\ndoes not run on Macintosh computers), accepts ﬁles from other\nsources in a wide range of formats, and does not allow the user to\nwaste time creating colourful graphical interfaces for entering data\nthat have no value to the project.We simply create a column for\neach data item and use a row for each case.The ‘Split Window’ and\n‘Freeze Panes’ functions (found under the Windows menu at the\ntop of the screen) allow the column headings and left-hand row\nlabels to remain on the screen all the time no matter how many\nrows or columns there are in the spreadsheet (see the Excel help\nﬁles for further details).We enter data directly into the spreadsheet\nwithout using any custom entry form, but it is easy to create one if\nyou feel that data entry would be cleaner by using one, e.g.if\nsomeone without specialist knowledge is entering the data for you.The consideration with\nthese web-based databases is the security of the commercial\n\nproviders’ servers, but they are basing their business on a secure\nservice so the risk might be lower than for an ad-hoc server in an\nacademic institution.Coding your data\n\nYou will know which data items you want to include in your\ndatabase because you designed it before you touched the com-\nputer keyboard, but now you need to consider how you are going\nto code that data.This only requires a bit of thought about how\nyou are going to sort and use the data but again if you code your\ndata in appropriate formats it will cause a lot of rework and delay\nlater.The laboratory accession number is a simple illustrative\ncase (Tables 1 and 2).This number is usually in the form of the\nyear and then a single unique number issued in ascending order\nas specimens arrive.There may also be a separate block number if\nthe specimen cannot be embedded in a single block.If such a\nnumber is entered into a single column in its usual format, e.g.Tables 1 and 2 illustrate these problems and show\nthat the best solution is to create separate columns for each\nelement of a multipart or mixed number/text item.Binary data\nitems, such as gender or lymph node status, are easier but there is\nstill a decision to be made as to whether to use strict mathematical\nbinary code or a more descriptive code.Gender could be coded as\n1 ¼ female and 0 ¼ male, but this is an arbitrary coding that is not\nmemorable to the data inputer.Coding as f ¼ female and m ¼\nmale is memorable and so far lower rates of errors are likely\nduring the inputting of the data, i.e.make the purest possible\ntransformations of data.It is a very simple automated ‘ﬁnd and\nreplace’ function to convert these to true mathematical binary\nitems for statistical analysis.It is well worth keeping descriptive\ncodings as short as possible, because this reduces the number of\nkeystrokes when entering data.The autoﬁll function of Excel is\n\nCoding the laboratory accession number.If entered in\nthe format in column 1 the accession number sorts to the\norder in column 2 e the year order is incorrect because\nthe full year was not included.With the full year added\nand sorted, column 3, there is still a problem with the\norder of the second and third rows because zeros before\nthe accession number have not been added to numbers\nwith fewer than ﬁve digits.Unsorted\n\n2. Sorted\n\n3. Full year\nsorted\n\n4.Full year and\npreceeding zeros\nsorted\n\n98/1119/3E\n02/34001/4F\n99/1231/2F\n00/32754/1A\n03/4567/8G\n99/12237/4D\n\n00/32754/1A\n02/34001/4F\n03/4567/8G\n98/1119/3E\n99/1231/2F\n99/12237/4D\n\n1998/1119/3E\n1999/12237/4D\n1999/1231/2F\n2000/32754/1A\n2002/34001/4F\n2003/4567/8G\n\n1998/01119/3E\n1999/01231/2F\n1999/12237/4D\n2000/32754/1A\n2002/34001/4F\n2003/04567/8G\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\nTable 1\n\n151\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nThis shows a better method for coding the laboratory\naccession number by creating a separate column for\neach element of the number.Note that in this case\npreceding zeros do not need to be included as the Excel\nsoftware is treating the numbers as actual numbers\nrather than text, as in Table 1.If you are using a single\nrepresentative section from a multipart specimen, e.g.a\nrepresentative block of breast cancer from a mastectomy\nspecimen, then always remember to include the speciﬁc\nblock number in the database, otherwise future studies\nmay have to retrieve all the slides for the case (speciﬁed\nby the year and accession number) and look at these to\nselect the representative block again e a huge amount\nof rework for no gain in value\n\nNumber\n\n1119\n1231\n12237\n32754\n34001\n4567\n\nPart\n\n3E\n2F\n4D\n1A\n4F\n8G\n\nYear\n\n1998\n1999\n1999\n2000\n2002\n2003\n\nTable 2\n\nuseful and can be optimized by choosing different ﬁrst letters for\nas many different items as possible.An example for breast cancer\nthat we have used is tumour type, where d ¼ ductal, l ¼ lobular, t\n¼ tubular, me ¼ medullary, mu ¼ mucinous, etc.It should be\nnoted that when entering text into Excel it will be case-sensitive in\nany manipulations, such as grouping or pivot data tables, so it is\nbest to use lower case letter throughout, which also reduces\nkeystrokes by not using the Shift key.Importing items into your database\n\nIf some of the data you wish to have in your database exist in\nanother database, it may be possible to import them into your\ndatabase instead of having to key them all in.The ﬁrst thing to\nensure is that the data in the other database are ‘clean’ (i.e.consistently formatted) and veriﬁed.People often volunteer data\nfrom a database which on closer examinations contains many\nformatting inconsistencies, e.g.‘yes’ coded as ‘y’, ‘Y’ or ‘1’ for a\nsingle data ﬁeld, and it then is better to start again with the\noriginal source data.Another common feature of processes\ndesigned to port data from one database to another is that IT\nprofessionals want to write complicated interface programmes\nwhich take weeks or months to develop.Whilst these are essential\nfor databases that port data between themselves on a frequent,\nrecurrent basis, this is usually completely unnecessary for a\nstandalone research database, which usually only requires a sin-\ngle transfer at a single point in time.The easiest method we have\nfound is to perform a search on the existing database to select the\nrecords that we want to import and then export those in a format\nthat Excel can read.Often the parent database will be able to\nexport in Excel format but comma or tab-delimited text is just as\nacceptable and causes no extra work.Once in Excel the imported\ndata can be quickly sorted and formatted as required.It should be\nnoted that it is best to import as the ﬁrst stage of creating your\n\nresearch database, rather than trying to add the imported data to\nan existing database which may be more problematic.Calculating derived data items within your database\n\nAs noted above it is often easier (and certainly more accurate) to\ncalculate some derived data items from raw source data items\nwithin the database.This can be done using Excel’s calculation\nfunctions and the reader is referred to Excel help ﬁles or\ninstructional books for the details of this.5 Obviously some cal-\nculations are easier than others.If your raw data item is the\nmaximum diameter of a breast cancer in millimetres and you\nwant to convert that to centimetres in the calculation of the\nNottingham Prognostic Index, then you would simply set up a\nformula such: ¼ A23/10 where A23 is the index of the cell\ncontaining the measurement in millimetres.It is a simple matter\nto propagate that formula down the whole column for size in\ncentimetres by using the ‘Fill’ ‘Down’ functions from the Edit\nmenu.Deriving the lymph node status component for the Not-\ntingham Prognostic Index from the total number of positive\nlymph nodes would be more complicated but the conditional\noperators exist in Excel to allow this, e.g.¼ IF(A23 > 3,2,0), and\nautomatic help boxes make this very easy (click the calculator\nsymbol on the Excel toolbar just to the right of the green tick\nsymbol).It should be noted that these calculated values only\nexist when the other items from which they are derived are still\npresent in the datasheet.If for any reason, such as reducing data\ndown to the core items for statistical analysis, you are going to\nremove columns from the datasheet, you must select the whole\ndatasheet, copy it and then paste it back in the same cells using\nthe Paste Special function and selecting Values.You will then\nhave a sheet in which each cell is an independent number not\ndependent on any other cell.Obviously, you should only do this\nwhen you have ﬁnished entering all the data and are ready for\ndata analysis, and you should immediately save this sheet in a\ndifferent name from the original database sheet.Verifying your data\n\nOnce you have input your data you need to make some assess-\nment of the veracity of that data.It is remarkable how many\nerrors are introduced during data entry that need to be corrected\nbefore the database is usable.Excel has some useful functions\nthat make debugging the database relatively easy.One method is\nto ensure that you have saved the database and then try sorting\nthe data in many different ways.Go to ‘Sort’ under the ‘Data’\nmenu and select any single column as the sorting factor and\nperform the sort.Now scroll through the database sheet looking\nat the column you sorted by, especially at the top and bottom of\nthe sorted sheet, and you can see all sorts of data entry errors\nfrom completely blank cells through to mispellings or duplicated\nsymbols.You could repeat these sorts for each column to check\nfor further errors in other columns.A similar, but possibly easier,\nmethod is to use the Autoﬁlter function.Highlight the complete\nsheet (by clicking the diamond symbol in the top left cell of the\nsheet), from the Data menu select the Filter option and then\nselect the Autoﬁlter option.At the top of each column there will\nnow appear an up and down arrow symbol; clicking on this\nproduces a list of all the different occurrences of data items in\nthat column, making it very easy to see errors such as ‘Y’ instead\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n152\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nof ‘y’.When all the obvious typing errors have been corrected, it\nwould be wise to perform an audit, checking perhaps 10% of the\ncase records with their original source data to check that there\nare no systematic data entry errors.Backing up your database\n\nData only exists when it is stored in two places e this widespread\ndictum is never more true than for databases.If you are going to\nspend many hours entering data into a database, then you need to\nhave a reliable system of back-up.The best systems are automatic\nand store the data at a geographically separate location; institutions\nsuch as universities often provide such systems for their members.Excel-based databases produce ﬁles which are very manageable in\nsize and can easily be backed up to CDs or memory sticks, but be\nmindful of security issues even with a completely anonymized\ndatabase (which would still cause media interest if found in an\ninappropriate place) and keep the copies in secure locations.Many\nNHS institutions are now so wary of data loss through sources such\nas memory sticks, that they are considering disabling USB ports on\ntheir computers so automated back-ups onto servers within the\ninstitution’s ﬁrewall may well become the norm.Exporting data for analysis\n\nThe function of a database is to store and order data for a\nresearch project that can then be analysed.By using Excel as the\ndatabase software, many statistical functions and analysis can be\nused directly within Excel.However more sophisticated analyses\nwill require preprocessing and export to other programmes such\nas SSPS.The preprocessing will mainly consist of converting\ndescriptive variables into numerical values, e.g.‘f’ to ‘1’, which\nis easily done using the search and replace functions of Excel.The labels of the columns may have to be shortened to be read by\nsome statistical programmes, e.g.SPSS will only read the ﬁrst\neight characters of variable names.Again, you must remember to\nsave the spreadsheet with a different ﬁlename before beginning\ndata preprocessing, as it will destroy some of the data, or\ncertainly its format.Most specialist statistical programmes, such\nas SPSS, will read Excel ﬁles but data can be output in comma- or\ntab-delimited text from Excel if necessary.Research notes ‘database’\n\nAny researcher 15 years ago would have had supplementary ‘da-\ntabases’ for their research projects, usually an index box with cards\nwith the authors and title of published papers and a number that\nreferred to a folder in a ﬁling cabinet.They might also have had a\nbound book with notes, or possibly a pile of loose papers with\nvarious notes e they still might have those on their desk today.A\nsupervised researcher working in a well-organized laboratory\nshould still have a bound book as a record of their experiments and\nprimary data, but there are now more useful ways of storing other\ninformation than a pile of loose papers.These\nshould be much easier to search, can have direct links to PDF ﬁles\nstored on the computer and direct links to relevant websites, and\ncould signiﬁcantly improve a researcher’s productivity.A number\n\nof software programmes that perform this task are available.On\nMacintosh computers TapForms6 appears to be the current market\nleader and is extremely easy to use.On PCs Microsoft Ofﬁce One-\nNote (available as part of the MS Ofﬁce 2016 Ofﬁce Suite) is a\ncomprehensive electronic documentation application that allows\norganization and storage of information from a wide range of\nsources.7 It also allows resources to be shared securely with project\ncollaborators via the internet.Conclusions\n\nA research database for even relatively sophisticated histopa-\nthology research projects, e.g.immunohistochemical staining of\ntissue arrays with hundreds of tumours, is easy to construct and\nuse provided that care is taken in its overall design and the\ncoding of data items.The purpose of the database should always\nbe to serve the overall aims of the research project and it should\nnot become an isolated resource-consuming entity.For most\nhistopathology projects, a simple spreadsheet programme, such\nas Microsoft Excel, will provide all\nthe necessary database\nfunctions with the minimum amount of infra-structural effort.A\n\nREFERENCES\n1 Balasubramanian SP, Cross SS, Globe J, Cox A, Brown NJ,\n\nReed MW.Endostatin gene variation and protein levels in breast\ncancer susceptibility and severity.BMC Cancer 2007; 7: 107. 2 BBC News website.Thousands of Welsh NHS staff’s data stolen in\n\nhack.Avaliable at: http://www.bbc.co.uk/news/uk-wales-\n39249975 (accessed 4 June 2017). 3 Data Protection Act.Available at: http://www.legislation.gov.uk/\n\nukpga/1998/29/contents (accessed 4 June 2017).4 Iversen A, Liddell K, Fear N, Hotopf M, Wessely S. Consent,\n\nconﬁdentiality and the data protection act.BMJ 2006; 332: 165e9. 5 Walkenbach J. Excel 2016 bible.Hoboken, New Jersey: John Wiley\n\n& Sons, 2015. June 2017). 6 TapForms.Avaliable at: https://www.tapforms.com/ (accessed 4\n\n7 Microsoft Ofﬁce OneNote.Avaliable at: https://www.onenote.com/\n\n(accessed 4 June 2017).Practice points\n\nC Any research database should be anonymized as completely as is\n\nfeasible for the speciﬁc research project\n\nC A research database should always be part of a project approved\nby a research ethics committee and should be speciﬁed within the\nresearch protocol\n\nC A research database should comply with appropriate data pro-\n\ntection legislation, the Data Protection Act in the UK\n\nC The design of the database should be speciﬁed by the aims and\nobjectives of the research project and not by software capabilities\nC Care should be taken to code data items in a format that retains\nall potentially relevant information and which allows them to be\nselected and sorted in a consistent manner\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n153\n\n(cid:1) 2017 Published by Elsevier Ltd.",
          "time": 440.1877017021179,
          "input_token_size": 7419,
          "output_token_size": 168,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_6eadcb5d",
        "created_at": 1749769396.3406112,
        "processing_time": 444.34144592285156,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs_prev1",
        "reason": "shorter_provenance",
        "sentence_count": 190,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs_prev1",
            "sentence_count": 190,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.868843"
      }
    }
  },
  {
    "6ffec6aa": {
      "question": "What software is recommended for statistical analysis compatibility?",
      "answer": "Microsoft Excel, Statistical Package for Social Sciences (SPSS), Microsoft Access, Filemaker Pro, MySQL, Microsoft SQL Server, Oracle.",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94
          ],
          "provenance_ids": [
            3,
            5,
            8,
            35,
            36,
            37,
            38,
            39,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            83,
            84,
            85,
            92,
            93
          ],
          "provenance": "This article reviews the scope of databases for\ncommon histopathology research projects, the ethical and legal con-\nsiderations, design of the database structure, coding of data items,\nand import and export of data from databases.Sometimes this may be a complex system that\nautomatically links with other data sources, but in most cases it\nwill be a relatively simple standalone database for a single\nresearcher to maintain their research data.At the start of a research project you need to make a simple\nassessment of what your database will need to do.Such a book could be kept securely\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n149\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nlocked in a ﬁling cabinet in a locked ofﬁce and access could be\nrestricted to a few named individuals involved in the research\nproject; often it will be a single named individual whose sole\npurpose is to provide linkage if requested.However, this method\ninvolves setting up a separate administration system with its own\nsecurity issues.A much simpler method is to use some identiﬁer\nwhich is not identiﬁable without access to some existing infor-\nmation system.This could be the patient’s hospital number but\nmany ethics committees regard this as relatively insecure\nbecause the patient’s hospital number could open access to a\nwhole range of information in many different hospital informa-\ntion systems (and the patient’s NHS number is even less secure\nand more informative).In histopathology we are fortunate in\nhaving the laboratory accession number which is a restrictive\nsuperﬁcially-anonymous identiﬁer that is only available to those\nwith access to the laboratory information computer system, and\nthat system is already heavily protected by individual password\nlogin, automatic timing out of terminals after a short period of\nnon-use, etc.Although this linked ‘anonymization’ will mini-\nmize the adverse effects of any data loss or unauthorized access\nto the data, the database is still legally regarded as personal data\nunder legislation such as the UK Data Protection Act.3,4 Under\nthis Act, only data essential to the study can be collected and they\ncan only be stored for as long as the study is active.This brings us to legal consideration as whether the database\nneeds to be registered under the terms of the Data Protection Act\nin the UK, or similar legislation in other countries.If there is no\nlinkage possible at all between the research database and per-\nsonal patient data, then it would not need to registered, but since\nthe act of creation of the database will involve some access to\npersonal data, then we would suggest that it does need regis-\ntration.In most UK institutions this is a simple process because\nthere will be an institutional Data Protection Ofﬁcer and the\ninstitution will be registered with the Government’s Information\n\nCommissioner, which will usually give generic registration for\ndatabases in that institution without the need for the registration\nof individual databases.However, you would need to check the\ndetails of your institution’s processes.A further medicolegal consideration is the duty of disclosure\nthat could occur if review of a case with identiﬁable data showed\nthat there was a misdiagnosis or mistreatment, e.g.if review of a\nseries of cases of mesothelioma showed that one of the cases\nappeared to be mesothelial hyperplasia rather than mesotheli-\noma.If there is complete anonymization, then this cannot apply.If there is linked anonymization, then it could apply and this\nneeds to be considered before the study commences.In most\nhistopathology research studies, the tissue being reviewed is only\na sample of the whole diagnostic material available on the case,\ne.g.a single block of breast cancer, so a full diagnostic review of\nthe case is not being carried out.The tissue is also being exam-\nined in a research context, e.g.a single core of tumour in a tissue\nmicroarray, where it is possible that there could have been some\ntransposition of laboratory accession numbers or rows and col-\numns in a spreadsheet and the risk of misidentiﬁcation would be\nslightly higher than in a fully functioning diagnostic histopa-\nthology laboratory.For these reasons, we include a statement in\nour ethics committee application stating that any discoveries are\nfor research purposes only and that there will be no retrograde\nﬂow of information back to patient records or individual patients.Design your database\n\nThe design of your database should reﬂect the design of your\nresearch project and it would be better to have all your aims and\nobjectives of the project clearly formulated and recorded before\nyou start to design your database.Sometimes, however, design of\nthe database and general objectives of the research project emerge\nconcurrently.A good way to design your database is to take a blank\nsheet of A3 paper and sketch out all the data items you think you\nneed in a ‘spider’ (or ‘mindmap’) diagram with clusters of related\nitems.This gets you away from a computer screen and a form\nformat, and allows you to look at all the data items with an over-\nview.It is worth spending some time doing this, possibly redraw-\ning the diagram if it becomes too cluttered by changes, because this\nis the most important stage of database design and time spent on\nthis stage will pay major dividends later in the process.You need to arrive at a design with all the data items that are\nessential for your project but no more than that.If you do not\ninclude essential data items at the start of the process, you will\ndiscover their absence later and then need to modify the database,\nand you may have to go through all your original data sources to\ninput the missing items.It is usually best to include individual raw\ndata items and use them to calculate derived data items within the\ndatabase.An example in breast cancer would be the Nottingham\nPrognostic Index.If you only include the Nottingham Prognostic\nIndex in your database as an aggregate measure of the potential\nprognostic behaviour of the tumour, then you will not have access\nto the tumour size, tumour grade and lymph node status in future\nanalyses.If you include those three items separately, then you can\ncreate a fourth derived data item that will automatically calculate\nthe Nottingham Prognostic Index from these items.If you only\nrecord axillary lymph node status in a case of breast cancer as\npositive or negative, then you will not have access to the total\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n150\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nnumber of positive lymph nodes, whereas if you record the total\nnumber of positive lymph nodes, you will be able to create\nanother automatically derived data item for overall lymph node\nstatus.The general rule is that data items cannot be split at a later\nstage, but they can be easily, and automatically, aggregated later,\nso it is best to create a database with the simplest raw data items\nincluded instead of derivative/aggregated data items.Any variable that in its raw state is a continuous variable (e.g.tumour size in millimetres) should be stored as that continuous\nvariable rather than a category (e.g. tumours between 5 and 10\nmm).You should of course ensure that all the data items in your\ndatabase are relevant to your project’s aims and objectives\nbecause it is a waste of resources (usually your time) to enter\nirrelevant items.What software should you use? You will notice that choice of software comes after design of the\ndatabase.Too many researchers start with the software choice and\nthen their database design is inﬂuenced by what the software can\ndo, rather than what the software can do for them.There are a\nnumber of popular database software packages on the market,\nsuch as Microsoft Access and Filemaker Pro, which run on indi-\nvidual computers.There are also server-based databases, such as\nMySQL, Microsoft SQL Server or Oracle.Although we have used Microsoft Access and\nFilemaker Pro in the past with success, the learning curve for using\nthese packages is relatively steep and the results are no better than\nusing our current preferred option which is Microsoft Excel.This\nspreadsheet application has enough database functions built into it\nto carry out all the necessary preprocessing before statistical\nanalysis of results in speciﬁc statistical software package, such as\nStatistical Package for Social Sciences (SPSS).It has the major\nadvantages of virtually no learning curve, if you already use its\nspreadsheet functions, no platform speciﬁcity (Microsoft Access\ndoes not run on Macintosh computers), accepts ﬁles from other\nsources in a wide range of formats, and does not allow the user to\nwaste time creating colourful graphical interfaces for entering data\nthat have no value to the project.A more recent development is the availability of web-\nbased databases, which are accessible from any web browser and\nmake multiuser data entry very simple.The consideration with\nthese web-based databases is the security of the commercial\n\nproviders’ servers, but they are basing their business on a secure\nservice so the risk might be lower than for an ad-hoc server in an\nacademic institution.",
          "time": 53.183393239974976,
          "input_token_size": 7590,
          "output_token_size": 41,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_6ffec6aa",
        "created_at": 1750198978.6155562,
        "processing_time": 56.34137797355652,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs",
        "reason": "shorter_provenance",
        "sentence_count": 95,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs",
            "sentence_count": 95,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.868843"
      }
    }
  },
  {
    "725227fc": {
      "question": "What is a critical theme mentioned in the document?",
      "answer": "Anonymization, ethical and legal considerations",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            17,
            18,
            19
          ],
          "provenance_ids": [
            19
          ],
          "provenance": "A database for a project such as this would be a\nreasonable proposition for a single researcher, such as a histo-\npathology trainee working on an PhD degree, and is the scale\nof database that we use all the time in our projects.1\n\nAnonymization, ethical and legal considerations\n\nAny research database should be anonymized to the highest level\nthat is compatible with the viability of the research project.",
          "time": 4.791685342788696,
          "input_token_size": 8851,
          "output_token_size": 62,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_725227fc",
        "created_at": 1749869996.4964287,
        "processing_time": 8.24181866645813,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs_prev1",
        "reason": "shorter_provenance",
        "sentence_count": 3,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs_prev1",
            "sentence_count": 3,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.868843"
      }
    }
  },
  {
    "7c6dd0e6": {
      "question": "Where was the document published?",
      "answer": "DIAGNOSTIC HISTOPATHOLOGY 24:4",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117
          ],
          "provenance_ids": [
            106,
            111,
            112,
            113
          ],
          "provenance": "It is a very simple automated ‘ﬁnd and\nreplace’ function to convert these to true mathematical binary\nitems for statistical analysis.When this has been done,\ncolumn 4, the numbers now do sort into the correct time\norder but a better method is shown in Table 2\n\n1.Unsorted\n\n2. Sorted\n\n3. Full year\nsorted\n\n4.Full year and\npreceeding zeros\nsorted\n\n98/1119/3E\n02/34001/4F\n99/1231/2F\n00/32754/1A\n03/4567/8G\n99/12237/4D\n\n00/32754/1A\n02/34001/4F\n03/4567/8G\n98/1119/3E\n99/1231/2F\n99/12237/4D\n\n1998/1119/3E\n1999/12237/4D\n1999/1231/2F\n2000/32754/1A\n2002/34001/4F\n2003/4567/8G\n\n1998/01119/3E\n1999/01231/2F\n1999/12237/4D\n2000/32754/1A\n2002/34001/4F\n2003/04567/8G\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\nTable 1\n\n151\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nThis shows a better method for coding the laboratory\naccession number by creating a separate column for\neach element of the number.",
          "time": 11.301451206207275,
          "input_token_size": 14684,
          "output_token_size": 85,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_7c6dd0e6",
        "created_at": 1749869990.0563016,
        "processing_time": 14.194430828094482,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs_prev1",
        "reason": "shorter_provenance",
        "sentence_count": 12,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs_prev1",
            "sentence_count": 12,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.868843"
      }
    }
  },
  {
    "7d4159e6": {
      "question": "What is the purpose of a research database in histopathology?",
      "answer": "1. Store and organize data for histopathology research projects.\n2. Facilitate efficient analysis of research results.\n3. Ensure compliance with ethical and legal considerations.\n4. Allow for the import and export of data.\n5. Support the design and coding of data items relevant to the research project.",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            163,
            164,
            165,
            166,
            167,
            168,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            85,
            86,
            87,
            88,
            89,
            93,
            100,
            101,
            102,
            103,
            104,
            110,
            111,
            113,
            114,
            116,
            117,
            119,
            122,
            125,
            129,
            130,
            134,
            135,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            163,
            164,
            166,
            167,
            168,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance": "MINI-SYMPOSIUM: RESEARCH\n\nHow to design and use a\nresearch database\n\nSimon S Cross\n\nIan R Palmer\n\nTimothy J Stephenson\n\nAbstract\nThe vast majority of histopathology research projects based on a se-\nries of tissue samples will require a database to store and organize the\ndata.Most of these databases will be relatively simple standalone da-\ntabases that can be created in a spreadsheet application.However,\nthere are still some important considerations in the design of the data-\nbase and coding of the data that will make its subsequent use much\nmore time efﬁcient.This article reviews the scope of databases for\ncommon histopathology research projects, the ethical and legal con-\nsiderations, design of the database structure, coding of data items,\nand import and export of data from databases.Keywords anonymization; databases; histopathology\n\nIntroduction\n\nMost research projects need some method for recording and\nordering data.Sometimes this may be a complex system that\nautomatically links with other data sources, but in most cases it\nwill be a relatively simple standalone database for a single\nresearcher to maintain their research data.However, even though\nthis level of database may be relatively simple, it is still very\nimportant to give some thought to its design before starting to use\nit, as a well-designed database will make analysing results much\neasier, and a poorly-designed database can lead to much wasted\ntime which may even extend as far as having to re-enter data.What sort of database does your project need?At the start of a research project you need to make a simple\nassessment of what your database will need to do.If your\ninvolving\nresearch project\nseveral different centres and which requires data to be entered by\nseveral different personnel, then we hope you have budgeted for\n\nis a randomized controlled trial\n\nSimon S Cross MD FRCPath is Professor of Diagnostic Histopathology\nat the University of Shefﬁeld and an Honorary Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation,\nUK.Conﬂict of interest: There is no conﬂict of interest.Ian R Palmer BSc is the Faculty IT Manager (Medicine, Dentistry &\nHealth) and Faculty IT Liaison Corporate Information and Computing\nServices at the University of Shefﬁeld, Shefﬁeld, UK.Conﬂict of\ninterest: There is no conﬂict of interest.Timothy J Stephenson MA MD MBA FRCPath is a Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation\nTrust and Honorary Professor at the University of Shefﬁeld and\nShefﬁeld Hallam University, Shefﬁeld, UK.Conﬂict of interest: There\nis no conﬂict of interest.a dedicated database manager in your research grant because\nyou will need them!A more tractable project might be something like a\nnumber of different immunohistochemical stains performed on a\nretrospective series of 500 cases of breast cancer with histo-\npathological data (such as tumour size, grade, lymph node sta-\ntus) and clinical follow-up (e.g.time to last follow-up, recurrent\ndisease, death not due to breast cancer, death due to breast\ncancer).A database for a project such as this would be a\nreasonable proposition for a single researcher, such as a histo-\npathology trainee working on an PhD degree, and is the scale\nof database that we use all the time in our projects.1\n\nAnonymization, ethical and legal considerations\n\nAny research database should be anonymized to the highest level\nthat is compatible with the viability of the research project.The\nrecent high proﬁle cases in the media highlighting data losses by\nGovernment agencies has shown how easy it is for data in some\nformat (laptop, hard drive, data stick, and more recently insecure\nserver etc.)to be lost or stolen.2 It is likely that you will be\nmoving your data around between computers and it is probable\nthat you will be using a laptop computer, so for security con-\nsiderations alone the database should be anonymized.Any\nresearch project will require local ethics committee approval, and\nmost ethics committees are rightly concerned about the trans-\nmission of personal medical data and usually insist that any\nresearch databases are anonymized.There are two main methods of anonymization e complete\nand linked.The most secure is complete anonymization where\nthe clinicopathological data are taken from their original source\nand entered into the research database with no linkage at all\nbetween the two.If all personal identiﬁers are excluded from the\nresearch database, then there should be no way of systematically\nidentifying patients from the data held in the research database (it\nshould, however, be noted that it might be possible to identify\noccasional individuals if they have very distinctive characteristics,\ne.g.a 16-year-old female living in city ‘x’ who was diagnosed with\nbreast cancer).The advantage of a totally anonymized database is\na lowering of the risk should it be lost or stolen.It obviously re-\nduces the risk of identiﬁcation of individuals to close to zero, but\nit does not eliminate the risk of media coverage should the lost\ndata be found somewhere inappropriate (the local newspaper\nheadline ‘Cancer patients’ data found on memory stick in car\npark’ could still be applied whether the data were anonymized or\nnot).The major disadvantage of a completely anonymized data-\nbase is that it is a static database that cannot be updated later if\nthere is a need for further data input.This may not be a problem\nfor many histopathology research projects (e.g.novel immuno-\nhistochemistry on a series of tumours) but is obviously not\ncompatible with projects with continuing patient follow-up.In linked anonymization there is some system that links the\nresearch database to identiﬁable patient data.One method of\nlinkage is to have a separate secure database that acts as a key\nbetween identiﬁable data records and the anonymized research\ndatabase.Such a database does not need to be electronic; it could\nsimply be a book with two entries on each line e the identiﬁable\ndata and the anonymized research accession number (often\nknown as the study number).Such a book could be kept securely\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n149\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nlocked in a ﬁling cabinet in a locked ofﬁce and access could be\nrestricted to a few named individuals involved in the research\nproject; often it will be a single named individual whose sole\npurpose is to provide linkage if requested.A much simpler method is to use some identiﬁer\nwhich is not identiﬁable without access to some existing infor-\nmation system.This could be the patient’s hospital number but\nmany ethics committees regard this as relatively insecure\nbecause the patient’s hospital number could open access to a\nwhole range of information in many different hospital informa-\ntion systems (and the patient’s NHS number is even less secure\nand more informative).In histopathology we are fortunate in\nhaving the laboratory accession number which is a restrictive\nsuperﬁcially-anonymous identiﬁer that is only available to those\nwith access to the laboratory information computer system, and\nthat system is already heavily protected by individual password\nlogin, automatic timing out of terminals after a short period of\nnon-use, etc.If we are conducting a research study on archival\ndiagnostic surgical material, then we will probably be using\nslides labelled with the laboratory accession number and we are\nunlikely to anonymize that number because of the slide labelling\nproblems it would cause.At present the ethics committees that\nwe have passed applications through have been happy to use the\nlaboratory accession number to anonymize the samples and data\nin studies, although they have always required a statement on\nthe circumstances in which the investigators would go back to\nthe laboratory information system for more data.Such consid-\nerations always have to be made for any research project and are\nnot exclusively a feature of research databases.It still needs to be appreciated that simple personal data, such\nas name and address, are not the only items that can identify an\nindividual.The date of birth is quite a speciﬁc item and com-\nbined with other items in a database (e.g.a woman with breast\ncancer diagnosed in 2002) could provide a strong indication of an\nindividual’s identity.It is usually better to change the date of\nbirth to a less speciﬁc age datum at the time of entering infor-\nmation into the database; age at diagnosis will probably give all\nthe information that is required.It should be noted that even when a database has been\n‘anonymized’ using relatively opaque linkage items, such as the\nlaboratory accession number, it is still not completely anony-\nmized because links can be made indirectly which could iden-\ntify the patient.Although this linked ‘anonymization’ will mini-\nmize the adverse effects of any data loss or unauthorized access\nto the data, the database is still legally regarded as personal data\nunder legislation such as the UK Data Protection Act.3,4 Under\nthis Act, only data essential to the study can be collected and they\ncan only be stored for as long as the study is active.This brings us to legal consideration as whether the database\nneeds to be registered under the terms of the Data Protection Act\nin the UK, or similar legislation in other countries.If there is no\nlinkage possible at all between the research database and per-\nsonal patient data, then it would not need to registered, but since\nthe act of creation of the database will involve some access to\npersonal data, then we would suggest that it does need regis-\ntration.In most UK institutions this is a simple process because\nthere will be an institutional Data Protection Ofﬁcer and the\ninstitution will be registered with the Government’s Information\n\nCommissioner, which will usually give generic registration for\ndatabases in that institution without the need for the registration\nof individual databases.A further medicolegal consideration is the duty of disclosure\nthat could occur if review of a case with identiﬁable data showed\nthat there was a misdiagnosis or mistreatment, e.g.if review of a\nseries of cases of mesothelioma showed that one of the cases\nappeared to be mesothelial hyperplasia rather than mesotheli-\noma.If there is complete anonymization, then this cannot apply.If there is linked anonymization, then it could apply and this\nneeds to be considered before the study commences.In most\nhistopathology research studies, the tissue being reviewed is only\na sample of the whole diagnostic material available on the case,\ne.g.a single block of breast cancer, so a full diagnostic review of\nthe case is not being carried out.The tissue is also being exam-\nined in a research context, e.g.a single core of tumour in a tissue\nmicroarray, where it is possible that there could have been some\ntransposition of laboratory accession numbers or rows and col-\numns in a spreadsheet and the risk of misidentiﬁcation would be\nslightly higher than in a fully functioning diagnostic histopa-\nthology laboratory.For these reasons, we include a statement in\nour ethics committee application stating that any discoveries are\nfor research purposes only and that there will be no retrograde\nﬂow of information back to patient records or individual patients.Design your database\n\nThe design of your database should reﬂect the design of your\nresearch project and it would be better to have all your aims and\nobjectives of the project clearly formulated and recorded before\nyou start to design your database.Sometimes, however, design of\nthe database and general objectives of the research project emerge\nconcurrently.A good way to design your database is to take a blank\nsheet of A3 paper and sketch out all the data items you think you\nneed in a ‘spider’ (or ‘mindmap’) diagram with clusters of related\nitems.This gets you away from a computer screen and a form\nformat, and allows you to look at all the data items with an over-\nview.It is worth spending some time doing this, possibly redraw-\ning the diagram if it becomes too cluttered by changes, because this\nis the most important stage of database design and time spent on\nthis stage will pay major dividends later in the process.You need to arrive at a design with all the data items that are\nessential for your project but no more than that.If you do not\ninclude essential data items at the start of the process, you will\ndiscover their absence later and then need to modify the database,\nand you may have to go through all your original data sources to\ninput the missing items.It is usually best to include individual raw\ndata items and use them to calculate derived data items within the\ndatabase.An example in breast cancer would be the Nottingham\nPrognostic Index.If you only include the Nottingham Prognostic\nIndex in your database as an aggregate measure of the potential\nprognostic behaviour of the tumour, then you will not have access\nto the tumour size, tumour grade and lymph node status in future\nanalyses.If you include those three items separately, then you can\ncreate a fourth derived data item that will automatically calculate\nthe Nottingham Prognostic Index from these items.If you only\nrecord axillary lymph node status in a case of breast cancer as\npositive or negative, then you will not have access to the total\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n150\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nnumber of positive lymph nodes, whereas if you record the total\nnumber of positive lymph nodes, you will be able to create\nanother automatically derived data item for overall lymph node\nstatus.The general rule is that data items cannot be split at a later\nstage, but they can be easily, and automatically, aggregated later,\nso it is best to create a database with the simplest raw data items\nincluded instead of derivative/aggregated data items.Any variable that in its raw state is a continuous variable (e.g.You should of course ensure that all the data items in your\ndatabase are relevant to your project’s aims and objectives\nbecause it is a waste of resources (usually your time) to enter\nirrelevant items.What software should you use? You will notice that choice of software comes after design of the\ndatabase.Too many researchers start with the software choice and\nthen their database design is inﬂuenced by what the software can\ndo, rather than what the software can do for them.There are a\nnumber of popular database software packages on the market,\nsuch as Microsoft Access and Filemaker Pro, which run on indi-\nvidual computers.There are also server-based databases, such as\nMySQL, Microsoft SQL Server or Oracle.These software packages\nare all very good and very powerful for multiuser projects with a\nnumber of interacting databases, but they are overkill for a\nresearch project such as the breast cancer tissue array project\ndescribed above.Although we have used Microsoft Access and\nFilemaker Pro in the past with success, the learning curve for using\nthese packages is relatively steep and the results are no better than\nusing our current preferred option which is Microsoft Excel.It has the major\nadvantages of virtually no learning curve, if you already use its\nspreadsheet functions, no platform speciﬁcity (Microsoft Access\ndoes not run on Macintosh computers), accepts ﬁles from other\nsources in a wide range of formats, and does not allow the user to\nwaste time creating colourful graphical interfaces for entering data\nthat have no value to the project.We simply create a column for\neach data item and use a row for each case.The ‘Split Window’ and\n‘Freeze Panes’ functions (found under the Windows menu at the\ntop of the screen) allow the column headings and left-hand row\nlabels to remain on the screen all the time no matter how many\nrows or columns there are in the spreadsheet (see the Excel help\nﬁles for further details).We enter data directly into the spreadsheet\nwithout using any custom entry form, but it is easy to create one if\nyou feel that data entry would be cleaner by using one, e.g.if\nsomeone without specialist knowledge is entering the data for you.The consideration with\nthese web-based databases is the security of the commercial\n\nproviders’ servers, but they are basing their business on a secure\nservice so the risk might be lower than for an ad-hoc server in an\nacademic institution.08/23156/3E, it will be treated as text rather than a number in\nExcel and there can be a number of problems when sorting data\nfor analysis.Tables 1 and 2 illustrate these problems and show\nthat the best solution is to create separate columns for each\nelement of a multipart or mixed number/text item.Binary data\nitems, such as gender or lymph node status, are easier but there is\nstill a decision to be made as to whether to use strict mathematical\nbinary code or a more descriptive code.Gender could be coded as\n1 ¼ female and 0 ¼ male, but this is an arbitrary coding that is not\nmemorable to the data inputer.Coding as f ¼ female and m ¼\nmale is memorable and so far lower rates of errors are likely\nduring the inputting of the data, i.e.With the full year added\nand sorted, column 3, there is still a problem with the\norder of the second and third rows because zeros before\nthe accession number have not been added to numbers\nwith fewer than ﬁve digits.When this has been done,\ncolumn 4, the numbers now do sort into the correct time\norder but a better method is shown in Table 2\n\n1.Full year and\npreceeding zeros\nsorted\n\n98/1119/3E\n02/34001/4F\n99/1231/2F\n00/32754/1A\n03/4567/8G\n99/12237/4D\n\n00/32754/1A\n02/34001/4F\n03/4567/8G\n98/1119/3E\n99/1231/2F\n99/12237/4D\n\n1998/1119/3E\n1999/12237/4D\n1999/1231/2F\n2000/32754/1A\n2002/34001/4F\n2003/4567/8G\n\n1998/01119/3E\n1999/01231/2F\n1999/12237/4D\n2000/32754/1A\n2002/34001/4F\n2003/04567/8G\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\nTable 1\n\n151\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nThis shows a better method for coding the laboratory\naccession number by creating a separate column for\neach element of the number.Note that in this case\npreceding zeros do not need to be included as the Excel\nsoftware is treating the numbers as actual numbers\nrather than text, as in Table 1.a\nrepresentative block of breast cancer from a mastectomy\nspecimen, then always remember to include the speciﬁc\nblock number in the database, otherwise future studies\nmay have to retrieve all the slides for the case (speciﬁed\nby the year and accession number) and look at these to\nselect the representative block again e a huge amount\nof rework for no gain in value\n\nNumber\n\n1119\n1231\n12237\n32754\n34001\n4567\n\nPart\n\n3E\n2F\n4D\n1A\n4F\n8G\n\nYear\n\n1998\n1999\n1999\n2000\n2002\n2003\n\nTable 2\n\nuseful and can be optimized by choosing different ﬁrst letters for\nas many different items as possible.An example for breast cancer\nthat we have used is tumour type, where d ¼ ductal, l ¼ lobular, t\n¼ tubular, me ¼ medullary, mu ¼ mucinous, etc.Importing items into your database\n\nIf some of the data you wish to have in your database exist in\nanother database, it may be possible to import them into your\ndatabase instead of having to key them all in.People often volunteer data\nfrom a database which on closer examinations contains many\nformatting inconsistencies, e.g.Whilst these are essential\nfor databases that port data between themselves on a frequent,\nrecurrent basis, this is usually completely unnecessary for a\nstandalone research database, which usually only requires a sin-\ngle transfer at a single point in time.It should be\nnoted that it is best to import as the ﬁrst stage of creating your\n\nresearch database, rather than trying to add the imported data to\nan existing database which may be more problematic.Calculating derived data items within your database\n\nAs noted above it is often easier (and certainly more accurate) to\ncalculate some derived data items from raw source data items\nwithin the database.Deriving the lymph node status component for the Not-\ntingham Prognostic Index from the total number of positive\nlymph nodes would be more complicated but the conditional\noperators exist in Excel to allow this, e.g.¼ IF(A23 > 3,2,0), and\nautomatic help boxes make this very easy (click the calculator\nsymbol on the Excel toolbar just to the right of the green tick\nsymbol).Verifying your data\n\nOnce you have input your data you need to make some assess-\nment of the veracity of that data.It is remarkable how many\nerrors are introduced during data entry that need to be corrected\nbefore the database is usable.Excel has some useful functions\nthat make debugging the database relatively easy.One method is\nto ensure that you have saved the database and then try sorting\nthe data in many different ways.Go to ‘Sort’ under the ‘Data’\nmenu and select any single column as the sorting factor and\nperform the sort.Now scroll through the database sheet looking\nat the column you sorted by, especially at the top and bottom of\nthe sorted sheet, and you can see all sorts of data entry errors\nfrom completely blank cells through to mispellings or duplicated\nsymbols.You could repeat these sorts for each column to check\nfor further errors in other columns.A similar, but possibly easier,\nmethod is to use the Autoﬁlter function.Highlight the complete\nsheet (by clicking the diamond symbol in the top left cell of the\nsheet), from the Data menu select the Filter option and then\nselect the Autoﬁlter option.At the top of each column there will\nnow appear an up and down arrow symbol; clicking on this\nproduces a list of all the different occurrences of data items in\nthat column, making it very easy to see errors such as ‘Y’ instead\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n152\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nof ‘y’.When all the obvious typing errors have been corrected, it\nwould be wise to perform an audit, checking perhaps 10% of the\ncase records with their original source data to check that there\nare no systematic data entry errors.Backing up your database\n\nData only exists when it is stored in two places e this widespread\ndictum is never more true than for databases.If you are going to\nspend many hours entering data into a database, then you need to\nhave a reliable system of back-up.Excel-based databases produce ﬁles which are very manageable in\nsize and can easily be backed up to CDs or memory sticks, but be\nmindful of security issues even with a completely anonymized\ndatabase (which would still cause media interest if found in an\ninappropriate place) and keep the copies in secure locations.Many\nNHS institutions are now so wary of data loss through sources such\nas memory sticks, that they are considering disabling USB ports on\ntheir computers so automated back-ups onto servers within the\ninstitution’s ﬁrewall may well become the norm.Exporting data for analysis\n\nThe function of a database is to store and order data for a\nresearch project that can then be analysed.By using Excel as the\ndatabase software, many statistical functions and analysis can be\nused directly within Excel.However more sophisticated analyses\nwill require preprocessing and export to other programmes such\nas SSPS.The preprocessing will mainly consist of converting\ndescriptive variables into numerical values, e.g.‘f’ to ‘1’, which\nis easily done using the search and replace functions of Excel.The labels of the columns may have to be shortened to be read by\nsome statistical programmes, e.g.Again, you must remember to\nsave the spreadsheet with a different ﬁlename before beginning\ndata preprocessing, as it will destroy some of the data, or\ncertainly its format.Most specialist statistical programmes, such\nas SPSS, will read Excel ﬁles but data can be output in comma- or\ntab-delimited text from Excel if necessary.They might also have had a\nbound book with notes, or possibly a pile of loose papers with\nvarious notes e they still might have those on their desk today.A\nsupervised researcher working in a well-organized laboratory\nshould still have a bound book as a record of their experiments and\nprimary data, but there are now more useful ways of storing other\ninformation than a pile of loose papers.The widespread availability\nof electronic PDF versions of published paper and the information\ndisplayed on numerous authoritative websites has widened the\nscope for electronic databases of collected research ‘notes’.These\nshould be much easier to search, can have direct links to PDF ﬁles\nstored on the computer and direct links to relevant websites, and\ncould signiﬁcantly improve a researcher’s productivity.A number\n\nof software programmes that perform this task are available.On\nMacintosh computers TapForms6 appears to be the current market\nleader and is extremely easy to use.On PCs Microsoft Ofﬁce One-\nNote (available as part of the MS Ofﬁce 2016 Ofﬁce Suite) is a\ncomprehensive electronic documentation application that allows\norganization and storage of information from a wide range of\nsources.7 It also allows resources to be shared securely with project\ncollaborators via the internet.Conclusions\n\nA research database for even relatively sophisticated histopa-\nthology research projects, e.g.immunohistochemical staining of\ntissue arrays with hundreds of tumours, is easy to construct and\nuse provided that care is taken in its overall design and the\ncoding of data items.The purpose of the database should always\nbe to serve the overall aims of the research project and it should\nnot become an isolated resource-consuming entity.For most\nhistopathology projects, a simple spreadsheet programme, such\nas Microsoft Excel, will provide all\nthe necessary database\nfunctions with the minimum amount of infra-structural effort.Conﬂicts of interest\n\nThe authors have no conﬂicts of interest to declare.A\n\nREFERENCES\n1 Balasubramanian SP, Cross SS, Globe J, Cox A, Brown NJ,\n\nReed MW.Endostatin gene variation and protein levels in breast\ncancer susceptibility and severity.BMC Cancer 2007; 7: 107. 2 BBC News website.Thousands of Welsh NHS staff’s data stolen in\n\nhack.Avaliable at: http://www.bbc.co.uk/news/uk-wales-\n39249975 (accessed 4 June 2017). 3 Data Protection Act.Available at: http://www.legislation.gov.uk/\n\nukpga/1998/29/contents (accessed 4 June 2017).4 Iversen A, Liddell K, Fear N, Hotopf M, Wessely S. Consent,\n\nconﬁdentiality and the data protection act.BMJ 2006; 332: 165e9. 5 Walkenbach J. Excel 2016 bible.Hoboken, New Jersey: John Wiley\n\n& Sons, 2015. June 2017). 6 TapForms.Avaliable at: https://www.tapforms.com/ (accessed 4\n\n7 Microsoft Ofﬁce OneNote.Avaliable at: https://www.onenote.com/\n\n(accessed 4 June 2017).Practice points\n\nC Any research database should be anonymized as completely as is\n\nfeasible for the speciﬁc research project\n\nC A research database should always be part of a project approved\nby a research ethics committee and should be speciﬁed within the\nresearch protocol\n\nC A research database should comply with appropriate data pro-\n\ntection legislation, the Data Protection Act in the UK\n\nC The design of the database should be speciﬁed by the aims and\nobjectives of the research project and not by software capabilities\nC Care should be taken to code data items in a format that retains\nall potentially relevant information and which allows them to be\nselected and sorted in a consistent manner\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n153\n\n(cid:1) 2017 Published by Elsevier Ltd.",
          "time": 252.52746391296387,
          "input_token_size": 7421,
          "output_token_size": 62,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_7d4159e6",
        "created_at": 1750198873.8460143,
        "processing_time": 255.15396189689636,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs",
        "reason": "shorter_provenance",
        "sentence_count": 190,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs",
            "sentence_count": 190,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.870848"
      }
    }
  },
  {
    "7d63f1a9": {
      "question": "When is data coding discussed in the document?",
      "answer": "Coding of data items is discussed in the section titled \"Coding your data.\"",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            163,
            164,
            165,
            166,
            167,
            168,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            163,
            164,
            165,
            166,
            167,
            168,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance": "MINI-SYMPOSIUM: RESEARCH\n\nHow to design and use a\nresearch database\n\nSimon S Cross\n\nIan R Palmer\n\nTimothy J Stephenson\n\nAbstract\nThe vast majority of histopathology research projects based on a se-\nries of tissue samples will require a database to store and organize the\ndata.Most of these databases will be relatively simple standalone da-\ntabases that can be created in a spreadsheet application.However,\nthere are still some important considerations in the design of the data-\nbase and coding of the data that will make its subsequent use much\nmore time efﬁcient.This article reviews the scope of databases for\ncommon histopathology research projects, the ethical and legal con-\nsiderations, design of the database structure, coding of data items,\nand import and export of data from databases.Keywords anonymization; databases; histopathology\n\nIntroduction\n\nMost research projects need some method for recording and\nordering data.Sometimes this may be a complex system that\nautomatically links with other data sources, but in most cases it\nwill be a relatively simple standalone database for a single\nresearcher to maintain their research data.However, even though\nthis level of database may be relatively simple, it is still very\nimportant to give some thought to its design before starting to use\nit, as a well-designed database will make analysing results much\neasier, and a poorly-designed database can lead to much wasted\ntime which may even extend as far as having to re-enter data.What sort of database does your project need?At the start of a research project you need to make a simple\nassessment of what your database will need to do.If your\ninvolving\nresearch project\nseveral different centres and which requires data to be entered by\nseveral different personnel, then we hope you have budgeted for\n\nis a randomized controlled trial\n\nSimon S Cross MD FRCPath is Professor of Diagnostic Histopathology\nat the University of Shefﬁeld and an Honorary Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation,\nUK.Conﬂict of interest: There is no conﬂict of interest.Ian R Palmer BSc is the Faculty IT Manager (Medicine, Dentistry &\nHealth) and Faculty IT Liaison Corporate Information and Computing\nServices at the University of Shefﬁeld, Shefﬁeld, UK.Conﬂict of\ninterest: There is no conﬂict of interest.Timothy J Stephenson MA MD MBA FRCPath is a Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation\nTrust and Honorary Professor at the University of Shefﬁeld and\nShefﬁeld Hallam University, Shefﬁeld, UK.Conﬂict of interest: There\nis no conﬂict of interest.a dedicated database manager in your research grant because\nyou will need them!Such a database is well outside the scope of\nthis paper.A more tractable project might be something like a\nnumber of different immunohistochemical stains performed on a\nretrospective series of 500 cases of breast cancer with histo-\npathological data (such as tumour size, grade, lymph node sta-\ntus) and clinical follow-up (e.g.time to last follow-up, recurrent\ndisease, death not due to breast cancer, death due to breast\ncancer).A database for a project such as this would be a\nreasonable proposition for a single researcher, such as a histo-\npathology trainee working on an PhD degree, and is the scale\nof database that we use all the time in our projects.1\n\nAnonymization, ethical and legal considerations\n\nAny research database should be anonymized to the highest level\nthat is compatible with the viability of the research project.The\nrecent high proﬁle cases in the media highlighting data losses by\nGovernment agencies has shown how easy it is for data in some\nformat (laptop, hard drive, data stick, and more recently insecure\nserver etc.)to be lost or stolen.2 It is likely that you will be\nmoving your data around between computers and it is probable\nthat you will be using a laptop computer, so for security con-\nsiderations alone the database should be anonymized.Any\nresearch project will require local ethics committee approval, and\nmost ethics committees are rightly concerned about the trans-\nmission of personal medical data and usually insist that any\nresearch databases are anonymized.There are two main methods of anonymization e complete\nand linked.The most secure is complete anonymization where\nthe clinicopathological data are taken from their original source\nand entered into the research database with no linkage at all\nbetween the two.If all personal identiﬁers are excluded from the\nresearch database, then there should be no way of systematically\nidentifying patients from the data held in the research database (it\nshould, however, be noted that it might be possible to identify\noccasional individuals if they have very distinctive characteristics,\ne.g.a 16-year-old female living in city ‘x’ who was diagnosed with\nbreast cancer).The advantage of a totally anonymized database is\na lowering of the risk should it be lost or stolen.It obviously re-\nduces the risk of identiﬁcation of individuals to close to zero, but\nit does not eliminate the risk of media coverage should the lost\ndata be found somewhere inappropriate (the local newspaper\nheadline ‘Cancer patients’ data found on memory stick in car\npark’ could still be applied whether the data were anonymized or\nnot).The major disadvantage of a completely anonymized data-\nbase is that it is a static database that cannot be updated later if\nthere is a need for further data input.This may not be a problem\nfor many histopathology research projects (e.g.novel immuno-\nhistochemistry on a series of tumours) but is obviously not\ncompatible with projects with continuing patient follow-up.In linked anonymization there is some system that links the\nresearch database to identiﬁable patient data.One method of\nlinkage is to have a separate secure database that acts as a key\nbetween identiﬁable data records and the anonymized research\ndatabase.Such a database does not need to be electronic; it could\nsimply be a book with two entries on each line e the identiﬁable\ndata and the anonymized research accession number (often\nknown as the study number).Such a book could be kept securely\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n149\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nlocked in a ﬁling cabinet in a locked ofﬁce and access could be\nrestricted to a few named individuals involved in the research\nproject; often it will be a single named individual whose sole\npurpose is to provide linkage if requested.However, this method\ninvolves setting up a separate administration system with its own\nsecurity issues.A much simpler method is to use some identiﬁer\nwhich is not identiﬁable without access to some existing infor-\nmation system.This could be the patient’s hospital number but\nmany ethics committees regard this as relatively insecure\nbecause the patient’s hospital number could open access to a\nwhole range of information in many different hospital informa-\ntion systems (and the patient’s NHS number is even less secure\nand more informative).In histopathology we are fortunate in\nhaving the laboratory accession number which is a restrictive\nsuperﬁcially-anonymous identiﬁer that is only available to those\nwith access to the laboratory information computer system, and\nthat system is already heavily protected by individual password\nlogin, automatic timing out of terminals after a short period of\nnon-use, etc.If we are conducting a research study on archival\ndiagnostic surgical material, then we will probably be using\nslides labelled with the laboratory accession number and we are\nunlikely to anonymize that number because of the slide labelling\nproblems it would cause.At present the ethics committees that\nwe have passed applications through have been happy to use the\nlaboratory accession number to anonymize the samples and data\nin studies, although they have always required a statement on\nthe circumstances in which the investigators would go back to\nthe laboratory information system for more data.Such consid-\nerations always have to be made for any research project and are\nnot exclusively a feature of research databases.It still needs to be appreciated that simple personal data, such\nas name and address, are not the only items that can identify an\nindividual.The date of birth is quite a speciﬁc item and com-\nbined with other items in a database (e.g.a woman with breast\ncancer diagnosed in 2002) could provide a strong indication of an\nindividual’s identity.It is usually better to change the date of\nbirth to a less speciﬁc age datum at the time of entering infor-\nmation into the database; age at diagnosis will probably give all\nthe information that is required.It should be noted that even when a database has been\n‘anonymized’ using relatively opaque linkage items, such as the\nlaboratory accession number, it is still not completely anony-\nmized because links can be made indirectly which could iden-\ntify the patient.Although this linked ‘anonymization’ will mini-\nmize the adverse effects of any data loss or unauthorized access\nto the data, the database is still legally regarded as personal data\nunder legislation such as the UK Data Protection Act.3,4 Under\nthis Act, only data essential to the study can be collected and they\ncan only be stored for as long as the study is active.This brings us to legal consideration as whether the database\nneeds to be registered under the terms of the Data Protection Act\nin the UK, or similar legislation in other countries.If there is no\nlinkage possible at all between the research database and per-\nsonal patient data, then it would not need to registered, but since\nthe act of creation of the database will involve some access to\npersonal data, then we would suggest that it does need regis-\ntration.In most UK institutions this is a simple process because\nthere will be an institutional Data Protection Ofﬁcer and the\ninstitution will be registered with the Government’s Information\n\nCommissioner, which will usually give generic registration for\ndatabases in that institution without the need for the registration\nof individual databases.However, you would need to check the\ndetails of your institution’s processes.A further medicolegal consideration is the duty of disclosure\nthat could occur if review of a case with identiﬁable data showed\nthat there was a misdiagnosis or mistreatment, e.g.if review of a\nseries of cases of mesothelioma showed that one of the cases\nappeared to be mesothelial hyperplasia rather than mesotheli-\noma.If there is complete anonymization, then this cannot apply.If there is linked anonymization, then it could apply and this\nneeds to be considered before the study commences.In most\nhistopathology research studies, the tissue being reviewed is only\na sample of the whole diagnostic material available on the case,\ne.g.a single block of breast cancer, so a full diagnostic review of\nthe case is not being carried out.The tissue is also being exam-\nined in a research context, e.g.a single core of tumour in a tissue\nmicroarray, where it is possible that there could have been some\ntransposition of laboratory accession numbers or rows and col-\numns in a spreadsheet and the risk of misidentiﬁcation would be\nslightly higher than in a fully functioning diagnostic histopa-\nthology laboratory.For these reasons, we include a statement in\nour ethics committee application stating that any discoveries are\nfor research purposes only and that there will be no retrograde\nﬂow of information back to patient records or individual patients.Design your database\n\nThe design of your database should reﬂect the design of your\nresearch project and it would be better to have all your aims and\nobjectives of the project clearly formulated and recorded before\nyou start to design your database.Sometimes, however, design of\nthe database and general objectives of the research project emerge\nconcurrently.A good way to design your database is to take a blank\nsheet of A3 paper and sketch out all the data items you think you\nneed in a ‘spider’ (or ‘mindmap’) diagram with clusters of related\nitems.This gets you away from a computer screen and a form\nformat, and allows you to look at all the data items with an over-\nview.It is worth spending some time doing this, possibly redraw-\ning the diagram if it becomes too cluttered by changes, because this\nis the most important stage of database design and time spent on\nthis stage will pay major dividends later in the process.You need to arrive at a design with all the data items that are\nessential for your project but no more than that.If you do not\ninclude essential data items at the start of the process, you will\ndiscover their absence later and then need to modify the database,\nand you may have to go through all your original data sources to\ninput the missing items.It is usually best to include individual raw\ndata items and use them to calculate derived data items within the\ndatabase.An example in breast cancer would be the Nottingham\nPrognostic Index.If you only include the Nottingham Prognostic\nIndex in your database as an aggregate measure of the potential\nprognostic behaviour of the tumour, then you will not have access\nto the tumour size, tumour grade and lymph node status in future\nanalyses.If you include those three items separately, then you can\ncreate a fourth derived data item that will automatically calculate\nthe Nottingham Prognostic Index from these items.If you only\nrecord axillary lymph node status in a case of breast cancer as\npositive or negative, then you will not have access to the total\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n150\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nnumber of positive lymph nodes, whereas if you record the total\nnumber of positive lymph nodes, you will be able to create\nanother automatically derived data item for overall lymph node\nstatus.The general rule is that data items cannot be split at a later\nstage, but they can be easily, and automatically, aggregated later,\nso it is best to create a database with the simplest raw data items\nincluded instead of derivative/aggregated data items.Any variable that in its raw state is a continuous variable (e.g.tumour size in millimetres) should be stored as that continuous\nvariable rather than a category (e.g. tumours between 5 and 10\nmm).You should of course ensure that all the data items in your\ndatabase are relevant to your project’s aims and objectives\nbecause it is a waste of resources (usually your time) to enter\nirrelevant items.What software should you use? You will notice that choice of software comes after design of the\ndatabase.Too many researchers start with the software choice and\nthen their database design is inﬂuenced by what the software can\ndo, rather than what the software can do for them.There are a\nnumber of popular database software packages on the market,\nsuch as Microsoft Access and Filemaker Pro, which run on indi-\nvidual computers.There are also server-based databases, such as\nMySQL, Microsoft SQL Server or Oracle.These software packages\nare all very good and very powerful for multiuser projects with a\nnumber of interacting databases, but they are overkill for a\nresearch project such as the breast cancer tissue array project\ndescribed above.Although we have used Microsoft Access and\nFilemaker Pro in the past with success, the learning curve for using\nthese packages is relatively steep and the results are no better than\nusing our current preferred option which is Microsoft Excel.This\nspreadsheet application has enough database functions built into it\nto carry out all the necessary preprocessing before statistical\nanalysis of results in speciﬁc statistical software package, such as\nStatistical Package for Social Sciences (SPSS).It has the major\nadvantages of virtually no learning curve, if you already use its\nspreadsheet functions, no platform speciﬁcity (Microsoft Access\ndoes not run on Macintosh computers), accepts ﬁles from other\nsources in a wide range of formats, and does not allow the user to\nwaste time creating colourful graphical interfaces for entering data\nthat have no value to the project.We simply create a column for\neach data item and use a row for each case.The ‘Split Window’ and\n‘Freeze Panes’ functions (found under the Windows menu at the\ntop of the screen) allow the column headings and left-hand row\nlabels to remain on the screen all the time no matter how many\nrows or columns there are in the spreadsheet (see the Excel help\nﬁles for further details).We enter data directly into the spreadsheet\nwithout using any custom entry form, but it is easy to create one if\nyou feel that data entry would be cleaner by using one, e.g.if\nsomeone without specialist knowledge is entering the data for you.If you need multiuser entry, then a single spreadsheet be-\ncomes problematic because version control becomes very difﬁ-\ncult.In these circumstances, a server-based database is more\nuseful but it can be difﬁcult to arrange access from different in-\nstitutions.A more recent development is the availability of web-\nbased databases, which are accessible from any web browser and\nmake multiuser data entry very simple.The consideration with\nthese web-based databases is the security of the commercial\n\nproviders’ servers, but they are basing their business on a secure\nservice so the risk might be lower than for an ad-hoc server in an\nacademic institution.Coding your data\n\nYou will know which data items you want to include in your\ndatabase because you designed it before you touched the com-\nputer keyboard, but now you need to consider how you are going\nto code that data.This only requires a bit of thought about how\nyou are going to sort and use the data but again if you code your\ndata in appropriate formats it will cause a lot of rework and delay\nlater.The laboratory accession number is a simple illustrative\ncase (Tables 1 and 2).This number is usually in the form of the\nyear and then a single unique number issued in ascending order\nas specimens arrive.There may also be a separate block number if\nthe specimen cannot be embedded in a single block.If such a\nnumber is entered into a single column in its usual format, e.g.08/23156/3E, it will be treated as text rather than a number in\nExcel and there can be a number of problems when sorting data\nfor analysis.Tables 1 and 2 illustrate these problems and show\nthat the best solution is to create separate columns for each\nelement of a multipart or mixed number/text item.Binary data\nitems, such as gender or lymph node status, are easier but there is\nstill a decision to be made as to whether to use strict mathematical\nbinary code or a more descriptive code.Gender could be coded as\n1 ¼ female and 0 ¼ male, but this is an arbitrary coding that is not\nmemorable to the data inputer.Coding as f ¼ female and m ¼\nmale is memorable and so far lower rates of errors are likely\nduring the inputting of the data, i.e.make the purest possible\ntransformations of data.It is a very simple automated ‘ﬁnd and\nreplace’ function to convert these to true mathematical binary\nitems for statistical analysis.It is well worth keeping descriptive\ncodings as short as possible, because this reduces the number of\nkeystrokes when entering data.The autoﬁll function of Excel is\n\nCoding the laboratory accession number.If entered in\nthe format in column 1 the accession number sorts to the\norder in column 2 e the year order is incorrect because\nthe full year was not included.With the full year added\nand sorted, column 3, there is still a problem with the\norder of the second and third rows because zeros before\nthe accession number have not been added to numbers\nwith fewer than ﬁve digits.When this has been done,\ncolumn 4, the numbers now do sort into the correct time\norder but a better method is shown in Table 2\n\n1.Unsorted\n\n2. Sorted\n\n3. Full year\nsorted\n\n4.Full year and\npreceeding zeros\nsorted\n\n98/1119/3E\n02/34001/4F\n99/1231/2F\n00/32754/1A\n03/4567/8G\n99/12237/4D\n\n00/32754/1A\n02/34001/4F\n03/4567/8G\n98/1119/3E\n99/1231/2F\n99/12237/4D\n\n1998/1119/3E\n1999/12237/4D\n1999/1231/2F\n2000/32754/1A\n2002/34001/4F\n2003/4567/8G\n\n1998/01119/3E\n1999/01231/2F\n1999/12237/4D\n2000/32754/1A\n2002/34001/4F\n2003/04567/8G\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\nTable 1\n\n151\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nThis shows a better method for coding the laboratory\naccession number by creating a separate column for\neach element of the number.Note that in this case\npreceding zeros do not need to be included as the Excel\nsoftware is treating the numbers as actual numbers\nrather than text, as in Table 1.If you are using a single\nrepresentative section from a multipart specimen, e.g.a\nrepresentative block of breast cancer from a mastectomy\nspecimen, then always remember to include the speciﬁc\nblock number in the database, otherwise future studies\nmay have to retrieve all the slides for the case (speciﬁed\nby the year and accession number) and look at these to\nselect the representative block again e a huge amount\nof rework for no gain in value\n\nNumber\n\n1119\n1231\n12237\n32754\n34001\n4567\n\nPart\n\n3E\n2F\n4D\n1A\n4F\n8G\n\nYear\n\n1998\n1999\n1999\n2000\n2002\n2003\n\nTable 2\n\nuseful and can be optimized by choosing different ﬁrst letters for\nas many different items as possible.An example for breast cancer\nthat we have used is tumour type, where d ¼ ductal, l ¼ lobular, t\n¼ tubular, me ¼ medullary, mu ¼ mucinous, etc.It should be\nnoted that when entering text into Excel it will be case-sensitive in\nany manipulations, such as grouping or pivot data tables, so it is\nbest to use lower case letter throughout, which also reduces\nkeystrokes by not using the Shift key.Importing items into your database\n\nIf some of the data you wish to have in your database exist in\nanother database, it may be possible to import them into your\ndatabase instead of having to key them all in.The ﬁrst thing to\nensure is that the data in the other database are ‘clean’ (i.e.consistently formatted) and veriﬁed.People often volunteer data\nfrom a database which on closer examinations contains many\nformatting inconsistencies, e.g.‘yes’ coded as ‘y’, ‘Y’ or ‘1’ for a\nsingle data ﬁeld, and it then is better to start again with the\noriginal source data.Another common feature of processes\ndesigned to port data from one database to another is that IT\nprofessionals want to write complicated interface programmes\nwhich take weeks or months to develop.Whilst these are essential\nfor databases that port data between themselves on a frequent,\nrecurrent basis, this is usually completely unnecessary for a\nstandalone research database, which usually only requires a sin-\ngle transfer at a single point in time.The easiest method we have\nfound is to perform a search on the existing database to select the\nrecords that we want to import and then export those in a format\nthat Excel can read.Often the parent database will be able to\nexport in Excel format but comma or tab-delimited text is just as\nacceptable and causes no extra work.Once in Excel the imported\ndata can be quickly sorted and formatted as required.It should be\nnoted that it is best to import as the ﬁrst stage of creating your\n\nresearch database, rather than trying to add the imported data to\nan existing database which may be more problematic.Calculating derived data items within your database\n\nAs noted above it is often easier (and certainly more accurate) to\ncalculate some derived data items from raw source data items\nwithin the database.This can be done using Excel’s calculation\nfunctions and the reader is referred to Excel help ﬁles or\ninstructional books for the details of this.5 Obviously some cal-\nculations are easier than others.If your raw data item is the\nmaximum diameter of a breast cancer in millimetres and you\nwant to convert that to centimetres in the calculation of the\nNottingham Prognostic Index, then you would simply set up a\nformula such: ¼ A23/10 where A23 is the index of the cell\ncontaining the measurement in millimetres.It is a simple matter\nto propagate that formula down the whole column for size in\ncentimetres by using the ‘Fill’ ‘Down’ functions from the Edit\nmenu.Deriving the lymph node status component for the Not-\ntingham Prognostic Index from the total number of positive\nlymph nodes would be more complicated but the conditional\noperators exist in Excel to allow this, e.g.¼ IF(A23 > 3,2,0), and\nautomatic help boxes make this very easy (click the calculator\nsymbol on the Excel toolbar just to the right of the green tick\nsymbol).It should be noted that these calculated values only\nexist when the other items from which they are derived are still\npresent in the datasheet.If for any reason, such as reducing data\ndown to the core items for statistical analysis, you are going to\nremove columns from the datasheet, you must select the whole\ndatasheet, copy it and then paste it back in the same cells using\nthe Paste Special function and selecting Values.You will then\nhave a sheet in which each cell is an independent number not\ndependent on any other cell.Obviously, you should only do this\nwhen you have ﬁnished entering all the data and are ready for\ndata analysis, and you should immediately save this sheet in a\ndifferent name from the original database sheet.Verifying your data\n\nOnce you have input your data you need to make some assess-\nment of the veracity of that data.It is remarkable how many\nerrors are introduced during data entry that need to be corrected\nbefore the database is usable.Excel has some useful functions\nthat make debugging the database relatively easy.One method is\nto ensure that you have saved the database and then try sorting\nthe data in many different ways.Go to ‘Sort’ under the ‘Data’\nmenu and select any single column as the sorting factor and\nperform the sort.Now scroll through the database sheet looking\nat the column you sorted by, especially at the top and bottom of\nthe sorted sheet, and you can see all sorts of data entry errors\nfrom completely blank cells through to mispellings or duplicated\nsymbols.You could repeat these sorts for each column to check\nfor further errors in other columns.A similar, but possibly easier,\nmethod is to use the Autoﬁlter function.Highlight the complete\nsheet (by clicking the diamond symbol in the top left cell of the\nsheet), from the Data menu select the Filter option and then\nselect the Autoﬁlter option.At the top of each column there will\nnow appear an up and down arrow symbol; clicking on this\nproduces a list of all the different occurrences of data items in\nthat column, making it very easy to see errors such as ‘Y’ instead\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n152\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nof ‘y’.When all the obvious typing errors have been corrected, it\nwould be wise to perform an audit, checking perhaps 10% of the\ncase records with their original source data to check that there\nare no systematic data entry errors.Backing up your database\n\nData only exists when it is stored in two places e this widespread\ndictum is never more true than for databases.If you are going to\nspend many hours entering data into a database, then you need to\nhave a reliable system of back-up.The best systems are automatic\nand store the data at a geographically separate location; institutions\nsuch as universities often provide such systems for their members.Excel-based databases produce ﬁles which are very manageable in\nsize and can easily be backed up to CDs or memory sticks, but be\nmindful of security issues even with a completely anonymized\ndatabase (which would still cause media interest if found in an\ninappropriate place) and keep the copies in secure locations.Many\nNHS institutions are now so wary of data loss through sources such\nas memory sticks, that they are considering disabling USB ports on\ntheir computers so automated back-ups onto servers within the\ninstitution’s ﬁrewall may well become the norm.Exporting data for analysis\n\nThe function of a database is to store and order data for a\nresearch project that can then be analysed.By using Excel as the\ndatabase software, many statistical functions and analysis can be\nused directly within Excel.However more sophisticated analyses\nwill require preprocessing and export to other programmes such\nas SSPS.The preprocessing will mainly consist of converting\ndescriptive variables into numerical values, e.g.‘f’ to ‘1’, which\nis easily done using the search and replace functions of Excel.The labels of the columns may have to be shortened to be read by\nsome statistical programmes, e.g.SPSS will only read the ﬁrst\neight characters of variable names.Again, you must remember to\nsave the spreadsheet with a different ﬁlename before beginning\ndata preprocessing, as it will destroy some of the data, or\ncertainly its format.Most specialist statistical programmes, such\nas SPSS, will read Excel ﬁles but data can be output in comma- or\ntab-delimited text from Excel if necessary.Research notes ‘database’\n\nAny researcher 15 years ago would have had supplementary ‘da-\ntabases’ for their research projects, usually an index box with cards\nwith the authors and title of published papers and a number that\nreferred to a folder in a ﬁling cabinet.They might also have had a\nbound book with notes, or possibly a pile of loose papers with\nvarious notes e they still might have those on their desk today.A\nsupervised researcher working in a well-organized laboratory\nshould still have a bound book as a record of their experiments and\nprimary data, but there are now more useful ways of storing other\ninformation than a pile of loose papers.The widespread availability\nof electronic PDF versions of published paper and the information\ndisplayed on numerous authoritative websites has widened the\nscope for electronic databases of collected research ‘notes’.These\nshould be much easier to search, can have direct links to PDF ﬁles\nstored on the computer and direct links to relevant websites, and\ncould signiﬁcantly improve a researcher’s productivity.A number\n\nof software programmes that perform this task are available.On\nMacintosh computers TapForms6 appears to be the current market\nleader and is extremely easy to use.On PCs Microsoft Ofﬁce One-\nNote (available as part of the MS Ofﬁce 2016 Ofﬁce Suite) is a\ncomprehensive electronic documentation application that allows\norganization and storage of information from a wide range of\nsources.7 It also allows resources to be shared securely with project\ncollaborators via the internet.Conclusions\n\nA research database for even relatively sophisticated histopa-\nthology research projects, e.g.immunohistochemical staining of\ntissue arrays with hundreds of tumours, is easy to construct and\nuse provided that care is taken in its overall design and the\ncoding of data items.The purpose of the database should always\nbe to serve the overall aims of the research project and it should\nnot become an isolated resource-consuming entity.For most\nhistopathology projects, a simple spreadsheet programme, such\nas Microsoft Excel, will provide all\nthe necessary database\nfunctions with the minimum amount of infra-structural effort.Conﬂicts of interest\n\nThe authors have no conﬂicts of interest to declare.A\n\nREFERENCES\n1 Balasubramanian SP, Cross SS, Globe J, Cox A, Brown NJ,\n\nReed MW.Endostatin gene variation and protein levels in breast\ncancer susceptibility and severity.BMC Cancer 2007; 7: 107. 2 BBC News website.Thousands of Welsh NHS staff’s data stolen in\n\nhack.Avaliable at: http://www.bbc.co.uk/news/uk-wales-\n39249975 (accessed 4 June 2017). 3 Data Protection Act.Available at: http://www.legislation.gov.uk/\n\nukpga/1998/29/contents (accessed 4 June 2017).4 Iversen A, Liddell K, Fear N, Hotopf M, Wessely S. Consent,\n\nconﬁdentiality and the data protection act.BMJ 2006; 332: 165e9. 5 Walkenbach J. Excel 2016 bible.Hoboken, New Jersey: John Wiley\n\n& Sons, 2015. June 2017). 6 TapForms.Avaliable at: https://www.tapforms.com/ (accessed 4\n\n7 Microsoft Ofﬁce OneNote.Avaliable at: https://www.onenote.com/\n\n(accessed 4 June 2017).Practice points\n\nC Any research database should be anonymized as completely as is\n\nfeasible for the speciﬁc research project\n\nC A research database should always be part of a project approved\nby a research ethics committee and should be speciﬁed within the\nresearch protocol\n\nC A research database should comply with appropriate data pro-\n\ntection legislation, the Data Protection Act in the UK\n\nC The design of the database should be speciﬁed by the aims and\nobjectives of the research project and not by software capabilities\nC Care should be taken to code data items in a format that retains\nall potentially relevant information and which allows them to be\nselected and sorted in a consistent manner\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n153\n\n(cid:1) 2017 Published by Elsevier Ltd.",
          "time": 115.96259784698486,
          "input_token_size": 7413,
          "output_token_size": 276,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_7d63f1a9",
        "created_at": 1750198919.3956902,
        "processing_time": 118.21111178398132,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs",
        "reason": "shorter_provenance",
        "sentence_count": 190,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs",
            "sentence_count": 190,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.870848"
      }
    }
  },
  {
    "7fb7a7ac": {
      "question": "What utility does the document highlight for research databases?",
      "answer": "1. Store and organize data for histopathology research projects.\n2. Make analyzing results much easier.\n3. Reduce wasted time and the need to re-enter data.\n4. Facilitate the import and export of data.\n5. Allow for the calculation of derived data items from raw data.\n6. Improve productivity by providing easier access to research notes and information.",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            163,
            164,
            165,
            166,
            167,
            168,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            163,
            164,
            165,
            166,
            167,
            168,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance": "MINI-SYMPOSIUM: RESEARCH\n\nHow to design and use a\nresearch database\n\nSimon S Cross\n\nIan R Palmer\n\nTimothy J Stephenson\n\nAbstract\nThe vast majority of histopathology research projects based on a se-\nries of tissue samples will require a database to store and organize the\ndata.Most of these databases will be relatively simple standalone da-\ntabases that can be created in a spreadsheet application.However,\nthere are still some important considerations in the design of the data-\nbase and coding of the data that will make its subsequent use much\nmore time efﬁcient.This article reviews the scope of databases for\ncommon histopathology research projects, the ethical and legal con-\nsiderations, design of the database structure, coding of data items,\nand import and export of data from databases.Keywords anonymization; databases; histopathology\n\nIntroduction\n\nMost research projects need some method for recording and\nordering data.Sometimes this may be a complex system that\nautomatically links with other data sources, but in most cases it\nwill be a relatively simple standalone database for a single\nresearcher to maintain their research data.However, even though\nthis level of database may be relatively simple, it is still very\nimportant to give some thought to its design before starting to use\nit, as a well-designed database will make analysing results much\neasier, and a poorly-designed database can lead to much wasted\ntime which may even extend as far as having to re-enter data.What sort of database does your project need?At the start of a research project you need to make a simple\nassessment of what your database will need to do.If your\ninvolving\nresearch project\nseveral different centres and which requires data to be entered by\nseveral different personnel, then we hope you have budgeted for\n\nis a randomized controlled trial\n\nSimon S Cross MD FRCPath is Professor of Diagnostic Histopathology\nat the University of Shefﬁeld and an Honorary Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation,\nUK.Conﬂict of interest: There is no conﬂict of interest.Ian R Palmer BSc is the Faculty IT Manager (Medicine, Dentistry &\nHealth) and Faculty IT Liaison Corporate Information and Computing\nServices at the University of Shefﬁeld, Shefﬁeld, UK.Conﬂict of\ninterest: There is no conﬂict of interest.Timothy J Stephenson MA MD MBA FRCPath is a Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation\nTrust and Honorary Professor at the University of Shefﬁeld and\nShefﬁeld Hallam University, Shefﬁeld, UK.Conﬂict of interest: There\nis no conﬂict of interest.a dedicated database manager in your research grant because\nyou will need them!Such a database is well outside the scope of\nthis paper.A more tractable project might be something like a\nnumber of different immunohistochemical stains performed on a\nretrospective series of 500 cases of breast cancer with histo-\npathological data (such as tumour size, grade, lymph node sta-\ntus) and clinical follow-up (e.g.time to last follow-up, recurrent\ndisease, death not due to breast cancer, death due to breast\ncancer).A database for a project such as this would be a\nreasonable proposition for a single researcher, such as a histo-\npathology trainee working on an PhD degree, and is the scale\nof database that we use all the time in our projects.1\n\nAnonymization, ethical and legal considerations\n\nAny research database should be anonymized to the highest level\nthat is compatible with the viability of the research project.The\nrecent high proﬁle cases in the media highlighting data losses by\nGovernment agencies has shown how easy it is for data in some\nformat (laptop, hard drive, data stick, and more recently insecure\nserver etc.)to be lost or stolen.2 It is likely that you will be\nmoving your data around between computers and it is probable\nthat you will be using a laptop computer, so for security con-\nsiderations alone the database should be anonymized.Any\nresearch project will require local ethics committee approval, and\nmost ethics committees are rightly concerned about the trans-\nmission of personal medical data and usually insist that any\nresearch databases are anonymized.There are two main methods of anonymization e complete\nand linked.The most secure is complete anonymization where\nthe clinicopathological data are taken from their original source\nand entered into the research database with no linkage at all\nbetween the two.If all personal identiﬁers are excluded from the\nresearch database, then there should be no way of systematically\nidentifying patients from the data held in the research database (it\nshould, however, be noted that it might be possible to identify\noccasional individuals if they have very distinctive characteristics,\ne.g.a 16-year-old female living in city ‘x’ who was diagnosed with\nbreast cancer).The advantage of a totally anonymized database is\na lowering of the risk should it be lost or stolen.It obviously re-\nduces the risk of identiﬁcation of individuals to close to zero, but\nit does not eliminate the risk of media coverage should the lost\ndata be found somewhere inappropriate (the local newspaper\nheadline ‘Cancer patients’ data found on memory stick in car\npark’ could still be applied whether the data were anonymized or\nnot).The major disadvantage of a completely anonymized data-\nbase is that it is a static database that cannot be updated later if\nthere is a need for further data input.This may not be a problem\nfor many histopathology research projects (e.g.novel immuno-\nhistochemistry on a series of tumours) but is obviously not\ncompatible with projects with continuing patient follow-up.In linked anonymization there is some system that links the\nresearch database to identiﬁable patient data.One method of\nlinkage is to have a separate secure database that acts as a key\nbetween identiﬁable data records and the anonymized research\ndatabase.Such a database does not need to be electronic; it could\nsimply be a book with two entries on each line e the identiﬁable\ndata and the anonymized research accession number (often\nknown as the study number).Such a book could be kept securely\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n149\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nlocked in a ﬁling cabinet in a locked ofﬁce and access could be\nrestricted to a few named individuals involved in the research\nproject; often it will be a single named individual whose sole\npurpose is to provide linkage if requested.However, this method\ninvolves setting up a separate administration system with its own\nsecurity issues.A much simpler method is to use some identiﬁer\nwhich is not identiﬁable without access to some existing infor-\nmation system.This could be the patient’s hospital number but\nmany ethics committees regard this as relatively insecure\nbecause the patient’s hospital number could open access to a\nwhole range of information in many different hospital informa-\ntion systems (and the patient’s NHS number is even less secure\nand more informative).In histopathology we are fortunate in\nhaving the laboratory accession number which is a restrictive\nsuperﬁcially-anonymous identiﬁer that is only available to those\nwith access to the laboratory information computer system, and\nthat system is already heavily protected by individual password\nlogin, automatic timing out of terminals after a short period of\nnon-use, etc.If we are conducting a research study on archival\ndiagnostic surgical material, then we will probably be using\nslides labelled with the laboratory accession number and we are\nunlikely to anonymize that number because of the slide labelling\nproblems it would cause.At present the ethics committees that\nwe have passed applications through have been happy to use the\nlaboratory accession number to anonymize the samples and data\nin studies, although they have always required a statement on\nthe circumstances in which the investigators would go back to\nthe laboratory information system for more data.Such consid-\nerations always have to be made for any research project and are\nnot exclusively a feature of research databases.It still needs to be appreciated that simple personal data, such\nas name and address, are not the only items that can identify an\nindividual.The date of birth is quite a speciﬁc item and com-\nbined with other items in a database (e.g.a woman with breast\ncancer diagnosed in 2002) could provide a strong indication of an\nindividual’s identity.It is usually better to change the date of\nbirth to a less speciﬁc age datum at the time of entering infor-\nmation into the database; age at diagnosis will probably give all\nthe information that is required.It should be noted that even when a database has been\n‘anonymized’ using relatively opaque linkage items, such as the\nlaboratory accession number, it is still not completely anony-\nmized because links can be made indirectly which could iden-\ntify the patient.Although this linked ‘anonymization’ will mini-\nmize the adverse effects of any data loss or unauthorized access\nto the data, the database is still legally regarded as personal data\nunder legislation such as the UK Data Protection Act.3,4 Under\nthis Act, only data essential to the study can be collected and they\ncan only be stored for as long as the study is active.This brings us to legal consideration as whether the database\nneeds to be registered under the terms of the Data Protection Act\nin the UK, or similar legislation in other countries.If there is no\nlinkage possible at all between the research database and per-\nsonal patient data, then it would not need to registered, but since\nthe act of creation of the database will involve some access to\npersonal data, then we would suggest that it does need regis-\ntration.In most UK institutions this is a simple process because\nthere will be an institutional Data Protection Ofﬁcer and the\ninstitution will be registered with the Government’s Information\n\nCommissioner, which will usually give generic registration for\ndatabases in that institution without the need for the registration\nof individual databases.However, you would need to check the\ndetails of your institution’s processes.A further medicolegal consideration is the duty of disclosure\nthat could occur if review of a case with identiﬁable data showed\nthat there was a misdiagnosis or mistreatment, e.g.if review of a\nseries of cases of mesothelioma showed that one of the cases\nappeared to be mesothelial hyperplasia rather than mesotheli-\noma.If there is complete anonymization, then this cannot apply.If there is linked anonymization, then it could apply and this\nneeds to be considered before the study commences.In most\nhistopathology research studies, the tissue being reviewed is only\na sample of the whole diagnostic material available on the case,\ne.g.a single block of breast cancer, so a full diagnostic review of\nthe case is not being carried out.The tissue is also being exam-\nined in a research context, e.g.a single core of tumour in a tissue\nmicroarray, where it is possible that there could have been some\ntransposition of laboratory accession numbers or rows and col-\numns in a spreadsheet and the risk of misidentiﬁcation would be\nslightly higher than in a fully functioning diagnostic histopa-\nthology laboratory.For these reasons, we include a statement in\nour ethics committee application stating that any discoveries are\nfor research purposes only and that there will be no retrograde\nﬂow of information back to patient records or individual patients.Design your database\n\nThe design of your database should reﬂect the design of your\nresearch project and it would be better to have all your aims and\nobjectives of the project clearly formulated and recorded before\nyou start to design your database.Sometimes, however, design of\nthe database and general objectives of the research project emerge\nconcurrently.A good way to design your database is to take a blank\nsheet of A3 paper and sketch out all the data items you think you\nneed in a ‘spider’ (or ‘mindmap’) diagram with clusters of related\nitems.This gets you away from a computer screen and a form\nformat, and allows you to look at all the data items with an over-\nview.It is worth spending some time doing this, possibly redraw-\ning the diagram if it becomes too cluttered by changes, because this\nis the most important stage of database design and time spent on\nthis stage will pay major dividends later in the process.You need to arrive at a design with all the data items that are\nessential for your project but no more than that.If you do not\ninclude essential data items at the start of the process, you will\ndiscover their absence later and then need to modify the database,\nand you may have to go through all your original data sources to\ninput the missing items.It is usually best to include individual raw\ndata items and use them to calculate derived data items within the\ndatabase.An example in breast cancer would be the Nottingham\nPrognostic Index.If you only include the Nottingham Prognostic\nIndex in your database as an aggregate measure of the potential\nprognostic behaviour of the tumour, then you will not have access\nto the tumour size, tumour grade and lymph node status in future\nanalyses.If you include those three items separately, then you can\ncreate a fourth derived data item that will automatically calculate\nthe Nottingham Prognostic Index from these items.If you only\nrecord axillary lymph node status in a case of breast cancer as\npositive or negative, then you will not have access to the total\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n150\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nnumber of positive lymph nodes, whereas if you record the total\nnumber of positive lymph nodes, you will be able to create\nanother automatically derived data item for overall lymph node\nstatus.The general rule is that data items cannot be split at a later\nstage, but they can be easily, and automatically, aggregated later,\nso it is best to create a database with the simplest raw data items\nincluded instead of derivative/aggregated data items.Any variable that in its raw state is a continuous variable (e.g.tumour size in millimetres) should be stored as that continuous\nvariable rather than a category (e.g. tumours between 5 and 10\nmm).You should of course ensure that all the data items in your\ndatabase are relevant to your project’s aims and objectives\nbecause it is a waste of resources (usually your time) to enter\nirrelevant items.What software should you use? You will notice that choice of software comes after design of the\ndatabase.Too many researchers start with the software choice and\nthen their database design is inﬂuenced by what the software can\ndo, rather than what the software can do for them.There are a\nnumber of popular database software packages on the market,\nsuch as Microsoft Access and Filemaker Pro, which run on indi-\nvidual computers.There are also server-based databases, such as\nMySQL, Microsoft SQL Server or Oracle.These software packages\nare all very good and very powerful for multiuser projects with a\nnumber of interacting databases, but they are overkill for a\nresearch project such as the breast cancer tissue array project\ndescribed above.Although we have used Microsoft Access and\nFilemaker Pro in the past with success, the learning curve for using\nthese packages is relatively steep and the results are no better than\nusing our current preferred option which is Microsoft Excel.This\nspreadsheet application has enough database functions built into it\nto carry out all the necessary preprocessing before statistical\nanalysis of results in speciﬁc statistical software package, such as\nStatistical Package for Social Sciences (SPSS).It has the major\nadvantages of virtually no learning curve, if you already use its\nspreadsheet functions, no platform speciﬁcity (Microsoft Access\ndoes not run on Macintosh computers), accepts ﬁles from other\nsources in a wide range of formats, and does not allow the user to\nwaste time creating colourful graphical interfaces for entering data\nthat have no value to the project.We simply create a column for\neach data item and use a row for each case.The ‘Split Window’ and\n‘Freeze Panes’ functions (found under the Windows menu at the\ntop of the screen) allow the column headings and left-hand row\nlabels to remain on the screen all the time no matter how many\nrows or columns there are in the spreadsheet (see the Excel help\nﬁles for further details).We enter data directly into the spreadsheet\nwithout using any custom entry form, but it is easy to create one if\nyou feel that data entry would be cleaner by using one, e.g.if\nsomeone without specialist knowledge is entering the data for you.If you need multiuser entry, then a single spreadsheet be-\ncomes problematic because version control becomes very difﬁ-\ncult.In these circumstances, a server-based database is more\nuseful but it can be difﬁcult to arrange access from different in-\nstitutions.A more recent development is the availability of web-\nbased databases, which are accessible from any web browser and\nmake multiuser data entry very simple.The consideration with\nthese web-based databases is the security of the commercial\n\nproviders’ servers, but they are basing their business on a secure\nservice so the risk might be lower than for an ad-hoc server in an\nacademic institution.Coding your data\n\nYou will know which data items you want to include in your\ndatabase because you designed it before you touched the com-\nputer keyboard, but now you need to consider how you are going\nto code that data.This only requires a bit of thought about how\nyou are going to sort and use the data but again if you code your\ndata in appropriate formats it will cause a lot of rework and delay\nlater.The laboratory accession number is a simple illustrative\ncase (Tables 1 and 2).This number is usually in the form of the\nyear and then a single unique number issued in ascending order\nas specimens arrive.There may also be a separate block number if\nthe specimen cannot be embedded in a single block.If such a\nnumber is entered into a single column in its usual format, e.g.08/23156/3E, it will be treated as text rather than a number in\nExcel and there can be a number of problems when sorting data\nfor analysis.Tables 1 and 2 illustrate these problems and show\nthat the best solution is to create separate columns for each\nelement of a multipart or mixed number/text item.Binary data\nitems, such as gender or lymph node status, are easier but there is\nstill a decision to be made as to whether to use strict mathematical\nbinary code or a more descriptive code.Gender could be coded as\n1 ¼ female and 0 ¼ male, but this is an arbitrary coding that is not\nmemorable to the data inputer.Coding as f ¼ female and m ¼\nmale is memorable and so far lower rates of errors are likely\nduring the inputting of the data, i.e.make the purest possible\ntransformations of data.It is a very simple automated ‘ﬁnd and\nreplace’ function to convert these to true mathematical binary\nitems for statistical analysis.It is well worth keeping descriptive\ncodings as short as possible, because this reduces the number of\nkeystrokes when entering data.The autoﬁll function of Excel is\n\nCoding the laboratory accession number.If entered in\nthe format in column 1 the accession number sorts to the\norder in column 2 e the year order is incorrect because\nthe full year was not included.With the full year added\nand sorted, column 3, there is still a problem with the\norder of the second and third rows because zeros before\nthe accession number have not been added to numbers\nwith fewer than ﬁve digits.When this has been done,\ncolumn 4, the numbers now do sort into the correct time\norder but a better method is shown in Table 2\n\n1.Unsorted\n\n2. Sorted\n\n3. Full year\nsorted\n\n4.Full year and\npreceeding zeros\nsorted\n\n98/1119/3E\n02/34001/4F\n99/1231/2F\n00/32754/1A\n03/4567/8G\n99/12237/4D\n\n00/32754/1A\n02/34001/4F\n03/4567/8G\n98/1119/3E\n99/1231/2F\n99/12237/4D\n\n1998/1119/3E\n1999/12237/4D\n1999/1231/2F\n2000/32754/1A\n2002/34001/4F\n2003/4567/8G\n\n1998/01119/3E\n1999/01231/2F\n1999/12237/4D\n2000/32754/1A\n2002/34001/4F\n2003/04567/8G\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\nTable 1\n\n151\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nThis shows a better method for coding the laboratory\naccession number by creating a separate column for\neach element of the number.Note that in this case\npreceding zeros do not need to be included as the Excel\nsoftware is treating the numbers as actual numbers\nrather than text, as in Table 1.If you are using a single\nrepresentative section from a multipart specimen, e.g.a\nrepresentative block of breast cancer from a mastectomy\nspecimen, then always remember to include the speciﬁc\nblock number in the database, otherwise future studies\nmay have to retrieve all the slides for the case (speciﬁed\nby the year and accession number) and look at these to\nselect the representative block again e a huge amount\nof rework for no gain in value\n\nNumber\n\n1119\n1231\n12237\n32754\n34001\n4567\n\nPart\n\n3E\n2F\n4D\n1A\n4F\n8G\n\nYear\n\n1998\n1999\n1999\n2000\n2002\n2003\n\nTable 2\n\nuseful and can be optimized by choosing different ﬁrst letters for\nas many different items as possible.An example for breast cancer\nthat we have used is tumour type, where d ¼ ductal, l ¼ lobular, t\n¼ tubular, me ¼ medullary, mu ¼ mucinous, etc.It should be\nnoted that when entering text into Excel it will be case-sensitive in\nany manipulations, such as grouping or pivot data tables, so it is\nbest to use lower case letter throughout, which also reduces\nkeystrokes by not using the Shift key.Importing items into your database\n\nIf some of the data you wish to have in your database exist in\nanother database, it may be possible to import them into your\ndatabase instead of having to key them all in.The ﬁrst thing to\nensure is that the data in the other database are ‘clean’ (i.e.consistently formatted) and veriﬁed.People often volunteer data\nfrom a database which on closer examinations contains many\nformatting inconsistencies, e.g.‘yes’ coded as ‘y’, ‘Y’ or ‘1’ for a\nsingle data ﬁeld, and it then is better to start again with the\noriginal source data.Another common feature of processes\ndesigned to port data from one database to another is that IT\nprofessionals want to write complicated interface programmes\nwhich take weeks or months to develop.Whilst these are essential\nfor databases that port data between themselves on a frequent,\nrecurrent basis, this is usually completely unnecessary for a\nstandalone research database, which usually only requires a sin-\ngle transfer at a single point in time.The easiest method we have\nfound is to perform a search on the existing database to select the\nrecords that we want to import and then export those in a format\nthat Excel can read.Often the parent database will be able to\nexport in Excel format but comma or tab-delimited text is just as\nacceptable and causes no extra work.Once in Excel the imported\ndata can be quickly sorted and formatted as required.It should be\nnoted that it is best to import as the ﬁrst stage of creating your\n\nresearch database, rather than trying to add the imported data to\nan existing database which may be more problematic.Calculating derived data items within your database\n\nAs noted above it is often easier (and certainly more accurate) to\ncalculate some derived data items from raw source data items\nwithin the database.This can be done using Excel’s calculation\nfunctions and the reader is referred to Excel help ﬁles or\ninstructional books for the details of this.5 Obviously some cal-\nculations are easier than others.If your raw data item is the\nmaximum diameter of a breast cancer in millimetres and you\nwant to convert that to centimetres in the calculation of the\nNottingham Prognostic Index, then you would simply set up a\nformula such: ¼ A23/10 where A23 is the index of the cell\ncontaining the measurement in millimetres.It is a simple matter\nto propagate that formula down the whole column for size in\ncentimetres by using the ‘Fill’ ‘Down’ functions from the Edit\nmenu.Deriving the lymph node status component for the Not-\ntingham Prognostic Index from the total number of positive\nlymph nodes would be more complicated but the conditional\noperators exist in Excel to allow this, e.g.¼ IF(A23 > 3,2,0), and\nautomatic help boxes make this very easy (click the calculator\nsymbol on the Excel toolbar just to the right of the green tick\nsymbol).It should be noted that these calculated values only\nexist when the other items from which they are derived are still\npresent in the datasheet.If for any reason, such as reducing data\ndown to the core items for statistical analysis, you are going to\nremove columns from the datasheet, you must select the whole\ndatasheet, copy it and then paste it back in the same cells using\nthe Paste Special function and selecting Values.You will then\nhave a sheet in which each cell is an independent number not\ndependent on any other cell.Obviously, you should only do this\nwhen you have ﬁnished entering all the data and are ready for\ndata analysis, and you should immediately save this sheet in a\ndifferent name from the original database sheet.Verifying your data\n\nOnce you have input your data you need to make some assess-\nment of the veracity of that data.It is remarkable how many\nerrors are introduced during data entry that need to be corrected\nbefore the database is usable.Excel has some useful functions\nthat make debugging the database relatively easy.One method is\nto ensure that you have saved the database and then try sorting\nthe data in many different ways.Go to ‘Sort’ under the ‘Data’\nmenu and select any single column as the sorting factor and\nperform the sort.Now scroll through the database sheet looking\nat the column you sorted by, especially at the top and bottom of\nthe sorted sheet, and you can see all sorts of data entry errors\nfrom completely blank cells through to mispellings or duplicated\nsymbols.You could repeat these sorts for each column to check\nfor further errors in other columns.A similar, but possibly easier,\nmethod is to use the Autoﬁlter function.Highlight the complete\nsheet (by clicking the diamond symbol in the top left cell of the\nsheet), from the Data menu select the Filter option and then\nselect the Autoﬁlter option.At the top of each column there will\nnow appear an up and down arrow symbol; clicking on this\nproduces a list of all the different occurrences of data items in\nthat column, making it very easy to see errors such as ‘Y’ instead\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n152\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nof ‘y’.When all the obvious typing errors have been corrected, it\nwould be wise to perform an audit, checking perhaps 10% of the\ncase records with their original source data to check that there\nare no systematic data entry errors.Backing up your database\n\nData only exists when it is stored in two places e this widespread\ndictum is never more true than for databases.If you are going to\nspend many hours entering data into a database, then you need to\nhave a reliable system of back-up.The best systems are automatic\nand store the data at a geographically separate location; institutions\nsuch as universities often provide such systems for their members.Excel-based databases produce ﬁles which are very manageable in\nsize and can easily be backed up to CDs or memory sticks, but be\nmindful of security issues even with a completely anonymized\ndatabase (which would still cause media interest if found in an\ninappropriate place) and keep the copies in secure locations.Many\nNHS institutions are now so wary of data loss through sources such\nas memory sticks, that they are considering disabling USB ports on\ntheir computers so automated back-ups onto servers within the\ninstitution’s ﬁrewall may well become the norm.Exporting data for analysis\n\nThe function of a database is to store and order data for a\nresearch project that can then be analysed.By using Excel as the\ndatabase software, many statistical functions and analysis can be\nused directly within Excel.However more sophisticated analyses\nwill require preprocessing and export to other programmes such\nas SSPS.The preprocessing will mainly consist of converting\ndescriptive variables into numerical values, e.g.‘f’ to ‘1’, which\nis easily done using the search and replace functions of Excel.The labels of the columns may have to be shortened to be read by\nsome statistical programmes, e.g.SPSS will only read the ﬁrst\neight characters of variable names.Again, you must remember to\nsave the spreadsheet with a different ﬁlename before beginning\ndata preprocessing, as it will destroy some of the data, or\ncertainly its format.Most specialist statistical programmes, such\nas SPSS, will read Excel ﬁles but data can be output in comma- or\ntab-delimited text from Excel if necessary.Research notes ‘database’\n\nAny researcher 15 years ago would have had supplementary ‘da-\ntabases’ for their research projects, usually an index box with cards\nwith the authors and title of published papers and a number that\nreferred to a folder in a ﬁling cabinet.They might also have had a\nbound book with notes, or possibly a pile of loose papers with\nvarious notes e they still might have those on their desk today.A\nsupervised researcher working in a well-organized laboratory\nshould still have a bound book as a record of their experiments and\nprimary data, but there are now more useful ways of storing other\ninformation than a pile of loose papers.The widespread availability\nof electronic PDF versions of published paper and the information\ndisplayed on numerous authoritative websites has widened the\nscope for electronic databases of collected research ‘notes’.These\nshould be much easier to search, can have direct links to PDF ﬁles\nstored on the computer and direct links to relevant websites, and\ncould signiﬁcantly improve a researcher’s productivity.A number\n\nof software programmes that perform this task are available.On\nMacintosh computers TapForms6 appears to be the current market\nleader and is extremely easy to use.On PCs Microsoft Ofﬁce One-\nNote (available as part of the MS Ofﬁce 2016 Ofﬁce Suite) is a\ncomprehensive electronic documentation application that allows\norganization and storage of information from a wide range of\nsources.7 It also allows resources to be shared securely with project\ncollaborators via the internet.Conclusions\n\nA research database for even relatively sophisticated histopa-\nthology research projects, e.g.immunohistochemical staining of\ntissue arrays with hundreds of tumours, is easy to construct and\nuse provided that care is taken in its overall design and the\ncoding of data items.The purpose of the database should always\nbe to serve the overall aims of the research project and it should\nnot become an isolated resource-consuming entity.For most\nhistopathology projects, a simple spreadsheet programme, such\nas Microsoft Excel, will provide all\nthe necessary database\nfunctions with the minimum amount of infra-structural effort.Conﬂicts of interest\n\nThe authors have no conﬂicts of interest to declare.A\n\nREFERENCES\n1 Balasubramanian SP, Cross SS, Globe J, Cox A, Brown NJ,\n\nReed MW.Endostatin gene variation and protein levels in breast\ncancer susceptibility and severity.BMC Cancer 2007; 7: 107. 2 BBC News website.Thousands of Welsh NHS staff’s data stolen in\n\nhack.Avaliable at: http://www.bbc.co.uk/news/uk-wales-\n39249975 (accessed 4 June 2017). 3 Data Protection Act.Available at: http://www.legislation.gov.uk/\n\nukpga/1998/29/contents (accessed 4 June 2017).4 Iversen A, Liddell K, Fear N, Hotopf M, Wessely S. Consent,\n\nconﬁdentiality and the data protection act.BMJ 2006; 332: 165e9. 5 Walkenbach J. Excel 2016 bible.Hoboken, New Jersey: John Wiley\n\n& Sons, 2015. June 2017). 6 TapForms.Avaliable at: https://www.tapforms.com/ (accessed 4\n\n7 Microsoft Ofﬁce OneNote.Avaliable at: https://www.onenote.com/\n\n(accessed 4 June 2017).Practice points\n\nC Any research database should be anonymized as completely as is\n\nfeasible for the speciﬁc research project\n\nC A research database should always be part of a project approved\nby a research ethics committee and should be speciﬁed within the\nresearch protocol\n\nC A research database should comply with appropriate data pro-\n\ntection legislation, the Data Protection Act in the UK\n\nC The design of the database should be speciﬁed by the aims and\nobjectives of the research project and not by software capabilities\nC Care should be taken to code data items in a format that retains\nall potentially relevant information and which allows them to be\nselected and sorted in a consistent manner\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n153\n\n(cid:1) 2017 Published by Elsevier Ltd.",
          "time": 279.38102865219116,
          "input_token_size": 7415,
          "output_token_size": 63,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_7fb7a7ac",
        "created_at": 1750198939.484038,
        "processing_time": 282.78473448753357,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs",
        "reason": "shorter_provenance",
        "sentence_count": 190,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs",
            "sentence_count": 190,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.870848"
      }
    }
  },
  {
    "88a4621d": {
      "question": "What is the role of Excel in the database management process as per the document?",
      "answer": "1. Create standalone databases for organizing data.\n2. Perform necessary preprocessing before statistical analysis.\n3. Use built-in database functions for data management.\n4. Facilitate easy data entry and management without complex interfaces.\n5. Allow for importing and exporting data in various formats.\n6. Enable calculation of derived data items using functions.\n7. Provide tools for verifying data accuracy and integrity.\n8. Support backup and data security measures.",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            163,
            164,
            165,
            166,
            167,
            168,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            163,
            164,
            165,
            166,
            167,
            168,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance": "MINI-SYMPOSIUM: RESEARCH\n\nHow to design and use a\nresearch database\n\nSimon S Cross\n\nIan R Palmer\n\nTimothy J Stephenson\n\nAbstract\nThe vast majority of histopathology research projects based on a se-\nries of tissue samples will require a database to store and organize the\ndata.Most of these databases will be relatively simple standalone da-\ntabases that can be created in a spreadsheet application.However,\nthere are still some important considerations in the design of the data-\nbase and coding of the data that will make its subsequent use much\nmore time efﬁcient.This article reviews the scope of databases for\ncommon histopathology research projects, the ethical and legal con-\nsiderations, design of the database structure, coding of data items,\nand import and export of data from databases.Keywords anonymization; databases; histopathology\n\nIntroduction\n\nMost research projects need some method for recording and\nordering data.Sometimes this may be a complex system that\nautomatically links with other data sources, but in most cases it\nwill be a relatively simple standalone database for a single\nresearcher to maintain their research data.However, even though\nthis level of database may be relatively simple, it is still very\nimportant to give some thought to its design before starting to use\nit, as a well-designed database will make analysing results much\neasier, and a poorly-designed database can lead to much wasted\ntime which may even extend as far as having to re-enter data.What sort of database does your project need?At the start of a research project you need to make a simple\nassessment of what your database will need to do.If your\ninvolving\nresearch project\nseveral different centres and which requires data to be entered by\nseveral different personnel, then we hope you have budgeted for\n\nis a randomized controlled trial\n\nSimon S Cross MD FRCPath is Professor of Diagnostic Histopathology\nat the University of Shefﬁeld and an Honorary Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation,\nUK.Conﬂict of interest: There is no conﬂict of interest.Ian R Palmer BSc is the Faculty IT Manager (Medicine, Dentistry &\nHealth) and Faculty IT Liaison Corporate Information and Computing\nServices at the University of Shefﬁeld, Shefﬁeld, UK.Conﬂict of\ninterest: There is no conﬂict of interest.Timothy J Stephenson MA MD MBA FRCPath is a Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation\nTrust and Honorary Professor at the University of Shefﬁeld and\nShefﬁeld Hallam University, Shefﬁeld, UK.Conﬂict of interest: There\nis no conﬂict of interest.a dedicated database manager in your research grant because\nyou will need them!Such a database is well outside the scope of\nthis paper.A more tractable project might be something like a\nnumber of different immunohistochemical stains performed on a\nretrospective series of 500 cases of breast cancer with histo-\npathological data (such as tumour size, grade, lymph node sta-\ntus) and clinical follow-up (e.g.time to last follow-up, recurrent\ndisease, death not due to breast cancer, death due to breast\ncancer).A database for a project such as this would be a\nreasonable proposition for a single researcher, such as a histo-\npathology trainee working on an PhD degree, and is the scale\nof database that we use all the time in our projects.1\n\nAnonymization, ethical and legal considerations\n\nAny research database should be anonymized to the highest level\nthat is compatible with the viability of the research project.The\nrecent high proﬁle cases in the media highlighting data losses by\nGovernment agencies has shown how easy it is for data in some\nformat (laptop, hard drive, data stick, and more recently insecure\nserver etc.)to be lost or stolen.2 It is likely that you will be\nmoving your data around between computers and it is probable\nthat you will be using a laptop computer, so for security con-\nsiderations alone the database should be anonymized.Any\nresearch project will require local ethics committee approval, and\nmost ethics committees are rightly concerned about the trans-\nmission of personal medical data and usually insist that any\nresearch databases are anonymized.There are two main methods of anonymization e complete\nand linked.The most secure is complete anonymization where\nthe clinicopathological data are taken from their original source\nand entered into the research database with no linkage at all\nbetween the two.If all personal identiﬁers are excluded from the\nresearch database, then there should be no way of systematically\nidentifying patients from the data held in the research database (it\nshould, however, be noted that it might be possible to identify\noccasional individuals if they have very distinctive characteristics,\ne.g.a 16-year-old female living in city ‘x’ who was diagnosed with\nbreast cancer).The advantage of a totally anonymized database is\na lowering of the risk should it be lost or stolen.It obviously re-\nduces the risk of identiﬁcation of individuals to close to zero, but\nit does not eliminate the risk of media coverage should the lost\ndata be found somewhere inappropriate (the local newspaper\nheadline ‘Cancer patients’ data found on memory stick in car\npark’ could still be applied whether the data were anonymized or\nnot).The major disadvantage of a completely anonymized data-\nbase is that it is a static database that cannot be updated later if\nthere is a need for further data input.This may not be a problem\nfor many histopathology research projects (e.g.novel immuno-\nhistochemistry on a series of tumours) but is obviously not\ncompatible with projects with continuing patient follow-up.In linked anonymization there is some system that links the\nresearch database to identiﬁable patient data.One method of\nlinkage is to have a separate secure database that acts as a key\nbetween identiﬁable data records and the anonymized research\ndatabase.Such a database does not need to be electronic; it could\nsimply be a book with two entries on each line e the identiﬁable\ndata and the anonymized research accession number (often\nknown as the study number).Such a book could be kept securely\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n149\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nlocked in a ﬁling cabinet in a locked ofﬁce and access could be\nrestricted to a few named individuals involved in the research\nproject; often it will be a single named individual whose sole\npurpose is to provide linkage if requested.However, this method\ninvolves setting up a separate administration system with its own\nsecurity issues.A much simpler method is to use some identiﬁer\nwhich is not identiﬁable without access to some existing infor-\nmation system.This could be the patient’s hospital number but\nmany ethics committees regard this as relatively insecure\nbecause the patient’s hospital number could open access to a\nwhole range of information in many different hospital informa-\ntion systems (and the patient’s NHS number is even less secure\nand more informative).In histopathology we are fortunate in\nhaving the laboratory accession number which is a restrictive\nsuperﬁcially-anonymous identiﬁer that is only available to those\nwith access to the laboratory information computer system, and\nthat system is already heavily protected by individual password\nlogin, automatic timing out of terminals after a short period of\nnon-use, etc.If we are conducting a research study on archival\ndiagnostic surgical material, then we will probably be using\nslides labelled with the laboratory accession number and we are\nunlikely to anonymize that number because of the slide labelling\nproblems it would cause.At present the ethics committees that\nwe have passed applications through have been happy to use the\nlaboratory accession number to anonymize the samples and data\nin studies, although they have always required a statement on\nthe circumstances in which the investigators would go back to\nthe laboratory information system for more data.Such consid-\nerations always have to be made for any research project and are\nnot exclusively a feature of research databases.It still needs to be appreciated that simple personal data, such\nas name and address, are not the only items that can identify an\nindividual.The date of birth is quite a speciﬁc item and com-\nbined with other items in a database (e.g.a woman with breast\ncancer diagnosed in 2002) could provide a strong indication of an\nindividual’s identity.It is usually better to change the date of\nbirth to a less speciﬁc age datum at the time of entering infor-\nmation into the database; age at diagnosis will probably give all\nthe information that is required.It should be noted that even when a database has been\n‘anonymized’ using relatively opaque linkage items, such as the\nlaboratory accession number, it is still not completely anony-\nmized because links can be made indirectly which could iden-\ntify the patient.Although this linked ‘anonymization’ will mini-\nmize the adverse effects of any data loss or unauthorized access\nto the data, the database is still legally regarded as personal data\nunder legislation such as the UK Data Protection Act.3,4 Under\nthis Act, only data essential to the study can be collected and they\ncan only be stored for as long as the study is active.This brings us to legal consideration as whether the database\nneeds to be registered under the terms of the Data Protection Act\nin the UK, or similar legislation in other countries.If there is no\nlinkage possible at all between the research database and per-\nsonal patient data, then it would not need to registered, but since\nthe act of creation of the database will involve some access to\npersonal data, then we would suggest that it does need regis-\ntration.In most UK institutions this is a simple process because\nthere will be an institutional Data Protection Ofﬁcer and the\ninstitution will be registered with the Government’s Information\n\nCommissioner, which will usually give generic registration for\ndatabases in that institution without the need for the registration\nof individual databases.However, you would need to check the\ndetails of your institution’s processes.A further medicolegal consideration is the duty of disclosure\nthat could occur if review of a case with identiﬁable data showed\nthat there was a misdiagnosis or mistreatment, e.g.if review of a\nseries of cases of mesothelioma showed that one of the cases\nappeared to be mesothelial hyperplasia rather than mesotheli-\noma.If there is complete anonymization, then this cannot apply.If there is linked anonymization, then it could apply and this\nneeds to be considered before the study commences.In most\nhistopathology research studies, the tissue being reviewed is only\na sample of the whole diagnostic material available on the case,\ne.g.a single block of breast cancer, so a full diagnostic review of\nthe case is not being carried out.The tissue is also being exam-\nined in a research context, e.g.a single core of tumour in a tissue\nmicroarray, where it is possible that there could have been some\ntransposition of laboratory accession numbers or rows and col-\numns in a spreadsheet and the risk of misidentiﬁcation would be\nslightly higher than in a fully functioning diagnostic histopa-\nthology laboratory.For these reasons, we include a statement in\nour ethics committee application stating that any discoveries are\nfor research purposes only and that there will be no retrograde\nﬂow of information back to patient records or individual patients.Design your database\n\nThe design of your database should reﬂect the design of your\nresearch project and it would be better to have all your aims and\nobjectives of the project clearly formulated and recorded before\nyou start to design your database.Sometimes, however, design of\nthe database and general objectives of the research project emerge\nconcurrently.A good way to design your database is to take a blank\nsheet of A3 paper and sketch out all the data items you think you\nneed in a ‘spider’ (or ‘mindmap’) diagram with clusters of related\nitems.This gets you away from a computer screen and a form\nformat, and allows you to look at all the data items with an over-\nview.It is worth spending some time doing this, possibly redraw-\ning the diagram if it becomes too cluttered by changes, because this\nis the most important stage of database design and time spent on\nthis stage will pay major dividends later in the process.You need to arrive at a design with all the data items that are\nessential for your project but no more than that.If you do not\ninclude essential data items at the start of the process, you will\ndiscover their absence later and then need to modify the database,\nand you may have to go through all your original data sources to\ninput the missing items.It is usually best to include individual raw\ndata items and use them to calculate derived data items within the\ndatabase.An example in breast cancer would be the Nottingham\nPrognostic Index.If you only include the Nottingham Prognostic\nIndex in your database as an aggregate measure of the potential\nprognostic behaviour of the tumour, then you will not have access\nto the tumour size, tumour grade and lymph node status in future\nanalyses.If you include those three items separately, then you can\ncreate a fourth derived data item that will automatically calculate\nthe Nottingham Prognostic Index from these items.If you only\nrecord axillary lymph node status in a case of breast cancer as\npositive or negative, then you will not have access to the total\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n150\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nnumber of positive lymph nodes, whereas if you record the total\nnumber of positive lymph nodes, you will be able to create\nanother automatically derived data item for overall lymph node\nstatus.The general rule is that data items cannot be split at a later\nstage, but they can be easily, and automatically, aggregated later,\nso it is best to create a database with the simplest raw data items\nincluded instead of derivative/aggregated data items.Any variable that in its raw state is a continuous variable (e.g.tumour size in millimetres) should be stored as that continuous\nvariable rather than a category (e.g. tumours between 5 and 10\nmm).You should of course ensure that all the data items in your\ndatabase are relevant to your project’s aims and objectives\nbecause it is a waste of resources (usually your time) to enter\nirrelevant items.What software should you use? You will notice that choice of software comes after design of the\ndatabase.Too many researchers start with the software choice and\nthen their database design is inﬂuenced by what the software can\ndo, rather than what the software can do for them.There are a\nnumber of popular database software packages on the market,\nsuch as Microsoft Access and Filemaker Pro, which run on indi-\nvidual computers.There are also server-based databases, such as\nMySQL, Microsoft SQL Server or Oracle.These software packages\nare all very good and very powerful for multiuser projects with a\nnumber of interacting databases, but they are overkill for a\nresearch project such as the breast cancer tissue array project\ndescribed above.Although we have used Microsoft Access and\nFilemaker Pro in the past with success, the learning curve for using\nthese packages is relatively steep and the results are no better than\nusing our current preferred option which is Microsoft Excel.This\nspreadsheet application has enough database functions built into it\nto carry out all the necessary preprocessing before statistical\nanalysis of results in speciﬁc statistical software package, such as\nStatistical Package for Social Sciences (SPSS).It has the major\nadvantages of virtually no learning curve, if you already use its\nspreadsheet functions, no platform speciﬁcity (Microsoft Access\ndoes not run on Macintosh computers), accepts ﬁles from other\nsources in a wide range of formats, and does not allow the user to\nwaste time creating colourful graphical interfaces for entering data\nthat have no value to the project.We simply create a column for\neach data item and use a row for each case.The ‘Split Window’ and\n‘Freeze Panes’ functions (found under the Windows menu at the\ntop of the screen) allow the column headings and left-hand row\nlabels to remain on the screen all the time no matter how many\nrows or columns there are in the spreadsheet (see the Excel help\nﬁles for further details).We enter data directly into the spreadsheet\nwithout using any custom entry form, but it is easy to create one if\nyou feel that data entry would be cleaner by using one, e.g.if\nsomeone without specialist knowledge is entering the data for you.If you need multiuser entry, then a single spreadsheet be-\ncomes problematic because version control becomes very difﬁ-\ncult.In these circumstances, a server-based database is more\nuseful but it can be difﬁcult to arrange access from different in-\nstitutions.A more recent development is the availability of web-\nbased databases, which are accessible from any web browser and\nmake multiuser data entry very simple.The consideration with\nthese web-based databases is the security of the commercial\n\nproviders’ servers, but they are basing their business on a secure\nservice so the risk might be lower than for an ad-hoc server in an\nacademic institution.Coding your data\n\nYou will know which data items you want to include in your\ndatabase because you designed it before you touched the com-\nputer keyboard, but now you need to consider how you are going\nto code that data.This only requires a bit of thought about how\nyou are going to sort and use the data but again if you code your\ndata in appropriate formats it will cause a lot of rework and delay\nlater.The laboratory accession number is a simple illustrative\ncase (Tables 1 and 2).This number is usually in the form of the\nyear and then a single unique number issued in ascending order\nas specimens arrive.There may also be a separate block number if\nthe specimen cannot be embedded in a single block.If such a\nnumber is entered into a single column in its usual format, e.g.08/23156/3E, it will be treated as text rather than a number in\nExcel and there can be a number of problems when sorting data\nfor analysis.Tables 1 and 2 illustrate these problems and show\nthat the best solution is to create separate columns for each\nelement of a multipart or mixed number/text item.Binary data\nitems, such as gender or lymph node status, are easier but there is\nstill a decision to be made as to whether to use strict mathematical\nbinary code or a more descriptive code.Gender could be coded as\n1 ¼ female and 0 ¼ male, but this is an arbitrary coding that is not\nmemorable to the data inputer.Coding as f ¼ female and m ¼\nmale is memorable and so far lower rates of errors are likely\nduring the inputting of the data, i.e.make the purest possible\ntransformations of data.It is a very simple automated ‘ﬁnd and\nreplace’ function to convert these to true mathematical binary\nitems for statistical analysis.It is well worth keeping descriptive\ncodings as short as possible, because this reduces the number of\nkeystrokes when entering data.The autoﬁll function of Excel is\n\nCoding the laboratory accession number.If entered in\nthe format in column 1 the accession number sorts to the\norder in column 2 e the year order is incorrect because\nthe full year was not included.With the full year added\nand sorted, column 3, there is still a problem with the\norder of the second and third rows because zeros before\nthe accession number have not been added to numbers\nwith fewer than ﬁve digits.When this has been done,\ncolumn 4, the numbers now do sort into the correct time\norder but a better method is shown in Table 2\n\n1.Unsorted\n\n2. Sorted\n\n3. Full year\nsorted\n\n4.Full year and\npreceeding zeros\nsorted\n\n98/1119/3E\n02/34001/4F\n99/1231/2F\n00/32754/1A\n03/4567/8G\n99/12237/4D\n\n00/32754/1A\n02/34001/4F\n03/4567/8G\n98/1119/3E\n99/1231/2F\n99/12237/4D\n\n1998/1119/3E\n1999/12237/4D\n1999/1231/2F\n2000/32754/1A\n2002/34001/4F\n2003/4567/8G\n\n1998/01119/3E\n1999/01231/2F\n1999/12237/4D\n2000/32754/1A\n2002/34001/4F\n2003/04567/8G\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\nTable 1\n\n151\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nThis shows a better method for coding the laboratory\naccession number by creating a separate column for\neach element of the number.Note that in this case\npreceding zeros do not need to be included as the Excel\nsoftware is treating the numbers as actual numbers\nrather than text, as in Table 1.If you are using a single\nrepresentative section from a multipart specimen, e.g.a\nrepresentative block of breast cancer from a mastectomy\nspecimen, then always remember to include the speciﬁc\nblock number in the database, otherwise future studies\nmay have to retrieve all the slides for the case (speciﬁed\nby the year and accession number) and look at these to\nselect the representative block again e a huge amount\nof rework for no gain in value\n\nNumber\n\n1119\n1231\n12237\n32754\n34001\n4567\n\nPart\n\n3E\n2F\n4D\n1A\n4F\n8G\n\nYear\n\n1998\n1999\n1999\n2000\n2002\n2003\n\nTable 2\n\nuseful and can be optimized by choosing different ﬁrst letters for\nas many different items as possible.An example for breast cancer\nthat we have used is tumour type, where d ¼ ductal, l ¼ lobular, t\n¼ tubular, me ¼ medullary, mu ¼ mucinous, etc.It should be\nnoted that when entering text into Excel it will be case-sensitive in\nany manipulations, such as grouping or pivot data tables, so it is\nbest to use lower case letter throughout, which also reduces\nkeystrokes by not using the Shift key.Importing items into your database\n\nIf some of the data you wish to have in your database exist in\nanother database, it may be possible to import them into your\ndatabase instead of having to key them all in.The ﬁrst thing to\nensure is that the data in the other database are ‘clean’ (i.e.consistently formatted) and veriﬁed.People often volunteer data\nfrom a database which on closer examinations contains many\nformatting inconsistencies, e.g.‘yes’ coded as ‘y’, ‘Y’ or ‘1’ for a\nsingle data ﬁeld, and it then is better to start again with the\noriginal source data.Another common feature of processes\ndesigned to port data from one database to another is that IT\nprofessionals want to write complicated interface programmes\nwhich take weeks or months to develop.Whilst these are essential\nfor databases that port data between themselves on a frequent,\nrecurrent basis, this is usually completely unnecessary for a\nstandalone research database, which usually only requires a sin-\ngle transfer at a single point in time.The easiest method we have\nfound is to perform a search on the existing database to select the\nrecords that we want to import and then export those in a format\nthat Excel can read.Often the parent database will be able to\nexport in Excel format but comma or tab-delimited text is just as\nacceptable and causes no extra work.Once in Excel the imported\ndata can be quickly sorted and formatted as required.It should be\nnoted that it is best to import as the ﬁrst stage of creating your\n\nresearch database, rather than trying to add the imported data to\nan existing database which may be more problematic.Calculating derived data items within your database\n\nAs noted above it is often easier (and certainly more accurate) to\ncalculate some derived data items from raw source data items\nwithin the database.This can be done using Excel’s calculation\nfunctions and the reader is referred to Excel help ﬁles or\ninstructional books for the details of this.5 Obviously some cal-\nculations are easier than others.If your raw data item is the\nmaximum diameter of a breast cancer in millimetres and you\nwant to convert that to centimetres in the calculation of the\nNottingham Prognostic Index, then you would simply set up a\nformula such: ¼ A23/10 where A23 is the index of the cell\ncontaining the measurement in millimetres.It is a simple matter\nto propagate that formula down the whole column for size in\ncentimetres by using the ‘Fill’ ‘Down’ functions from the Edit\nmenu.Deriving the lymph node status component for the Not-\ntingham Prognostic Index from the total number of positive\nlymph nodes would be more complicated but the conditional\noperators exist in Excel to allow this, e.g.¼ IF(A23 > 3,2,0), and\nautomatic help boxes make this very easy (click the calculator\nsymbol on the Excel toolbar just to the right of the green tick\nsymbol).It should be noted that these calculated values only\nexist when the other items from which they are derived are still\npresent in the datasheet.If for any reason, such as reducing data\ndown to the core items for statistical analysis, you are going to\nremove columns from the datasheet, you must select the whole\ndatasheet, copy it and then paste it back in the same cells using\nthe Paste Special function and selecting Values.You will then\nhave a sheet in which each cell is an independent number not\ndependent on any other cell.Obviously, you should only do this\nwhen you have ﬁnished entering all the data and are ready for\ndata analysis, and you should immediately save this sheet in a\ndifferent name from the original database sheet.Verifying your data\n\nOnce you have input your data you need to make some assess-\nment of the veracity of that data.It is remarkable how many\nerrors are introduced during data entry that need to be corrected\nbefore the database is usable.Excel has some useful functions\nthat make debugging the database relatively easy.One method is\nto ensure that you have saved the database and then try sorting\nthe data in many different ways.Go to ‘Sort’ under the ‘Data’\nmenu and select any single column as the sorting factor and\nperform the sort.Now scroll through the database sheet looking\nat the column you sorted by, especially at the top and bottom of\nthe sorted sheet, and you can see all sorts of data entry errors\nfrom completely blank cells through to mispellings or duplicated\nsymbols.You could repeat these sorts for each column to check\nfor further errors in other columns.A similar, but possibly easier,\nmethod is to use the Autoﬁlter function.Highlight the complete\nsheet (by clicking the diamond symbol in the top left cell of the\nsheet), from the Data menu select the Filter option and then\nselect the Autoﬁlter option.At the top of each column there will\nnow appear an up and down arrow symbol; clicking on this\nproduces a list of all the different occurrences of data items in\nthat column, making it very easy to see errors such as ‘Y’ instead\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n152\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nof ‘y’.When all the obvious typing errors have been corrected, it\nwould be wise to perform an audit, checking perhaps 10% of the\ncase records with their original source data to check that there\nare no systematic data entry errors.Backing up your database\n\nData only exists when it is stored in two places e this widespread\ndictum is never more true than for databases.If you are going to\nspend many hours entering data into a database, then you need to\nhave a reliable system of back-up.The best systems are automatic\nand store the data at a geographically separate location; institutions\nsuch as universities often provide such systems for their members.Excel-based databases produce ﬁles which are very manageable in\nsize and can easily be backed up to CDs or memory sticks, but be\nmindful of security issues even with a completely anonymized\ndatabase (which would still cause media interest if found in an\ninappropriate place) and keep the copies in secure locations.Many\nNHS institutions are now so wary of data loss through sources such\nas memory sticks, that they are considering disabling USB ports on\ntheir computers so automated back-ups onto servers within the\ninstitution’s ﬁrewall may well become the norm.Exporting data for analysis\n\nThe function of a database is to store and order data for a\nresearch project that can then be analysed.By using Excel as the\ndatabase software, many statistical functions and analysis can be\nused directly within Excel.However more sophisticated analyses\nwill require preprocessing and export to other programmes such\nas SSPS.The preprocessing will mainly consist of converting\ndescriptive variables into numerical values, e.g.‘f’ to ‘1’, which\nis easily done using the search and replace functions of Excel.The labels of the columns may have to be shortened to be read by\nsome statistical programmes, e.g.SPSS will only read the ﬁrst\neight characters of variable names.Again, you must remember to\nsave the spreadsheet with a different ﬁlename before beginning\ndata preprocessing, as it will destroy some of the data, or\ncertainly its format.Most specialist statistical programmes, such\nas SPSS, will read Excel ﬁles but data can be output in comma- or\ntab-delimited text from Excel if necessary.Research notes ‘database’\n\nAny researcher 15 years ago would have had supplementary ‘da-\ntabases’ for their research projects, usually an index box with cards\nwith the authors and title of published papers and a number that\nreferred to a folder in a ﬁling cabinet.They might also have had a\nbound book with notes, or possibly a pile of loose papers with\nvarious notes e they still might have those on their desk today.A\nsupervised researcher working in a well-organized laboratory\nshould still have a bound book as a record of their experiments and\nprimary data, but there are now more useful ways of storing other\ninformation than a pile of loose papers.The widespread availability\nof electronic PDF versions of published paper and the information\ndisplayed on numerous authoritative websites has widened the\nscope for electronic databases of collected research ‘notes’.These\nshould be much easier to search, can have direct links to PDF ﬁles\nstored on the computer and direct links to relevant websites, and\ncould signiﬁcantly improve a researcher’s productivity.A number\n\nof software programmes that perform this task are available.On\nMacintosh computers TapForms6 appears to be the current market\nleader and is extremely easy to use.On PCs Microsoft Ofﬁce One-\nNote (available as part of the MS Ofﬁce 2016 Ofﬁce Suite) is a\ncomprehensive electronic documentation application that allows\norganization and storage of information from a wide range of\nsources.7 It also allows resources to be shared securely with project\ncollaborators via the internet.Conclusions\n\nA research database for even relatively sophisticated histopa-\nthology research projects, e.g.immunohistochemical staining of\ntissue arrays with hundreds of tumours, is easy to construct and\nuse provided that care is taken in its overall design and the\ncoding of data items.The purpose of the database should always\nbe to serve the overall aims of the research project and it should\nnot become an isolated resource-consuming entity.For most\nhistopathology projects, a simple spreadsheet programme, such\nas Microsoft Excel, will provide all\nthe necessary database\nfunctions with the minimum amount of infra-structural effort.Conﬂicts of interest\n\nThe authors have no conﬂicts of interest to declare.A\n\nREFERENCES\n1 Balasubramanian SP, Cross SS, Globe J, Cox A, Brown NJ,\n\nReed MW.Endostatin gene variation and protein levels in breast\ncancer susceptibility and severity.BMC Cancer 2007; 7: 107. 2 BBC News website.Thousands of Welsh NHS staff’s data stolen in\n\nhack.Avaliable at: http://www.bbc.co.uk/news/uk-wales-\n39249975 (accessed 4 June 2017). 3 Data Protection Act.Available at: http://www.legislation.gov.uk/\n\nukpga/1998/29/contents (accessed 4 June 2017).4 Iversen A, Liddell K, Fear N, Hotopf M, Wessely S. Consent,\n\nconﬁdentiality and the data protection act.BMJ 2006; 332: 165e9. 5 Walkenbach J. Excel 2016 bible.Hoboken, New Jersey: John Wiley\n\n& Sons, 2015. June 2017). 6 TapForms.Avaliable at: https://www.tapforms.com/ (accessed 4\n\n7 Microsoft Ofﬁce OneNote.Avaliable at: https://www.onenote.com/\n\n(accessed 4 June 2017).Practice points\n\nC Any research database should be anonymized as completely as is\n\nfeasible for the speciﬁc research project\n\nC A research database should always be part of a project approved\nby a research ethics committee and should be speciﬁed within the\nresearch protocol\n\nC A research database should comply with appropriate data pro-\n\ntection legislation, the Data Protection Act in the UK\n\nC The design of the database should be speciﬁed by the aims and\nobjectives of the research project and not by software capabilities\nC Care should be taken to code data items in a format that retains\nall potentially relevant information and which allows them to be\nselected and sorted in a consistent manner\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n153\n\n(cid:1) 2017 Published by Elsevier Ltd.",
          "time": 443.99541187286377,
          "input_token_size": 7427,
          "output_token_size": 188,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_88a4621d",
        "created_at": 1749870036.4086623,
        "processing_time": 446.8406991958618,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs_prev1",
        "reason": "shorter_provenance",
        "sentence_count": 190,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs_prev1",
            "sentence_count": 190,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.870848"
      }
    }
  },
  {
    "88c11a7e": {
      "question": "How does the document propose designing a research database?",
      "answer": "1. Assess what your database will need to do at the start of the research project.\n2. Design the database structure to reflect the aims and objectives of the research project.\n3. Use a 'spider' or 'mindmap' diagram to sketch out all necessary data items.\n4. Include essential raw data items and avoid derivative/aggregated data items initially.\n5. Store continuous variables in their raw state rather than as categories.\n6. Choose software after designing the database, not before.\n7. Consider using Microsoft Excel for its ease of use and sufficient database functions.\n8. Code data in appropriate formats to minimize rework and errors.\n9. Import clean data from other databases if available.\n10. Calculate derived data items within the database using functions.\n11. Verify data for accuracy after inputting.\n12. Implement a reliable backup system for the database.\n13. Export data for analysis after preprocessing.",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            163,
            164,
            165,
            166,
            167,
            168,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            163,
            164,
            165,
            166,
            167,
            168,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance": "MINI-SYMPOSIUM: RESEARCH\n\nHow to design and use a\nresearch database\n\nSimon S Cross\n\nIan R Palmer\n\nTimothy J Stephenson\n\nAbstract\nThe vast majority of histopathology research projects based on a se-\nries of tissue samples will require a database to store and organize the\ndata.Most of these databases will be relatively simple standalone da-\ntabases that can be created in a spreadsheet application.However,\nthere are still some important considerations in the design of the data-\nbase and coding of the data that will make its subsequent use much\nmore time efﬁcient.This article reviews the scope of databases for\ncommon histopathology research projects, the ethical and legal con-\nsiderations, design of the database structure, coding of data items,\nand import and export of data from databases.Keywords anonymization; databases; histopathology\n\nIntroduction\n\nMost research projects need some method for recording and\nordering data.Sometimes this may be a complex system that\nautomatically links with other data sources, but in most cases it\nwill be a relatively simple standalone database for a single\nresearcher to maintain their research data.However, even though\nthis level of database may be relatively simple, it is still very\nimportant to give some thought to its design before starting to use\nit, as a well-designed database will make analysing results much\neasier, and a poorly-designed database can lead to much wasted\ntime which may even extend as far as having to re-enter data.What sort of database does your project need?At the start of a research project you need to make a simple\nassessment of what your database will need to do.If your\ninvolving\nresearch project\nseveral different centres and which requires data to be entered by\nseveral different personnel, then we hope you have budgeted for\n\nis a randomized controlled trial\n\nSimon S Cross MD FRCPath is Professor of Diagnostic Histopathology\nat the University of Shefﬁeld and an Honorary Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation,\nUK.Conﬂict of interest: There is no conﬂict of interest.Ian R Palmer BSc is the Faculty IT Manager (Medicine, Dentistry &\nHealth) and Faculty IT Liaison Corporate Information and Computing\nServices at the University of Shefﬁeld, Shefﬁeld, UK.Conﬂict of\ninterest: There is no conﬂict of interest.Timothy J Stephenson MA MD MBA FRCPath is a Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation\nTrust and Honorary Professor at the University of Shefﬁeld and\nShefﬁeld Hallam University, Shefﬁeld, UK.Conﬂict of interest: There\nis no conﬂict of interest.a dedicated database manager in your research grant because\nyou will need them!Such a database is well outside the scope of\nthis paper.A more tractable project might be something like a\nnumber of different immunohistochemical stains performed on a\nretrospective series of 500 cases of breast cancer with histo-\npathological data (such as tumour size, grade, lymph node sta-\ntus) and clinical follow-up (e.g.time to last follow-up, recurrent\ndisease, death not due to breast cancer, death due to breast\ncancer).A database for a project such as this would be a\nreasonable proposition for a single researcher, such as a histo-\npathology trainee working on an PhD degree, and is the scale\nof database that we use all the time in our projects.1\n\nAnonymization, ethical and legal considerations\n\nAny research database should be anonymized to the highest level\nthat is compatible with the viability of the research project.The\nrecent high proﬁle cases in the media highlighting data losses by\nGovernment agencies has shown how easy it is for data in some\nformat (laptop, hard drive, data stick, and more recently insecure\nserver etc.)to be lost or stolen.2 It is likely that you will be\nmoving your data around between computers and it is probable\nthat you will be using a laptop computer, so for security con-\nsiderations alone the database should be anonymized.Any\nresearch project will require local ethics committee approval, and\nmost ethics committees are rightly concerned about the trans-\nmission of personal medical data and usually insist that any\nresearch databases are anonymized.There are two main methods of anonymization e complete\nand linked.The most secure is complete anonymization where\nthe clinicopathological data are taken from their original source\nand entered into the research database with no linkage at all\nbetween the two.If all personal identiﬁers are excluded from the\nresearch database, then there should be no way of systematically\nidentifying patients from the data held in the research database (it\nshould, however, be noted that it might be possible to identify\noccasional individuals if they have very distinctive characteristics,\ne.g.a 16-year-old female living in city ‘x’ who was diagnosed with\nbreast cancer).The advantage of a totally anonymized database is\na lowering of the risk should it be lost or stolen.It obviously re-\nduces the risk of identiﬁcation of individuals to close to zero, but\nit does not eliminate the risk of media coverage should the lost\ndata be found somewhere inappropriate (the local newspaper\nheadline ‘Cancer patients’ data found on memory stick in car\npark’ could still be applied whether the data were anonymized or\nnot).The major disadvantage of a completely anonymized data-\nbase is that it is a static database that cannot be updated later if\nthere is a need for further data input.This may not be a problem\nfor many histopathology research projects (e.g.novel immuno-\nhistochemistry on a series of tumours) but is obviously not\ncompatible with projects with continuing patient follow-up.In linked anonymization there is some system that links the\nresearch database to identiﬁable patient data.One method of\nlinkage is to have a separate secure database that acts as a key\nbetween identiﬁable data records and the anonymized research\ndatabase.Such a database does not need to be electronic; it could\nsimply be a book with two entries on each line e the identiﬁable\ndata and the anonymized research accession number (often\nknown as the study number).Such a book could be kept securely\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n149\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nlocked in a ﬁling cabinet in a locked ofﬁce and access could be\nrestricted to a few named individuals involved in the research\nproject; often it will be a single named individual whose sole\npurpose is to provide linkage if requested.However, this method\ninvolves setting up a separate administration system with its own\nsecurity issues.A much simpler method is to use some identiﬁer\nwhich is not identiﬁable without access to some existing infor-\nmation system.This could be the patient’s hospital number but\nmany ethics committees regard this as relatively insecure\nbecause the patient’s hospital number could open access to a\nwhole range of information in many different hospital informa-\ntion systems (and the patient’s NHS number is even less secure\nand more informative).In histopathology we are fortunate in\nhaving the laboratory accession number which is a restrictive\nsuperﬁcially-anonymous identiﬁer that is only available to those\nwith access to the laboratory information computer system, and\nthat system is already heavily protected by individual password\nlogin, automatic timing out of terminals after a short period of\nnon-use, etc.If we are conducting a research study on archival\ndiagnostic surgical material, then we will probably be using\nslides labelled with the laboratory accession number and we are\nunlikely to anonymize that number because of the slide labelling\nproblems it would cause.At present the ethics committees that\nwe have passed applications through have been happy to use the\nlaboratory accession number to anonymize the samples and data\nin studies, although they have always required a statement on\nthe circumstances in which the investigators would go back to\nthe laboratory information system for more data.Such consid-\nerations always have to be made for any research project and are\nnot exclusively a feature of research databases.It still needs to be appreciated that simple personal data, such\nas name and address, are not the only items that can identify an\nindividual.The date of birth is quite a speciﬁc item and com-\nbined with other items in a database (e.g.a woman with breast\ncancer diagnosed in 2002) could provide a strong indication of an\nindividual’s identity.It is usually better to change the date of\nbirth to a less speciﬁc age datum at the time of entering infor-\nmation into the database; age at diagnosis will probably give all\nthe information that is required.It should be noted that even when a database has been\n‘anonymized’ using relatively opaque linkage items, such as the\nlaboratory accession number, it is still not completely anony-\nmized because links can be made indirectly which could iden-\ntify the patient.Although this linked ‘anonymization’ will mini-\nmize the adverse effects of any data loss or unauthorized access\nto the data, the database is still legally regarded as personal data\nunder legislation such as the UK Data Protection Act.3,4 Under\nthis Act, only data essential to the study can be collected and they\ncan only be stored for as long as the study is active.This brings us to legal consideration as whether the database\nneeds to be registered under the terms of the Data Protection Act\nin the UK, or similar legislation in other countries.If there is no\nlinkage possible at all between the research database and per-\nsonal patient data, then it would not need to registered, but since\nthe act of creation of the database will involve some access to\npersonal data, then we would suggest that it does need regis-\ntration.In most UK institutions this is a simple process because\nthere will be an institutional Data Protection Ofﬁcer and the\ninstitution will be registered with the Government’s Information\n\nCommissioner, which will usually give generic registration for\ndatabases in that institution without the need for the registration\nof individual databases.However, you would need to check the\ndetails of your institution’s processes.A further medicolegal consideration is the duty of disclosure\nthat could occur if review of a case with identiﬁable data showed\nthat there was a misdiagnosis or mistreatment, e.g.if review of a\nseries of cases of mesothelioma showed that one of the cases\nappeared to be mesothelial hyperplasia rather than mesotheli-\noma.If there is complete anonymization, then this cannot apply.If there is linked anonymization, then it could apply and this\nneeds to be considered before the study commences.In most\nhistopathology research studies, the tissue being reviewed is only\na sample of the whole diagnostic material available on the case,\ne.g.a single block of breast cancer, so a full diagnostic review of\nthe case is not being carried out.The tissue is also being exam-\nined in a research context, e.g.a single core of tumour in a tissue\nmicroarray, where it is possible that there could have been some\ntransposition of laboratory accession numbers or rows and col-\numns in a spreadsheet and the risk of misidentiﬁcation would be\nslightly higher than in a fully functioning diagnostic histopa-\nthology laboratory.For these reasons, we include a statement in\nour ethics committee application stating that any discoveries are\nfor research purposes only and that there will be no retrograde\nﬂow of information back to patient records or individual patients.Design your database\n\nThe design of your database should reﬂect the design of your\nresearch project and it would be better to have all your aims and\nobjectives of the project clearly formulated and recorded before\nyou start to design your database.Sometimes, however, design of\nthe database and general objectives of the research project emerge\nconcurrently.A good way to design your database is to take a blank\nsheet of A3 paper and sketch out all the data items you think you\nneed in a ‘spider’ (or ‘mindmap’) diagram with clusters of related\nitems.This gets you away from a computer screen and a form\nformat, and allows you to look at all the data items with an over-\nview.It is worth spending some time doing this, possibly redraw-\ning the diagram if it becomes too cluttered by changes, because this\nis the most important stage of database design and time spent on\nthis stage will pay major dividends later in the process.You need to arrive at a design with all the data items that are\nessential for your project but no more than that.If you do not\ninclude essential data items at the start of the process, you will\ndiscover their absence later and then need to modify the database,\nand you may have to go through all your original data sources to\ninput the missing items.It is usually best to include individual raw\ndata items and use them to calculate derived data items within the\ndatabase.An example in breast cancer would be the Nottingham\nPrognostic Index.If you only include the Nottingham Prognostic\nIndex in your database as an aggregate measure of the potential\nprognostic behaviour of the tumour, then you will not have access\nto the tumour size, tumour grade and lymph node status in future\nanalyses.If you include those three items separately, then you can\ncreate a fourth derived data item that will automatically calculate\nthe Nottingham Prognostic Index from these items.If you only\nrecord axillary lymph node status in a case of breast cancer as\npositive or negative, then you will not have access to the total\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n150\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nnumber of positive lymph nodes, whereas if you record the total\nnumber of positive lymph nodes, you will be able to create\nanother automatically derived data item for overall lymph node\nstatus.The general rule is that data items cannot be split at a later\nstage, but they can be easily, and automatically, aggregated later,\nso it is best to create a database with the simplest raw data items\nincluded instead of derivative/aggregated data items.Any variable that in its raw state is a continuous variable (e.g.tumour size in millimetres) should be stored as that continuous\nvariable rather than a category (e.g. tumours between 5 and 10\nmm).You should of course ensure that all the data items in your\ndatabase are relevant to your project’s aims and objectives\nbecause it is a waste of resources (usually your time) to enter\nirrelevant items.What software should you use? You will notice that choice of software comes after design of the\ndatabase.Too many researchers start with the software choice and\nthen their database design is inﬂuenced by what the software can\ndo, rather than what the software can do for them.There are a\nnumber of popular database software packages on the market,\nsuch as Microsoft Access and Filemaker Pro, which run on indi-\nvidual computers.There are also server-based databases, such as\nMySQL, Microsoft SQL Server or Oracle.These software packages\nare all very good and very powerful for multiuser projects with a\nnumber of interacting databases, but they are overkill for a\nresearch project such as the breast cancer tissue array project\ndescribed above.Although we have used Microsoft Access and\nFilemaker Pro in the past with success, the learning curve for using\nthese packages is relatively steep and the results are no better than\nusing our current preferred option which is Microsoft Excel.This\nspreadsheet application has enough database functions built into it\nto carry out all the necessary preprocessing before statistical\nanalysis of results in speciﬁc statistical software package, such as\nStatistical Package for Social Sciences (SPSS).It has the major\nadvantages of virtually no learning curve, if you already use its\nspreadsheet functions, no platform speciﬁcity (Microsoft Access\ndoes not run on Macintosh computers), accepts ﬁles from other\nsources in a wide range of formats, and does not allow the user to\nwaste time creating colourful graphical interfaces for entering data\nthat have no value to the project.We simply create a column for\neach data item and use a row for each case.The ‘Split Window’ and\n‘Freeze Panes’ functions (found under the Windows menu at the\ntop of the screen) allow the column headings and left-hand row\nlabels to remain on the screen all the time no matter how many\nrows or columns there are in the spreadsheet (see the Excel help\nﬁles for further details).We enter data directly into the spreadsheet\nwithout using any custom entry form, but it is easy to create one if\nyou feel that data entry would be cleaner by using one, e.g.if\nsomeone without specialist knowledge is entering the data for you.If you need multiuser entry, then a single spreadsheet be-\ncomes problematic because version control becomes very difﬁ-\ncult.In these circumstances, a server-based database is more\nuseful but it can be difﬁcult to arrange access from different in-\nstitutions.A more recent development is the availability of web-\nbased databases, which are accessible from any web browser and\nmake multiuser data entry very simple.The consideration with\nthese web-based databases is the security of the commercial\n\nproviders’ servers, but they are basing their business on a secure\nservice so the risk might be lower than for an ad-hoc server in an\nacademic institution.Coding your data\n\nYou will know which data items you want to include in your\ndatabase because you designed it before you touched the com-\nputer keyboard, but now you need to consider how you are going\nto code that data.This only requires a bit of thought about how\nyou are going to sort and use the data but again if you code your\ndata in appropriate formats it will cause a lot of rework and delay\nlater.The laboratory accession number is a simple illustrative\ncase (Tables 1 and 2).This number is usually in the form of the\nyear and then a single unique number issued in ascending order\nas specimens arrive.There may also be a separate block number if\nthe specimen cannot be embedded in a single block.If such a\nnumber is entered into a single column in its usual format, e.g.08/23156/3E, it will be treated as text rather than a number in\nExcel and there can be a number of problems when sorting data\nfor analysis.Tables 1 and 2 illustrate these problems and show\nthat the best solution is to create separate columns for each\nelement of a multipart or mixed number/text item.Binary data\nitems, such as gender or lymph node status, are easier but there is\nstill a decision to be made as to whether to use strict mathematical\nbinary code or a more descriptive code.Gender could be coded as\n1 ¼ female and 0 ¼ male, but this is an arbitrary coding that is not\nmemorable to the data inputer.Coding as f ¼ female and m ¼\nmale is memorable and so far lower rates of errors are likely\nduring the inputting of the data, i.e.make the purest possible\ntransformations of data.It is a very simple automated ‘ﬁnd and\nreplace’ function to convert these to true mathematical binary\nitems for statistical analysis.It is well worth keeping descriptive\ncodings as short as possible, because this reduces the number of\nkeystrokes when entering data.The autoﬁll function of Excel is\n\nCoding the laboratory accession number.If entered in\nthe format in column 1 the accession number sorts to the\norder in column 2 e the year order is incorrect because\nthe full year was not included.With the full year added\nand sorted, column 3, there is still a problem with the\norder of the second and third rows because zeros before\nthe accession number have not been added to numbers\nwith fewer than ﬁve digits.When this has been done,\ncolumn 4, the numbers now do sort into the correct time\norder but a better method is shown in Table 2\n\n1.Unsorted\n\n2. Sorted\n\n3. Full year\nsorted\n\n4.Full year and\npreceeding zeros\nsorted\n\n98/1119/3E\n02/34001/4F\n99/1231/2F\n00/32754/1A\n03/4567/8G\n99/12237/4D\n\n00/32754/1A\n02/34001/4F\n03/4567/8G\n98/1119/3E\n99/1231/2F\n99/12237/4D\n\n1998/1119/3E\n1999/12237/4D\n1999/1231/2F\n2000/32754/1A\n2002/34001/4F\n2003/4567/8G\n\n1998/01119/3E\n1999/01231/2F\n1999/12237/4D\n2000/32754/1A\n2002/34001/4F\n2003/04567/8G\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\nTable 1\n\n151\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nThis shows a better method for coding the laboratory\naccession number by creating a separate column for\neach element of the number.Note that in this case\npreceding zeros do not need to be included as the Excel\nsoftware is treating the numbers as actual numbers\nrather than text, as in Table 1.If you are using a single\nrepresentative section from a multipart specimen, e.g.a\nrepresentative block of breast cancer from a mastectomy\nspecimen, then always remember to include the speciﬁc\nblock number in the database, otherwise future studies\nmay have to retrieve all the slides for the case (speciﬁed\nby the year and accession number) and look at these to\nselect the representative block again e a huge amount\nof rework for no gain in value\n\nNumber\n\n1119\n1231\n12237\n32754\n34001\n4567\n\nPart\n\n3E\n2F\n4D\n1A\n4F\n8G\n\nYear\n\n1998\n1999\n1999\n2000\n2002\n2003\n\nTable 2\n\nuseful and can be optimized by choosing different ﬁrst letters for\nas many different items as possible.An example for breast cancer\nthat we have used is tumour type, where d ¼ ductal, l ¼ lobular, t\n¼ tubular, me ¼ medullary, mu ¼ mucinous, etc.It should be\nnoted that when entering text into Excel it will be case-sensitive in\nany manipulations, such as grouping or pivot data tables, so it is\nbest to use lower case letter throughout, which also reduces\nkeystrokes by not using the Shift key.Importing items into your database\n\nIf some of the data you wish to have in your database exist in\nanother database, it may be possible to import them into your\ndatabase instead of having to key them all in.The ﬁrst thing to\nensure is that the data in the other database are ‘clean’ (i.e.consistently formatted) and veriﬁed.People often volunteer data\nfrom a database which on closer examinations contains many\nformatting inconsistencies, e.g.‘yes’ coded as ‘y’, ‘Y’ or ‘1’ for a\nsingle data ﬁeld, and it then is better to start again with the\noriginal source data.Another common feature of processes\ndesigned to port data from one database to another is that IT\nprofessionals want to write complicated interface programmes\nwhich take weeks or months to develop.Whilst these are essential\nfor databases that port data between themselves on a frequent,\nrecurrent basis, this is usually completely unnecessary for a\nstandalone research database, which usually only requires a sin-\ngle transfer at a single point in time.The easiest method we have\nfound is to perform a search on the existing database to select the\nrecords that we want to import and then export those in a format\nthat Excel can read.Often the parent database will be able to\nexport in Excel format but comma or tab-delimited text is just as\nacceptable and causes no extra work.Once in Excel the imported\ndata can be quickly sorted and formatted as required.It should be\nnoted that it is best to import as the ﬁrst stage of creating your\n\nresearch database, rather than trying to add the imported data to\nan existing database which may be more problematic.Calculating derived data items within your database\n\nAs noted above it is often easier (and certainly more accurate) to\ncalculate some derived data items from raw source data items\nwithin the database.This can be done using Excel’s calculation\nfunctions and the reader is referred to Excel help ﬁles or\ninstructional books for the details of this.5 Obviously some cal-\nculations are easier than others.If your raw data item is the\nmaximum diameter of a breast cancer in millimetres and you\nwant to convert that to centimetres in the calculation of the\nNottingham Prognostic Index, then you would simply set up a\nformula such: ¼ A23/10 where A23 is the index of the cell\ncontaining the measurement in millimetres.It is a simple matter\nto propagate that formula down the whole column for size in\ncentimetres by using the ‘Fill’ ‘Down’ functions from the Edit\nmenu.Deriving the lymph node status component for the Not-\ntingham Prognostic Index from the total number of positive\nlymph nodes would be more complicated but the conditional\noperators exist in Excel to allow this, e.g.¼ IF(A23 > 3,2,0), and\nautomatic help boxes make this very easy (click the calculator\nsymbol on the Excel toolbar just to the right of the green tick\nsymbol).It should be noted that these calculated values only\nexist when the other items from which they are derived are still\npresent in the datasheet.If for any reason, such as reducing data\ndown to the core items for statistical analysis, you are going to\nremove columns from the datasheet, you must select the whole\ndatasheet, copy it and then paste it back in the same cells using\nthe Paste Special function and selecting Values.You will then\nhave a sheet in which each cell is an independent number not\ndependent on any other cell.Obviously, you should only do this\nwhen you have ﬁnished entering all the data and are ready for\ndata analysis, and you should immediately save this sheet in a\ndifferent name from the original database sheet.Verifying your data\n\nOnce you have input your data you need to make some assess-\nment of the veracity of that data.It is remarkable how many\nerrors are introduced during data entry that need to be corrected\nbefore the database is usable.Excel has some useful functions\nthat make debugging the database relatively easy.One method is\nto ensure that you have saved the database and then try sorting\nthe data in many different ways.Go to ‘Sort’ under the ‘Data’\nmenu and select any single column as the sorting factor and\nperform the sort.Now scroll through the database sheet looking\nat the column you sorted by, especially at the top and bottom of\nthe sorted sheet, and you can see all sorts of data entry errors\nfrom completely blank cells through to mispellings or duplicated\nsymbols.You could repeat these sorts for each column to check\nfor further errors in other columns.A similar, but possibly easier,\nmethod is to use the Autoﬁlter function.Highlight the complete\nsheet (by clicking the diamond symbol in the top left cell of the\nsheet), from the Data menu select the Filter option and then\nselect the Autoﬁlter option.At the top of each column there will\nnow appear an up and down arrow symbol; clicking on this\nproduces a list of all the different occurrences of data items in\nthat column, making it very easy to see errors such as ‘Y’ instead\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n152\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nof ‘y’.When all the obvious typing errors have been corrected, it\nwould be wise to perform an audit, checking perhaps 10% of the\ncase records with their original source data to check that there\nare no systematic data entry errors.Backing up your database\n\nData only exists when it is stored in two places e this widespread\ndictum is never more true than for databases.If you are going to\nspend many hours entering data into a database, then you need to\nhave a reliable system of back-up.The best systems are automatic\nand store the data at a geographically separate location; institutions\nsuch as universities often provide such systems for their members.Excel-based databases produce ﬁles which are very manageable in\nsize and can easily be backed up to CDs or memory sticks, but be\nmindful of security issues even with a completely anonymized\ndatabase (which would still cause media interest if found in an\ninappropriate place) and keep the copies in secure locations.Many\nNHS institutions are now so wary of data loss through sources such\nas memory sticks, that they are considering disabling USB ports on\ntheir computers so automated back-ups onto servers within the\ninstitution’s ﬁrewall may well become the norm.Exporting data for analysis\n\nThe function of a database is to store and order data for a\nresearch project that can then be analysed.By using Excel as the\ndatabase software, many statistical functions and analysis can be\nused directly within Excel.However more sophisticated analyses\nwill require preprocessing and export to other programmes such\nas SSPS.The preprocessing will mainly consist of converting\ndescriptive variables into numerical values, e.g.‘f’ to ‘1’, which\nis easily done using the search and replace functions of Excel.The labels of the columns may have to be shortened to be read by\nsome statistical programmes, e.g.SPSS will only read the ﬁrst\neight characters of variable names.Again, you must remember to\nsave the spreadsheet with a different ﬁlename before beginning\ndata preprocessing, as it will destroy some of the data, or\ncertainly its format.Most specialist statistical programmes, such\nas SPSS, will read Excel ﬁles but data can be output in comma- or\ntab-delimited text from Excel if necessary.Research notes ‘database’\n\nAny researcher 15 years ago would have had supplementary ‘da-\ntabases’ for their research projects, usually an index box with cards\nwith the authors and title of published papers and a number that\nreferred to a folder in a ﬁling cabinet.They might also have had a\nbound book with notes, or possibly a pile of loose papers with\nvarious notes e they still might have those on their desk today.A\nsupervised researcher working in a well-organized laboratory\nshould still have a bound book as a record of their experiments and\nprimary data, but there are now more useful ways of storing other\ninformation than a pile of loose papers.The widespread availability\nof electronic PDF versions of published paper and the information\ndisplayed on numerous authoritative websites has widened the\nscope for electronic databases of collected research ‘notes’.These\nshould be much easier to search, can have direct links to PDF ﬁles\nstored on the computer and direct links to relevant websites, and\ncould signiﬁcantly improve a researcher’s productivity.A number\n\nof software programmes that perform this task are available.On\nMacintosh computers TapForms6 appears to be the current market\nleader and is extremely easy to use.On PCs Microsoft Ofﬁce One-\nNote (available as part of the MS Ofﬁce 2016 Ofﬁce Suite) is a\ncomprehensive electronic documentation application that allows\norganization and storage of information from a wide range of\nsources.7 It also allows resources to be shared securely with project\ncollaborators via the internet.Conclusions\n\nA research database for even relatively sophisticated histopa-\nthology research projects, e.g.immunohistochemical staining of\ntissue arrays with hundreds of tumours, is easy to construct and\nuse provided that care is taken in its overall design and the\ncoding of data items.The purpose of the database should always\nbe to serve the overall aims of the research project and it should\nnot become an isolated resource-consuming entity.For most\nhistopathology projects, a simple spreadsheet programme, such\nas Microsoft Excel, will provide all\nthe necessary database\nfunctions with the minimum amount of infra-structural effort.Conﬂicts of interest\n\nThe authors have no conﬂicts of interest to declare.A\n\nREFERENCES\n1 Balasubramanian SP, Cross SS, Globe J, Cox A, Brown NJ,\n\nReed MW.Endostatin gene variation and protein levels in breast\ncancer susceptibility and severity.BMC Cancer 2007; 7: 107. 2 BBC News website.Thousands of Welsh NHS staff’s data stolen in\n\nhack.Avaliable at: http://www.bbc.co.uk/news/uk-wales-\n39249975 (accessed 4 June 2017). 3 Data Protection Act.Available at: http://www.legislation.gov.uk/\n\nukpga/1998/29/contents (accessed 4 June 2017).4 Iversen A, Liddell K, Fear N, Hotopf M, Wessely S. Consent,\n\nconﬁdentiality and the data protection act.BMJ 2006; 332: 165e9. 5 Walkenbach J. Excel 2016 bible.Hoboken, New Jersey: John Wiley\n\n& Sons, 2015. June 2017). 6 TapForms.Avaliable at: https://www.tapforms.com/ (accessed 4\n\n7 Microsoft Ofﬁce OneNote.Avaliable at: https://www.onenote.com/\n\n(accessed 4 June 2017).Practice points\n\nC Any research database should be anonymized as completely as is\n\nfeasible for the speciﬁc research project\n\nC A research database should always be part of a project approved\nby a research ethics committee and should be speciﬁed within the\nresearch protocol\n\nC A research database should comply with appropriate data pro-\n\ntection legislation, the Data Protection Act in the UK\n\nC The design of the database should be speciﬁed by the aims and\nobjectives of the research project and not by software capabilities\nC Care should be taken to code data items in a format that retains\nall potentially relevant information and which allows them to be\nselected and sorted in a consistent manner\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n153\n\n(cid:1) 2017 Published by Elsevier Ltd.",
          "time": 721.4243304729462,
          "input_token_size": 7415,
          "output_token_size": 300,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_88c11a7e",
        "created_at": 1749870002.9744878,
        "processing_time": 726.0327093601227,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs_prev1",
        "reason": "shorter_provenance",
        "sentence_count": 190,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs_prev1",
            "sentence_count": 190,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.870848"
      }
    }
  },
  {
    "8a1dc5c0": {
      "question": "What software is recommended for standalone research projects?",
      "answer": "Microsoft Excel",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            83,
            84,
            85
          ],
          "provenance_ids": [
            83
          ],
          "provenance": "Although we have used Microsoft Access and\nFilemaker Pro in the past with success, the learning curve for using\nthese packages is relatively steep and the results are no better than\nusing our current preferred option which is Microsoft Excel.",
          "time": 5.762911319732666,
          "input_token_size": 7910,
          "output_token_size": 13,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_8a1dc5c0",
        "created_at": 1749665246.4305632,
        "processing_time": 11.483695983886719,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs_prev",
        "reason": "shorter_provenance",
        "sentence_count": 3,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs_prev",
            "sentence_count": 3,
            "provenance_count": 1,
            "has_answer": true
          },
          {
            "source": "test_outputs_prev1",
            "sentence_count": 190,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.872853"
      }
    }
  },
  {
    "8b963fa1": {
      "question": "What is the main focus of the document?",
      "answer": "The main focus of the document is on the design and use of research databases for histopathology research projects, including considerations for database structure, data coding, ethical and legal issues, and data management practices.",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94
          ],
          "provenance_ids": [
            0,
            2,
            3,
            18,
            19,
            60,
            61,
            91,
            92,
            93
          ],
          "provenance": "MINI-SYMPOSIUM: RESEARCH\n\nHow to design and use a\nresearch database\n\nSimon S Cross\n\nIan R Palmer\n\nTimothy J Stephenson\n\nAbstract\nThe vast majority of histopathology research projects based on a se-\nries of tissue samples will require a database to store and organize the\ndata.However,\nthere are still some important considerations in the design of the data-\nbase and coding of the data that will make its subsequent use much\nmore time efﬁcient.This article reviews the scope of databases for\ncommon histopathology research projects, the ethical and legal con-\nsiderations, design of the database structure, coding of data items,\nand import and export of data from databases.time to last follow-up, recurrent\ndisease, death not due to breast cancer, death due to breast\ncancer).A database for a project such as this would be a\nreasonable proposition for a single researcher, such as a histo-\npathology trainee working on an PhD degree, and is the scale\nof database that we use all the time in our projects.1\n\nAnonymization, ethical and legal considerations\n\nAny research database should be anonymized to the highest level\nthat is compatible with the viability of the research project.a single core of tumour in a tissue\nmicroarray, where it is possible that there could have been some\ntransposition of laboratory accession numbers or rows and col-\numns in a spreadsheet and the risk of misidentiﬁcation would be\nslightly higher than in a fully functioning diagnostic histopa-\nthology laboratory.For these reasons, we include a statement in\nour ethics committee application stating that any discoveries are\nfor research purposes only and that there will be no retrograde\nﬂow of information back to patient records or individual patients.In these circumstances, a server-based database is more\nuseful but it can be difﬁcult to arrange access from different in-\nstitutions.A more recent development is the availability of web-\nbased databases, which are accessible from any web browser and\nmake multiuser data entry very simple.The consideration with\nthese web-based databases is the security of the commercial\n\nproviders’ servers, but they are basing their business on a secure\nservice so the risk might be lower than for an ad-hoc server in an\nacademic institution.",
          "time": 52.28205943107605,
          "input_token_size": 7590,
          "output_token_size": 114,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_8b963fa1",
        "created_at": 1749869983.4501698,
        "processing_time": 56.906394720077515,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs_prev1",
        "reason": "shorter_provenance",
        "sentence_count": 95,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs_prev1",
            "sentence_count": 95,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.872853"
      }
    }
  },
  {
    "8f8c2f29": {
      "question": "What is a method mentioned for anonymizing data?",
      "answer": "Complete anonymization, linked anonymization.",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46
          ],
          "provenance_ids": [
            23,
            31,
            32
          ],
          "provenance": "There are two main methods of anonymization e complete\nand linked.novel immuno-\nhistochemistry on a series of tumours) but is obviously not\ncompatible with projects with continuing patient follow-up.In linked anonymization there is some system that links the\nresearch database to identiﬁable patient data.",
          "time": 10.91303300857544,
          "input_token_size": 7688,
          "output_token_size": 34,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_8f8c2f29",
        "created_at": 1750198952.4459748,
        "processing_time": 16.57826256752014,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs",
        "reason": "shorter_provenance",
        "sentence_count": 24,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs",
            "sentence_count": 24,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.872853"
      }
    }
  },
  {
    "98a2f25f": {
      "question": "How do the authors recommend ensuring data accuracy?",
      "answer": "1. Ensure that the data in the other database are ‘clean’ (i.e. consistently formatted) and verified.\n2. Perform an audit, checking perhaps 10% of the case records with their original source data to check that there are no systematic data entry errors.\n3. Use Excel functions to sort and filter data to identify errors.\n4. Back up your database in two places and ensure reliable systems of back-up.",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            163,
            164,
            165,
            166,
            167,
            168,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            75,
            76,
            77,
            78,
            80,
            81,
            82,
            83,
            84,
            85,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            150,
            151,
            152,
            160,
            164,
            165,
            166,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            186,
            187,
            188,
            189
          ],
          "provenance": "MINI-SYMPOSIUM: RESEARCH\n\nHow to design and use a\nresearch database\n\nSimon S Cross\n\nIan R Palmer\n\nTimothy J Stephenson\n\nAbstract\nThe vast majority of histopathology research projects based on a se-\nries of tissue samples will require a database to store and organize the\ndata.Most of these databases will be relatively simple standalone da-\ntabases that can be created in a spreadsheet application.However,\nthere are still some important considerations in the design of the data-\nbase and coding of the data that will make its subsequent use much\nmore time efﬁcient.This article reviews the scope of databases for\ncommon histopathology research projects, the ethical and legal con-\nsiderations, design of the database structure, coding of data items,\nand import and export of data from databases.Keywords anonymization; databases; histopathology\n\nIntroduction\n\nMost research projects need some method for recording and\nordering data.Sometimes this may be a complex system that\nautomatically links with other data sources, but in most cases it\nwill be a relatively simple standalone database for a single\nresearcher to maintain their research data.However, even though\nthis level of database may be relatively simple, it is still very\nimportant to give some thought to its design before starting to use\nit, as a well-designed database will make analysing results much\neasier, and a poorly-designed database can lead to much wasted\ntime which may even extend as far as having to re-enter data.What sort of database does your project need?At the start of a research project you need to make a simple\nassessment of what your database will need to do.If your\ninvolving\nresearch project\nseveral different centres and which requires data to be entered by\nseveral different personnel, then we hope you have budgeted for\n\nis a randomized controlled trial\n\nSimon S Cross MD FRCPath is Professor of Diagnostic Histopathology\nat the University of Shefﬁeld and an Honorary Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation,\nUK.Conﬂict of interest: There is no conﬂict of interest.Ian R Palmer BSc is the Faculty IT Manager (Medicine, Dentistry &\nHealth) and Faculty IT Liaison Corporate Information and Computing\nServices at the University of Shefﬁeld, Shefﬁeld, UK.Timothy J Stephenson MA MD MBA FRCPath is a Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation\nTrust and Honorary Professor at the University of Shefﬁeld and\nShefﬁeld Hallam University, Shefﬁeld, UK.Conﬂict of interest: There\nis no conﬂict of interest.a dedicated database manager in your research grant because\nyou will need them!Such a database is well outside the scope of\nthis paper.A more tractable project might be something like a\nnumber of different immunohistochemical stains performed on a\nretrospective series of 500 cases of breast cancer with histo-\npathological data (such as tumour size, grade, lymph node sta-\ntus) and clinical follow-up (e.g.time to last follow-up, recurrent\ndisease, death not due to breast cancer, death due to breast\ncancer).A database for a project such as this would be a\nreasonable proposition for a single researcher, such as a histo-\npathology trainee working on an PhD degree, and is the scale\nof database that we use all the time in our projects.1\n\nAnonymization, ethical and legal considerations\n\nAny research database should be anonymized to the highest level\nthat is compatible with the viability of the research project.The\nrecent high proﬁle cases in the media highlighting data losses by\nGovernment agencies has shown how easy it is for data in some\nformat (laptop, hard drive, data stick, and more recently insecure\nserver etc.)to be lost or stolen.2 It is likely that you will be\nmoving your data around between computers and it is probable\nthat you will be using a laptop computer, so for security con-\nsiderations alone the database should be anonymized.Any\nresearch project will require local ethics committee approval, and\nmost ethics committees are rightly concerned about the trans-\nmission of personal medical data and usually insist that any\nresearch databases are anonymized.There are two main methods of anonymization e complete\nand linked.The most secure is complete anonymization where\nthe clinicopathological data are taken from their original source\nand entered into the research database with no linkage at all\nbetween the two.If all personal identiﬁers are excluded from the\nresearch database, then there should be no way of systematically\nidentifying patients from the data held in the research database (it\nshould, however, be noted that it might be possible to identify\noccasional individuals if they have very distinctive characteristics,\ne.g.a 16-year-old female living in city ‘x’ who was diagnosed with\nbreast cancer).The advantage of a totally anonymized database is\na lowering of the risk should it be lost or stolen.It obviously re-\nduces the risk of identiﬁcation of individuals to close to zero, but\nit does not eliminate the risk of media coverage should the lost\ndata be found somewhere inappropriate (the local newspaper\nheadline ‘Cancer patients’ data found on memory stick in car\npark’ could still be applied whether the data were anonymized or\nnot).The major disadvantage of a completely anonymized data-\nbase is that it is a static database that cannot be updated later if\nthere is a need for further data input.This may not be a problem\nfor many histopathology research projects (e.g.novel immuno-\nhistochemistry on a series of tumours) but is obviously not\ncompatible with projects with continuing patient follow-up.In linked anonymization there is some system that links the\nresearch database to identiﬁable patient data.One method of\nlinkage is to have a separate secure database that acts as a key\nbetween identiﬁable data records and the anonymized research\ndatabase.Such a book could be kept securely\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n149\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nlocked in a ﬁling cabinet in a locked ofﬁce and access could be\nrestricted to a few named individuals involved in the research\nproject; often it will be a single named individual whose sole\npurpose is to provide linkage if requested.However, this method\ninvolves setting up a separate administration system with its own\nsecurity issues.A much simpler method is to use some identiﬁer\nwhich is not identiﬁable without access to some existing infor-\nmation system.This could be the patient’s hospital number but\nmany ethics committees regard this as relatively insecure\nbecause the patient’s hospital number could open access to a\nwhole range of information in many different hospital informa-\ntion systems (and the patient’s NHS number is even less secure\nand more informative).In histopathology we are fortunate in\nhaving the laboratory accession number which is a restrictive\nsuperﬁcially-anonymous identiﬁer that is only available to those\nwith access to the laboratory information computer system, and\nthat system is already heavily protected by individual password\nlogin, automatic timing out of terminals after a short period of\nnon-use, etc.If we are conducting a research study on archival\ndiagnostic surgical material, then we will probably be using\nslides labelled with the laboratory accession number and we are\nunlikely to anonymize that number because of the slide labelling\nproblems it would cause.At present the ethics committees that\nwe have passed applications through have been happy to use the\nlaboratory accession number to anonymize the samples and data\nin studies, although they have always required a statement on\nthe circumstances in which the investigators would go back to\nthe laboratory information system for more data.Such consid-\nerations always have to be made for any research project and are\nnot exclusively a feature of research databases.The date of birth is quite a speciﬁc item and com-\nbined with other items in a database (e.g.a woman with breast\ncancer diagnosed in 2002) could provide a strong indication of an\nindividual’s identity.It is usually better to change the date of\nbirth to a less speciﬁc age datum at the time of entering infor-\nmation into the database; age at diagnosis will probably give all\nthe information that is required.It should be noted that even when a database has been\n‘anonymized’ using relatively opaque linkage items, such as the\nlaboratory accession number, it is still not completely anony-\nmized because links can be made indirectly which could iden-\ntify the patient.Although this linked ‘anonymization’ will mini-\nmize the adverse effects of any data loss or unauthorized access\nto the data, the database is still legally regarded as personal data\nunder legislation such as the UK Data Protection Act.3,4 Under\nthis Act, only data essential to the study can be collected and they\ncan only be stored for as long as the study is active.This brings us to legal consideration as whether the database\nneeds to be registered under the terms of the Data Protection Act\nin the UK, or similar legislation in other countries.If there is no\nlinkage possible at all between the research database and per-\nsonal patient data, then it would not need to registered, but since\nthe act of creation of the database will involve some access to\npersonal data, then we would suggest that it does need regis-\ntration.In most UK institutions this is a simple process because\nthere will be an institutional Data Protection Ofﬁcer and the\ninstitution will be registered with the Government’s Information\n\nCommissioner, which will usually give generic registration for\ndatabases in that institution without the need for the registration\nof individual databases.However, you would need to check the\ndetails of your institution’s processes.A further medicolegal consideration is the duty of disclosure\nthat could occur if review of a case with identiﬁable data showed\nthat there was a misdiagnosis or mistreatment, e.g.if review of a\nseries of cases of mesothelioma showed that one of the cases\nappeared to be mesothelial hyperplasia rather than mesotheli-\noma.If there is complete anonymization, then this cannot apply.If there is linked anonymization, then it could apply and this\nneeds to be considered before the study commences.a single block of breast cancer, so a full diagnostic review of\nthe case is not being carried out.The tissue is also being exam-\nined in a research context, e.g.a single core of tumour in a tissue\nmicroarray, where it is possible that there could have been some\ntransposition of laboratory accession numbers or rows and col-\numns in a spreadsheet and the risk of misidentiﬁcation would be\nslightly higher than in a fully functioning diagnostic histopa-\nthology laboratory.For these reasons, we include a statement in\nour ethics committee application stating that any discoveries are\nfor research purposes only and that there will be no retrograde\nﬂow of information back to patient records or individual patients.Design your database\n\nThe design of your database should reﬂect the design of your\nresearch project and it would be better to have all your aims and\nobjectives of the project clearly formulated and recorded before\nyou start to design your database.Sometimes, however, design of\nthe database and general objectives of the research project emerge\nconcurrently.A good way to design your database is to take a blank\nsheet of A3 paper and sketch out all the data items you think you\nneed in a ‘spider’ (or ‘mindmap’) diagram with clusters of related\nitems.This gets you away from a computer screen and a form\nformat, and allows you to look at all the data items with an over-\nview.It is worth spending some time doing this, possibly redraw-\ning the diagram if it becomes too cluttered by changes, because this\nis the most important stage of database design and time spent on\nthis stage will pay major dividends later in the process.You need to arrive at a design with all the data items that are\nessential for your project but no more than that.If you do not\ninclude essential data items at the start of the process, you will\ndiscover their absence later and then need to modify the database,\nand you may have to go through all your original data sources to\ninput the missing items.It is usually best to include individual raw\ndata items and use them to calculate derived data items within the\ndatabase.An example in breast cancer would be the Nottingham\nPrognostic Index.If you only include the Nottingham Prognostic\nIndex in your database as an aggregate measure of the potential\nprognostic behaviour of the tumour, then you will not have access\nto the tumour size, tumour grade and lymph node status in future\nanalyses.If you include those three items separately, then you can\ncreate a fourth derived data item that will automatically calculate\nthe Nottingham Prognostic Index from these items.If you only\nrecord axillary lymph node status in a case of breast cancer as\npositive or negative, then you will not have access to the total\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n150\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nnumber of positive lymph nodes, whereas if you record the total\nnumber of positive lymph nodes, you will be able to create\nanother automatically derived data item for overall lymph node\nstatus.Any variable that in its raw state is a continuous variable (e.g.tumour size in millimetres) should be stored as that continuous\nvariable rather than a category (e.g. tumours between 5 and 10\nmm).You should of course ensure that all the data items in your\ndatabase are relevant to your project’s aims and objectives\nbecause it is a waste of resources (usually your time) to enter\nirrelevant items.What software should you use? You will notice that choice of software comes after design of the\ndatabase.There are a\nnumber of popular database software packages on the market,\nsuch as Microsoft Access and Filemaker Pro, which run on indi-\nvidual computers.There are also server-based databases, such as\nMySQL, Microsoft SQL Server or Oracle.These software packages\nare all very good and very powerful for multiuser projects with a\nnumber of interacting databases, but they are overkill for a\nresearch project such as the breast cancer tissue array project\ndescribed above.Although we have used Microsoft Access and\nFilemaker Pro in the past with success, the learning curve for using\nthese packages is relatively steep and the results are no better than\nusing our current preferred option which is Microsoft Excel.This\nspreadsheet application has enough database functions built into it\nto carry out all the necessary preprocessing before statistical\nanalysis of results in speciﬁc statistical software package, such as\nStatistical Package for Social Sciences (SPSS).It has the major\nadvantages of virtually no learning curve, if you already use its\nspreadsheet functions, no platform speciﬁcity (Microsoft Access\ndoes not run on Macintosh computers), accepts ﬁles from other\nsources in a wide range of formats, and does not allow the user to\nwaste time creating colourful graphical interfaces for entering data\nthat have no value to the project.The ‘Split Window’ and\n‘Freeze Panes’ functions (found under the Windows menu at the\ntop of the screen) allow the column headings and left-hand row\nlabels to remain on the screen all the time no matter how many\nrows or columns there are in the spreadsheet (see the Excel help\nﬁles for further details).We enter data directly into the spreadsheet\nwithout using any custom entry form, but it is easy to create one if\nyou feel that data entry would be cleaner by using one, e.g.if\nsomeone without specialist knowledge is entering the data for you.If you need multiuser entry, then a single spreadsheet be-\ncomes problematic because version control becomes very difﬁ-\ncult.In these circumstances, a server-based database is more\nuseful but it can be difﬁcult to arrange access from different in-\nstitutions.A more recent development is the availability of web-\nbased databases, which are accessible from any web browser and\nmake multiuser data entry very simple.The consideration with\nthese web-based databases is the security of the commercial\n\nproviders’ servers, but they are basing their business on a secure\nservice so the risk might be lower than for an ad-hoc server in an\nacademic institution.Coding your data\n\nYou will know which data items you want to include in your\ndatabase because you designed it before you touched the com-\nputer keyboard, but now you need to consider how you are going\nto code that data.This only requires a bit of thought about how\nyou are going to sort and use the data but again if you code your\ndata in appropriate formats it will cause a lot of rework and delay\nlater.The laboratory accession number is a simple illustrative\ncase (Tables 1 and 2).This number is usually in the form of the\nyear and then a single unique number issued in ascending order\nas specimens arrive.There may also be a separate block number if\nthe specimen cannot be embedded in a single block.If such a\nnumber is entered into a single column in its usual format, e.g.08/23156/3E, it will be treated as text rather than a number in\nExcel and there can be a number of problems when sorting data\nfor analysis.Tables 1 and 2 illustrate these problems and show\nthat the best solution is to create separate columns for each\nelement of a multipart or mixed number/text item.Binary data\nitems, such as gender or lymph node status, are easier but there is\nstill a decision to be made as to whether to use strict mathematical\nbinary code or a more descriptive code.Gender could be coded as\n1 ¼ female and 0 ¼ male, but this is an arbitrary coding that is not\nmemorable to the data inputer.Coding as f ¼ female and m ¼\nmale is memorable and so far lower rates of errors are likely\nduring the inputting of the data, i.e.make the purest possible\ntransformations of data.It is a very simple automated ‘ﬁnd and\nreplace’ function to convert these to true mathematical binary\nitems for statistical analysis.It is well worth keeping descriptive\ncodings as short as possible, because this reduces the number of\nkeystrokes when entering data.The autoﬁll function of Excel is\n\nCoding the laboratory accession number.If entered in\nthe format in column 1 the accession number sorts to the\norder in column 2 e the year order is incorrect because\nthe full year was not included.With the full year added\nand sorted, column 3, there is still a problem with the\norder of the second and third rows because zeros before\nthe accession number have not been added to numbers\nwith fewer than ﬁve digits.When this has been done,\ncolumn 4, the numbers now do sort into the correct time\norder but a better method is shown in Table 2\n\n1.Unsorted\n\n2. Sorted\n\n3. Full year\nsorted\n\n4.Full year and\npreceeding zeros\nsorted\n\n98/1119/3E\n02/34001/4F\n99/1231/2F\n00/32754/1A\n03/4567/8G\n99/12237/4D\n\n00/32754/1A\n02/34001/4F\n03/4567/8G\n98/1119/3E\n99/1231/2F\n99/12237/4D\n\n1998/1119/3E\n1999/12237/4D\n1999/1231/2F\n2000/32754/1A\n2002/34001/4F\n2003/4567/8G\n\n1998/01119/3E\n1999/01231/2F\n1999/12237/4D\n2000/32754/1A\n2002/34001/4F\n2003/04567/8G\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\nTable 1\n\n151\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nThis shows a better method for coding the laboratory\naccession number by creating a separate column for\neach element of the number.Note that in this case\npreceding zeros do not need to be included as the Excel\nsoftware is treating the numbers as actual numbers\nrather than text, as in Table 1.If you are using a single\nrepresentative section from a multipart specimen, e.g.a\nrepresentative block of breast cancer from a mastectomy\nspecimen, then always remember to include the speciﬁc\nblock number in the database, otherwise future studies\nmay have to retrieve all the slides for the case (speciﬁed\nby the year and accession number) and look at these to\nselect the representative block again e a huge amount\nof rework for no gain in value\n\nNumber\n\n1119\n1231\n12237\n32754\n34001\n4567\n\nPart\n\n3E\n2F\n4D\n1A\n4F\n8G\n\nYear\n\n1998\n1999\n1999\n2000\n2002\n2003\n\nTable 2\n\nuseful and can be optimized by choosing different ﬁrst letters for\nas many different items as possible.An example for breast cancer\nthat we have used is tumour type, where d ¼ ductal, l ¼ lobular, t\n¼ tubular, me ¼ medullary, mu ¼ mucinous, etc.It should be\nnoted that when entering text into Excel it will be case-sensitive in\nany manipulations, such as grouping or pivot data tables, so it is\nbest to use lower case letter throughout, which also reduces\nkeystrokes by not using the Shift key.Importing items into your database\n\nIf some of the data you wish to have in your database exist in\nanother database, it may be possible to import them into your\ndatabase instead of having to key them all in.The ﬁrst thing to\nensure is that the data in the other database are ‘clean’ (i.e.consistently formatted) and veriﬁed.People often volunteer data\nfrom a database which on closer examinations contains many\nformatting inconsistencies, e.g.‘yes’ coded as ‘y’, ‘Y’ or ‘1’ for a\nsingle data ﬁeld, and it then is better to start again with the\noriginal source data.Another common feature of processes\ndesigned to port data from one database to another is that IT\nprofessionals want to write complicated interface programmes\nwhich take weeks or months to develop.Whilst these are essential\nfor databases that port data between themselves on a frequent,\nrecurrent basis, this is usually completely unnecessary for a\nstandalone research database, which usually only requires a sin-\ngle transfer at a single point in time.The easiest method we have\nfound is to perform a search on the existing database to select the\nrecords that we want to import and then export those in a format\nthat Excel can read.Often the parent database will be able to\nexport in Excel format but comma or tab-delimited text is just as\nacceptable and causes no extra work.Once in Excel the imported\ndata can be quickly sorted and formatted as required.It should be\nnoted that it is best to import as the ﬁrst stage of creating your\n\nresearch database, rather than trying to add the imported data to\nan existing database which may be more problematic.Calculating derived data items within your database\n\nAs noted above it is often easier (and certainly more accurate) to\ncalculate some derived data items from raw source data items\nwithin the database.This can be done using Excel’s calculation\nfunctions and the reader is referred to Excel help ﬁles or\ninstructional books for the details of this.5 Obviously some cal-\nculations are easier than others.If your raw data item is the\nmaximum diameter of a breast cancer in millimetres and you\nwant to convert that to centimetres in the calculation of the\nNottingham Prognostic Index, then you would simply set up a\nformula such: ¼ A23/10 where A23 is the index of the cell\ncontaining the measurement in millimetres.It is a simple matter\nto propagate that formula down the whole column for size in\ncentimetres by using the ‘Fill’ ‘Down’ functions from the Edit\nmenu.Deriving the lymph node status component for the Not-\ntingham Prognostic Index from the total number of positive\nlymph nodes would be more complicated but the conditional\noperators exist in Excel to allow this, e.g.¼ IF(A23 > 3,2,0), and\nautomatic help boxes make this very easy (click the calculator\nsymbol on the Excel toolbar just to the right of the green tick\nsymbol).It should be noted that these calculated values only\nexist when the other items from which they are derived are still\npresent in the datasheet.If for any reason, such as reducing data\ndown to the core items for statistical analysis, you are going to\nremove columns from the datasheet, you must select the whole\ndatasheet, copy it and then paste it back in the same cells using\nthe Paste Special function and selecting Values.You will then\nhave a sheet in which each cell is an independent number not\ndependent on any other cell.Obviously, you should only do this\nwhen you have ﬁnished entering all the data and are ready for\ndata analysis, and you should immediately save this sheet in a\ndifferent name from the original database sheet.Verifying your data\n\nOnce you have input your data you need to make some assess-\nment of the veracity of that data.It is remarkable how many\nerrors are introduced during data entry that need to be corrected\nbefore the database is usable.Excel has some useful functions\nthat make debugging the database relatively easy.One method is\nto ensure that you have saved the database and then try sorting\nthe data in many different ways.Go to ‘Sort’ under the ‘Data’\nmenu and select any single column as the sorting factor and\nperform the sort.Now scroll through the database sheet looking\nat the column you sorted by, especially at the top and bottom of\nthe sorted sheet, and you can see all sorts of data entry errors\nfrom completely blank cells through to mispellings or duplicated\nsymbols.You could repeat these sorts for each column to check\nfor further errors in other columns.A similar, but possibly easier,\nmethod is to use the Autoﬁlter function.Highlight the complete\nsheet (by clicking the diamond symbol in the top left cell of the\nsheet), from the Data menu select the Filter option and then\nselect the Autoﬁlter option.When all the obvious typing errors have been corrected, it\nwould be wise to perform an audit, checking perhaps 10% of the\ncase records with their original source data to check that there\nare no systematic data entry errors.Backing up your database\n\nData only exists when it is stored in two places e this widespread\ndictum is never more true than for databases.If you are going to\nspend many hours entering data into a database, then you need to\nhave a reliable system of back-up.‘f’ to ‘1’, which\nis easily done using the search and replace functions of Excel.Most specialist statistical programmes, such\nas SPSS, will read Excel ﬁles but data can be output in comma- or\ntab-delimited text from Excel if necessary.Research notes ‘database’\n\nAny researcher 15 years ago would have had supplementary ‘da-\ntabases’ for their research projects, usually an index box with cards\nwith the authors and title of published papers and a number that\nreferred to a folder in a ﬁling cabinet.They might also have had a\nbound book with notes, or possibly a pile of loose papers with\nvarious notes e they still might have those on their desk today.These\nshould be much easier to search, can have direct links to PDF ﬁles\nstored on the computer and direct links to relevant websites, and\ncould signiﬁcantly improve a researcher’s productivity.A number\n\nof software programmes that perform this task are available.On\nMacintosh computers TapForms6 appears to be the current market\nleader and is extremely easy to use.On PCs Microsoft Ofﬁce One-\nNote (available as part of the MS Ofﬁce 2016 Ofﬁce Suite) is a\ncomprehensive electronic documentation application that allows\norganization and storage of information from a wide range of\nsources.7 It also allows resources to be shared securely with project\ncollaborators via the internet.Conclusions\n\nA research database for even relatively sophisticated histopa-\nthology research projects, e.g.immunohistochemical staining of\ntissue arrays with hundreds of tumours, is easy to construct and\nuse provided that care is taken in its overall design and the\ncoding of data items.The purpose of the database should always\nbe to serve the overall aims of the research project and it should\nnot become an isolated resource-consuming entity.For most\nhistopathology projects, a simple spreadsheet programme, such\nas Microsoft Excel, will provide all\nthe necessary database\nfunctions with the minimum amount of infra-structural effort.Conﬂicts of interest\n\nThe authors have no conﬂicts of interest to declare.A\n\nREFERENCES\n1 Balasubramanian SP, Cross SS, Globe J, Cox A, Brown NJ,\n\nReed MW.Endostatin gene variation and protein levels in breast\ncancer susceptibility and severity.BMC Cancer 2007; 7: 107. 2 BBC News website.Thousands of Welsh NHS staff’s data stolen in\n\nhack.Avaliable at: http://www.bbc.co.uk/news/uk-wales-\n39249975 (accessed 4 June 2017). 3 Data Protection Act.Available at: http://www.legislation.gov.uk/\n\nukpga/1998/29/contents (accessed 4 June 2017).4 Iversen A, Liddell K, Fear N, Hotopf M, Wessely S. Consent,\n\nconﬁdentiality and the data protection act.Hoboken, New Jersey: John Wiley\n\n& Sons, 2015. June 2017). 6 TapForms.Avaliable at: https://www.tapforms.com/ (accessed 4\n\n7 Microsoft Ofﬁce OneNote.Avaliable at: https://www.onenote.com/\n\n(accessed 4 June 2017).Practice points\n\nC Any research database should be anonymized as completely as is\n\nfeasible for the speciﬁc research project\n\nC A research database should always be part of a project approved\nby a research ethics committee and should be speciﬁed within the\nresearch protocol\n\nC A research database should comply with appropriate data pro-\n\ntection legislation, the Data Protection Act in the UK\n\nC The design of the database should be speciﬁed by the aims and\nobjectives of the research project and not by software capabilities\nC Care should be taken to code data items in a format that retains\nall potentially relevant information and which allows them to be\nselected and sorted in a consistent manner\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n153\n\n(cid:1) 2017 Published by Elsevier Ltd.",
          "time": 460.8498272895813,
          "input_token_size": 7413,
          "output_token_size": 97,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_98a2f25f",
        "created_at": 1749870029.9003227,
        "processing_time": 464.6390929222107,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs_prev1",
        "reason": "shorter_provenance",
        "sentence_count": 190,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs_prev1",
            "sentence_count": 190,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.872853"
      }
    }
  },
  {
    "9c2c72d9": {
      "question": "Where is Microsoft Excel mentioned in the document?",
      "answer": "Microsoft Excel",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            83,
            84,
            85
          ],
          "provenance_ids": [
            83
          ],
          "provenance": "Although we have used Microsoft Access and\nFilemaker Pro in the past with success, the learning curve for using\nthese packages is relatively steep and the results are no better than\nusing our current preferred option which is Microsoft Excel.",
          "time": 3.6514763832092285,
          "input_token_size": 7910,
          "output_token_size": 13,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_9c2c72d9",
        "created_at": 1750198867.2265134,
        "processing_time": 13.100165128707886,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs",
        "reason": "shorter_provenance",
        "sentence_count": 3,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs",
            "sentence_count": 3,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.872853"
      }
    }
  },
  {
    "9f19b617": {
      "question": "What is the title of the document?",
      "answer": "How to design and use a research database",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            0,
            1,
            2,
            3,
            4
          ],
          "provenance_ids": [
            0
          ],
          "provenance": "MINI-SYMPOSIUM: RESEARCH\n\nHow to design and use a\nresearch database\n\nSimon S Cross\n\nIan R Palmer\n\nTimothy J Stephenson\n\nAbstract\nThe vast majority of histopathology research projects based on a se-\nries of tissue samples will require a database to store and organize the\ndata.",
          "time": 4.3370771408081055,
          "input_token_size": 7321,
          "output_token_size": 40,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_9f19b617",
        "created_at": 1749869977.0430558,
        "processing_time": 8.27080249786377,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs_prev1",
        "reason": "shorter_provenance",
        "sentence_count": 5,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs_prev1",
            "sentence_count": 5,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.872853"
      }
    }
  },
  {
    "a0b53401": {
      "question": "Who is Simon S Cross in relation to the document?",
      "answer": "Simon S Cross is a Professor of Diagnostic Histopathology at the University of Sheffield and an Honorary Consultant Histopathologist at Sheffield Teaching Hospitals NHS Foundation, UK.",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            8,
            9,
            10
          ],
          "provenance_ids": [
            9
          ],
          "provenance": "If your\ninvolving\nresearch project\nseveral different centres and which requires data to be entered by\nseveral different personnel, then we hope you have budgeted for\n\nis a randomized controlled trial\n\nSimon S Cross MD FRCPath is Professor of Diagnostic Histopathology\nat the University of Shefﬁeld and an Honorary Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation,\nUK.",
          "time": 6.868030548095703,
          "input_token_size": 7937,
          "output_token_size": 214,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_a0b53401",
        "created_at": 1750198906.3953047,
        "processing_time": 11.296129941940308,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs",
        "reason": "shorter_provenance",
        "sentence_count": 3,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs",
            "sentence_count": 3,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.874858"
      }
    }
  },
  {
    "a6fe13ee": {
      "question": "Who emphasized the necessity of databases in the document?",
      "answer": "Simon S Cross, Ian R Palmer, Timothy J Stephenson",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            0,
            1,
            2,
            3,
            4
          ],
          "provenance_ids": [
            0
          ],
          "provenance": "MINI-SYMPOSIUM: RESEARCH\n\nHow to design and use a\nresearch database\n\nSimon S Cross\n\nIan R Palmer\n\nTimothy J Stephenson\n\nAbstract\nThe vast majority of histopathology research projects based on a se-\nries of tissue samples will require a database to store and organize the\ndata.",
          "time": 6.743939399719238,
          "input_token_size": 9244,
          "output_token_size": 61,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_a6fe13ee",
        "created_at": 1750198880.3089006,
        "processing_time": 10.15113639831543,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs",
        "reason": "shorter_provenance",
        "sentence_count": 5,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs",
            "sentence_count": 5,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.874858"
      }
    }
  },
  {
    "ac28a36a": {
      "question": "How does the document differentiate between complete and linked anonymization?",
      "answer": "Complete anonymization is where the clinicopathological data are entered into the research database with no linkage at all between the two, excluding all personal identifiers. Linked anonymization involves some system that links the research database to identifiable patient data, such as a separate secure database that acts as a key between identifiable data records and the anonymized research database.",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            163,
            164,
            165,
            166,
            167,
            168,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            48,
            50,
            58,
            59,
            63,
            64,
            65,
            67,
            68,
            70,
            72,
            77,
            79,
            83,
            85,
            86,
            88,
            89,
            91,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            104,
            106,
            107,
            108,
            109,
            117,
            118,
            119,
            121,
            122,
            126,
            130,
            131,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            155,
            159,
            161,
            165,
            168,
            169,
            171,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance": "MINI-SYMPOSIUM: RESEARCH\n\nHow to design and use a\nresearch database\n\nSimon S Cross\n\nIan R Palmer\n\nTimothy J Stephenson\n\nAbstract\nThe vast majority of histopathology research projects based on a se-\nries of tissue samples will require a database to store and organize the\ndata.Most of these databases will be relatively simple standalone da-\ntabases that can be created in a spreadsheet application.However,\nthere are still some important considerations in the design of the data-\nbase and coding of the data that will make its subsequent use much\nmore time efﬁcient.This article reviews the scope of databases for\ncommon histopathology research projects, the ethical and legal con-\nsiderations, design of the database structure, coding of data items,\nand import and export of data from databases.Keywords anonymization; databases; histopathology\n\nIntroduction\n\nMost research projects need some method for recording and\nordering data.Sometimes this may be a complex system that\nautomatically links with other data sources, but in most cases it\nwill be a relatively simple standalone database for a single\nresearcher to maintain their research data.However, even though\nthis level of database may be relatively simple, it is still very\nimportant to give some thought to its design before starting to use\nit, as a well-designed database will make analysing results much\neasier, and a poorly-designed database can lead to much wasted\ntime which may even extend as far as having to re-enter data.What sort of database does your project need?At the start of a research project you need to make a simple\nassessment of what your database will need to do.If your\ninvolving\nresearch project\nseveral different centres and which requires data to be entered by\nseveral different personnel, then we hope you have budgeted for\n\nis a randomized controlled trial\n\nSimon S Cross MD FRCPath is Professor of Diagnostic Histopathology\nat the University of Shefﬁeld and an Honorary Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation,\nUK.Conﬂict of interest: There is no conﬂict of interest.Ian R Palmer BSc is the Faculty IT Manager (Medicine, Dentistry &\nHealth) and Faculty IT Liaison Corporate Information and Computing\nServices at the University of Shefﬁeld, Shefﬁeld, UK.Conﬂict of\ninterest: There is no conﬂict of interest.Timothy J Stephenson MA MD MBA FRCPath is a Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation\nTrust and Honorary Professor at the University of Shefﬁeld and\nShefﬁeld Hallam University, Shefﬁeld, UK.Conﬂict of interest: There\nis no conﬂict of interest.a dedicated database manager in your research grant because\nyou will need them!Such a database is well outside the scope of\nthis paper.A more tractable project might be something like a\nnumber of different immunohistochemical stains performed on a\nretrospective series of 500 cases of breast cancer with histo-\npathological data (such as tumour size, grade, lymph node sta-\ntus) and clinical follow-up (e.g.time to last follow-up, recurrent\ndisease, death not due to breast cancer, death due to breast\ncancer).A database for a project such as this would be a\nreasonable proposition for a single researcher, such as a histo-\npathology trainee working on an PhD degree, and is the scale\nof database that we use all the time in our projects.1\n\nAnonymization, ethical and legal considerations\n\nAny research database should be anonymized to the highest level\nthat is compatible with the viability of the research project.The\nrecent high proﬁle cases in the media highlighting data losses by\nGovernment agencies has shown how easy it is for data in some\nformat (laptop, hard drive, data stick, and more recently insecure\nserver etc.)to be lost or stolen.2 It is likely that you will be\nmoving your data around between computers and it is probable\nthat you will be using a laptop computer, so for security con-\nsiderations alone the database should be anonymized.Any\nresearch project will require local ethics committee approval, and\nmost ethics committees are rightly concerned about the trans-\nmission of personal medical data and usually insist that any\nresearch databases are anonymized.There are two main methods of anonymization e complete\nand linked.The most secure is complete anonymization where\nthe clinicopathological data are taken from their original source\nand entered into the research database with no linkage at all\nbetween the two.If all personal identiﬁers are excluded from the\nresearch database, then there should be no way of systematically\nidentifying patients from the data held in the research database (it\nshould, however, be noted that it might be possible to identify\noccasional individuals if they have very distinctive characteristics,\ne.g.a 16-year-old female living in city ‘x’ who was diagnosed with\nbreast cancer).The advantage of a totally anonymized database is\na lowering of the risk should it be lost or stolen.It obviously re-\nduces the risk of identiﬁcation of individuals to close to zero, but\nit does not eliminate the risk of media coverage should the lost\ndata be found somewhere inappropriate (the local newspaper\nheadline ‘Cancer patients’ data found on memory stick in car\npark’ could still be applied whether the data were anonymized or\nnot).The major disadvantage of a completely anonymized data-\nbase is that it is a static database that cannot be updated later if\nthere is a need for further data input.This may not be a problem\nfor many histopathology research projects (e.g.novel immuno-\nhistochemistry on a series of tumours) but is obviously not\ncompatible with projects with continuing patient follow-up.In linked anonymization there is some system that links the\nresearch database to identiﬁable patient data.One method of\nlinkage is to have a separate secure database that acts as a key\nbetween identiﬁable data records and the anonymized research\ndatabase.Such a database does not need to be electronic; it could\nsimply be a book with two entries on each line e the identiﬁable\ndata and the anonymized research accession number (often\nknown as the study number).However, this method\ninvolves setting up a separate administration system with its own\nsecurity issues.A much simpler method is to use some identiﬁer\nwhich is not identiﬁable without access to some existing infor-\nmation system.This could be the patient’s hospital number but\nmany ethics committees regard this as relatively insecure\nbecause the patient’s hospital number could open access to a\nwhole range of information in many different hospital informa-\ntion systems (and the patient’s NHS number is even less secure\nand more informative).In histopathology we are fortunate in\nhaving the laboratory accession number which is a restrictive\nsuperﬁcially-anonymous identiﬁer that is only available to those\nwith access to the laboratory information computer system, and\nthat system is already heavily protected by individual password\nlogin, automatic timing out of terminals after a short period of\nnon-use, etc.If we are conducting a research study on archival\ndiagnostic surgical material, then we will probably be using\nslides labelled with the laboratory accession number and we are\nunlikely to anonymize that number because of the slide labelling\nproblems it would cause.At present the ethics committees that\nwe have passed applications through have been happy to use the\nlaboratory accession number to anonymize the samples and data\nin studies, although they have always required a statement on\nthe circumstances in which the investigators would go back to\nthe laboratory information system for more data.Such consid-\nerations always have to be made for any research project and are\nnot exclusively a feature of research databases.Although this linked ‘anonymization’ will mini-\nmize the adverse effects of any data loss or unauthorized access\nto the data, the database is still legally regarded as personal data\nunder legislation such as the UK Data Protection Act.3,4 Under\nthis Act, only data essential to the study can be collected and they\ncan only be stored for as long as the study is active.If there is no\nlinkage possible at all between the research database and per-\nsonal patient data, then it would not need to registered, but since\nthe act of creation of the database will involve some access to\npersonal data, then we would suggest that it does need regis-\ntration.a single block of breast cancer, so a full diagnostic review of\nthe case is not being carried out.The tissue is also being exam-\nined in a research context, e.g.Sometimes, however, design of\nthe database and general objectives of the research project emerge\nconcurrently.A good way to design your database is to take a blank\nsheet of A3 paper and sketch out all the data items you think you\nneed in a ‘spider’ (or ‘mindmap’) diagram with clusters of related\nitems.This gets you away from a computer screen and a form\nformat, and allows you to look at all the data items with an over-\nview.You need to arrive at a design with all the data items that are\nessential for your project but no more than that.If you do not\ninclude essential data items at the start of the process, you will\ndiscover their absence later and then need to modify the database,\nand you may have to go through all your original data sources to\ninput the missing items.An example in breast cancer would be the Nottingham\nPrognostic Index.If you include those three items separately, then you can\ncreate a fourth derived data item that will automatically calculate\nthe Nottingham Prognostic Index from these items.You should of course ensure that all the data items in your\ndatabase are relevant to your project’s aims and objectives\nbecause it is a waste of resources (usually your time) to enter\nirrelevant items.Too many researchers start with the software choice and\nthen their database design is inﬂuenced by what the software can\ndo, rather than what the software can do for them.Although we have used Microsoft Access and\nFilemaker Pro in the past with success, the learning curve for using\nthese packages is relatively steep and the results are no better than\nusing our current preferred option which is Microsoft Excel.It has the major\nadvantages of virtually no learning curve, if you already use its\nspreadsheet functions, no platform speciﬁcity (Microsoft Access\ndoes not run on Macintosh computers), accepts ﬁles from other\nsources in a wide range of formats, and does not allow the user to\nwaste time creating colourful graphical interfaces for entering data\nthat have no value to the project.We simply create a column for\neach data item and use a row for each case.We enter data directly into the spreadsheet\nwithout using any custom entry form, but it is easy to create one if\nyou feel that data entry would be cleaner by using one, e.g.if\nsomeone without specialist knowledge is entering the data for you.In these circumstances, a server-based database is more\nuseful but it can be difﬁcult to arrange access from different in-\nstitutions.Coding your data\n\nYou will know which data items you want to include in your\ndatabase because you designed it before you touched the com-\nputer keyboard, but now you need to consider how you are going\nto code that data.This only requires a bit of thought about how\nyou are going to sort and use the data but again if you code your\ndata in appropriate formats it will cause a lot of rework and delay\nlater.The laboratory accession number is a simple illustrative\ncase (Tables 1 and 2).This number is usually in the form of the\nyear and then a single unique number issued in ascending order\nas specimens arrive.There may also be a separate block number if\nthe specimen cannot be embedded in a single block.If such a\nnumber is entered into a single column in its usual format, e.g.08/23156/3E, it will be treated as text rather than a number in\nExcel and there can be a number of problems when sorting data\nfor analysis.Tables 1 and 2 illustrate these problems and show\nthat the best solution is to create separate columns for each\nelement of a multipart or mixed number/text item.Binary data\nitems, such as gender or lymph node status, are easier but there is\nstill a decision to be made as to whether to use strict mathematical\nbinary code or a more descriptive code.Coding as f ¼ female and m ¼\nmale is memorable and so far lower rates of errors are likely\nduring the inputting of the data, i.e.It is a very simple automated ‘ﬁnd and\nreplace’ function to convert these to true mathematical binary\nitems for statistical analysis.It is well worth keeping descriptive\ncodings as short as possible, because this reduces the number of\nkeystrokes when entering data.The autoﬁll function of Excel is\n\nCoding the laboratory accession number.If entered in\nthe format in column 1 the accession number sorts to the\norder in column 2 e the year order is incorrect because\nthe full year was not included.An example for breast cancer\nthat we have used is tumour type, where d ¼ ductal, l ¼ lobular, t\n¼ tubular, me ¼ medullary, mu ¼ mucinous, etc.It should be\nnoted that when entering text into Excel it will be case-sensitive in\nany manipulations, such as grouping or pivot data tables, so it is\nbest to use lower case letter throughout, which also reduces\nkeystrokes by not using the Shift key.Importing items into your database\n\nIf some of the data you wish to have in your database exist in\nanother database, it may be possible to import them into your\ndatabase instead of having to key them all in.consistently formatted) and veriﬁed.People often volunteer data\nfrom a database which on closer examinations contains many\nformatting inconsistencies, e.g.The easiest method we have\nfound is to perform a search on the existing database to select the\nrecords that we want to import and then export those in a format\nthat Excel can read.Calculating derived data items within your database\n\nAs noted above it is often easier (and certainly more accurate) to\ncalculate some derived data items from raw source data items\nwithin the database.This can be done using Excel’s calculation\nfunctions and the reader is referred to Excel help ﬁles or\ninstructional books for the details of this.5 Obviously some cal-\nculations are easier than others.It should be noted that these calculated values only\nexist when the other items from which they are derived are still\npresent in the datasheet.If for any reason, such as reducing data\ndown to the core items for statistical analysis, you are going to\nremove columns from the datasheet, you must select the whole\ndatasheet, copy it and then paste it back in the same cells using\nthe Paste Special function and selecting Values.You will then\nhave a sheet in which each cell is an independent number not\ndependent on any other cell.Obviously, you should only do this\nwhen you have ﬁnished entering all the data and are ready for\ndata analysis, and you should immediately save this sheet in a\ndifferent name from the original database sheet.Verifying your data\n\nOnce you have input your data you need to make some assess-\nment of the veracity of that data.It is remarkable how many\nerrors are introduced during data entry that need to be corrected\nbefore the database is usable.Excel has some useful functions\nthat make debugging the database relatively easy.One method is\nto ensure that you have saved the database and then try sorting\nthe data in many different ways.Go to ‘Sort’ under the ‘Data’\nmenu and select any single column as the sorting factor and\nperform the sort.Now scroll through the database sheet looking\nat the column you sorted by, especially at the top and bottom of\nthe sorted sheet, and you can see all sorts of data entry errors\nfrom completely blank cells through to mispellings or duplicated\nsymbols.You could repeat these sorts for each column to check\nfor further errors in other columns.A similar, but possibly easier,\nmethod is to use the Autoﬁlter function.Many\nNHS institutions are now so wary of data loss through sources such\nas memory sticks, that they are considering disabling USB ports on\ntheir computers so automated back-ups onto servers within the\ninstitution’s ﬁrewall may well become the norm.The preprocessing will mainly consist of converting\ndescriptive variables into numerical values, e.g.The labels of the columns may have to be shortened to be read by\nsome statistical programmes, e.g.Research notes ‘database’\n\nAny researcher 15 years ago would have had supplementary ‘da-\ntabases’ for their research projects, usually an index box with cards\nwith the authors and title of published papers and a number that\nreferred to a folder in a ﬁling cabinet.The widespread availability\nof electronic PDF versions of published paper and the information\ndisplayed on numerous authoritative websites has widened the\nscope for electronic databases of collected research ‘notes’.These\nshould be much easier to search, can have direct links to PDF ﬁles\nstored on the computer and direct links to relevant websites, and\ncould signiﬁcantly improve a researcher’s productivity.On\nMacintosh computers TapForms6 appears to be the current market\nleader and is extremely easy to use.The purpose of the database should always\nbe to serve the overall aims of the research project and it should\nnot become an isolated resource-consuming entity.For most\nhistopathology projects, a simple spreadsheet programme, such\nas Microsoft Excel, will provide all\nthe necessary database\nfunctions with the minimum amount of infra-structural effort.Conﬂicts of interest\n\nThe authors have no conﬂicts of interest to declare.A\n\nREFERENCES\n1 Balasubramanian SP, Cross SS, Globe J, Cox A, Brown NJ,\n\nReed MW.Endostatin gene variation and protein levels in breast\ncancer susceptibility and severity.BMC Cancer 2007; 7: 107. 2 BBC News website.Thousands of Welsh NHS staff’s data stolen in\n\nhack.Avaliable at: http://www.bbc.co.uk/news/uk-wales-\n39249975 (accessed 4 June 2017). 3 Data Protection Act.BMJ 2006; 332: 165e9. 5 Walkenbach J. Excel 2016 bible.Hoboken, New Jersey: John Wiley\n\n& Sons, 2015. June 2017). 6 TapForms.Avaliable at: https://www.tapforms.com/ (accessed 4\n\n7 Microsoft Ofﬁce OneNote.Avaliable at: https://www.onenote.com/\n\n(accessed 4 June 2017).Practice points\n\nC Any research database should be anonymized as completely as is\n\nfeasible for the speciﬁc research project\n\nC A research database should always be part of a project approved\nby a research ethics committee and should be speciﬁed within the\nresearch protocol\n\nC A research database should comply with appropriate data pro-\n\ntection legislation, the Data Protection Act in the UK\n\nC The design of the database should be speciﬁed by the aims and\nobjectives of the research project and not by software capabilities\nC Care should be taken to code data items in a format that retains\nall potentially relevant information and which allows them to be\nselected and sorted in a consistent manner\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n153\n\n(cid:1) 2017 Published by Elsevier Ltd.",
          "time": 343.91342425346375,
          "input_token_size": 7419,
          "output_token_size": 42,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_ac28a36a",
        "created_at": 1749769389.6388085,
        "processing_time": 347.18475246429443,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs_prev1",
        "reason": "shorter_provenance",
        "sentence_count": 190,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs_prev1",
            "sentence_count": 190,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.874858"
      }
    }
  },
  {
    "afcc242d": {
      "question": "What software is often sufficient for standalone research databases?",
      "answer": "Microsoft Excel",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94
          ],
          "provenance_ids": [
            1,
            68,
            83
          ],
          "provenance": "Most of these databases will be relatively simple standalone da-\ntabases that can be created in a spreadsheet application.If you do not\ninclude essential data items at the start of the process, you will\ndiscover their absence later and then need to modify the database,\nand you may have to go through all your original data sources to\ninput the missing items.Although we have used Microsoft Access and\nFilemaker Pro in the past with success, the learning curve for using\nthese packages is relatively steep and the results are no better than\nusing our current preferred option which is Microsoft Excel.",
          "time": 12.544750213623047,
          "input_token_size": 7593,
          "output_token_size": 14,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_afcc242d",
        "created_at": 1750198899.9356554,
        "processing_time": 14.415245056152344,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs",
        "reason": "shorter_provenance",
        "sentence_count": 95,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs",
            "sentence_count": 95,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.874858"
      }
    }
  },
  {
    "bbcf8aaf": {
      "question": "Who are the authors of the document?",
      "answer": "Simon S Cross  \nIan R Palmer  \nTimothy J Stephenson",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            0,
            1,
            2,
            3,
            4
          ],
          "provenance_ids": [
            0
          ],
          "provenance": "MINI-SYMPOSIUM: RESEARCH\n\nHow to design and use a\nresearch database\n\nSimon S Cross\n\nIan R Palmer\n\nTimothy J Stephenson\n\nAbstract\nThe vast majority of histopathology research projects based on a se-\nries of tissue samples will require a database to store and organize the\ndata.",
          "time": 5.789624214172363,
          "input_token_size": 7601,
          "output_token_size": 69,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_bbcf8aaf",
        "created_at": 1750198854.2410026,
        "processing_time": 9.098617315292358,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs",
        "reason": "shorter_provenance",
        "sentence_count": 5,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs",
            "sentence_count": 5,
            "provenance_count": 1,
            "has_answer": true
          },
          {
            "source": "test_outputs_prev",
            "sentence_count": 5,
            "provenance_count": 1,
            "has_answer": true
          },
          {
            "source": "test_outputs_prev1",
            "sentence_count": 5,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.874858"
      }
    }
  },
  {
    "c07497bf": {
      "question": "What is the primary focus of the document?",
      "answer": "The primary focus of the document is on how to design and use a research database for histopathology research projects.",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            163,
            164,
            165,
            166,
            167,
            168,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance_ids": [
            0,
            1,
            14,
            17,
            18
          ],
          "provenance": "MINI-SYMPOSIUM: RESEARCH\n\nHow to design and use a\nresearch database\n\nSimon S Cross\n\nIan R Palmer\n\nTimothy J Stephenson\n\nAbstract\nThe vast majority of histopathology research projects based on a se-\nries of tissue samples will require a database to store and organize the\ndata.Most of these databases will be relatively simple standalone da-\ntabases that can be created in a spreadsheet application.Conﬂict of interest: There\nis no conﬂict of interest.A more tractable project might be something like a\nnumber of different immunohistochemical stains performed on a\nretrospective series of 500 cases of breast cancer with histo-\npathological data (such as tumour size, grade, lymph node sta-\ntus) and clinical follow-up (e.g.time to last follow-up, recurrent\ndisease, death not due to breast cancer, death due to breast\ncancer).",
          "time": 36.7180118560791,
          "input_token_size": 7413,
          "output_token_size": 77,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_c07497bf",
        "created_at": 1750198860.7112048,
        "processing_time": 39.784894943237305,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs",
        "reason": "shorter_provenance",
        "sentence_count": 190,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs",
            "sentence_count": 190,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.874858"
      }
    }
  },
  {
    "ca0fc97c": {
      "question": "What does the document suggest about data import/export?",
      "answer": "1. If some of the data you wish to have in your database exist in another database, it may be possible to import them into your database instead of having to key them all in.\n2. The easiest method we have found is to perform a search on the existing database to select the records that we want to import and then export those in a format that Excel can read.\n3. Once in Excel, the imported data can be quickly sorted and formatted as required.\n4. It should be noted that it is best to import as the first stage of creating your research database, rather than trying to add the imported data to an existing database which may be more problematic.\n5. Most specialist statistical programmes, such as SPSS, will read Excel files but data can be output in comma- or tab-delimited text from Excel if necessary.",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            163,
            164,
            165,
            166,
            167,
            168,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            163,
            164,
            165,
            166,
            167,
            168,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance": "MINI-SYMPOSIUM: RESEARCH\n\nHow to design and use a\nresearch database\n\nSimon S Cross\n\nIan R Palmer\n\nTimothy J Stephenson\n\nAbstract\nThe vast majority of histopathology research projects based on a se-\nries of tissue samples will require a database to store and organize the\ndata.Most of these databases will be relatively simple standalone da-\ntabases that can be created in a spreadsheet application.However,\nthere are still some important considerations in the design of the data-\nbase and coding of the data that will make its subsequent use much\nmore time efﬁcient.This article reviews the scope of databases for\ncommon histopathology research projects, the ethical and legal con-\nsiderations, design of the database structure, coding of data items,\nand import and export of data from databases.Keywords anonymization; databases; histopathology\n\nIntroduction\n\nMost research projects need some method for recording and\nordering data.Sometimes this may be a complex system that\nautomatically links with other data sources, but in most cases it\nwill be a relatively simple standalone database for a single\nresearcher to maintain their research data.However, even though\nthis level of database may be relatively simple, it is still very\nimportant to give some thought to its design before starting to use\nit, as a well-designed database will make analysing results much\neasier, and a poorly-designed database can lead to much wasted\ntime which may even extend as far as having to re-enter data.What sort of database does your project need?At the start of a research project you need to make a simple\nassessment of what your database will need to do.If your\ninvolving\nresearch project\nseveral different centres and which requires data to be entered by\nseveral different personnel, then we hope you have budgeted for\n\nis a randomized controlled trial\n\nSimon S Cross MD FRCPath is Professor of Diagnostic Histopathology\nat the University of Shefﬁeld and an Honorary Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation,\nUK.Conﬂict of interest: There is no conﬂict of interest.Ian R Palmer BSc is the Faculty IT Manager (Medicine, Dentistry &\nHealth) and Faculty IT Liaison Corporate Information and Computing\nServices at the University of Shefﬁeld, Shefﬁeld, UK.Conﬂict of\ninterest: There is no conﬂict of interest.Timothy J Stephenson MA MD MBA FRCPath is a Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation\nTrust and Honorary Professor at the University of Shefﬁeld and\nShefﬁeld Hallam University, Shefﬁeld, UK.Conﬂict of interest: There\nis no conﬂict of interest.a dedicated database manager in your research grant because\nyou will need them!Such a database is well outside the scope of\nthis paper.A more tractable project might be something like a\nnumber of different immunohistochemical stains performed on a\nretrospective series of 500 cases of breast cancer with histo-\npathological data (such as tumour size, grade, lymph node sta-\ntus) and clinical follow-up (e.g.time to last follow-up, recurrent\ndisease, death not due to breast cancer, death due to breast\ncancer).A database for a project such as this would be a\nreasonable proposition for a single researcher, such as a histo-\npathology trainee working on an PhD degree, and is the scale\nof database that we use all the time in our projects.1\n\nAnonymization, ethical and legal considerations\n\nAny research database should be anonymized to the highest level\nthat is compatible with the viability of the research project.The\nrecent high proﬁle cases in the media highlighting data losses by\nGovernment agencies has shown how easy it is for data in some\nformat (laptop, hard drive, data stick, and more recently insecure\nserver etc.)to be lost or stolen.2 It is likely that you will be\nmoving your data around between computers and it is probable\nthat you will be using a laptop computer, so for security con-\nsiderations alone the database should be anonymized.Any\nresearch project will require local ethics committee approval, and\nmost ethics committees are rightly concerned about the trans-\nmission of personal medical data and usually insist that any\nresearch databases are anonymized.There are two main methods of anonymization e complete\nand linked.The most secure is complete anonymization where\nthe clinicopathological data are taken from their original source\nand entered into the research database with no linkage at all\nbetween the two.If all personal identiﬁers are excluded from the\nresearch database, then there should be no way of systematically\nidentifying patients from the data held in the research database (it\nshould, however, be noted that it might be possible to identify\noccasional individuals if they have very distinctive characteristics,\ne.g.a 16-year-old female living in city ‘x’ who was diagnosed with\nbreast cancer).The advantage of a totally anonymized database is\na lowering of the risk should it be lost or stolen.It obviously re-\nduces the risk of identiﬁcation of individuals to close to zero, but\nit does not eliminate the risk of media coverage should the lost\ndata be found somewhere inappropriate (the local newspaper\nheadline ‘Cancer patients’ data found on memory stick in car\npark’ could still be applied whether the data were anonymized or\nnot).The major disadvantage of a completely anonymized data-\nbase is that it is a static database that cannot be updated later if\nthere is a need for further data input.This may not be a problem\nfor many histopathology research projects (e.g.novel immuno-\nhistochemistry on a series of tumours) but is obviously not\ncompatible with projects with continuing patient follow-up.In linked anonymization there is some system that links the\nresearch database to identiﬁable patient data.One method of\nlinkage is to have a separate secure database that acts as a key\nbetween identiﬁable data records and the anonymized research\ndatabase.Such a database does not need to be electronic; it could\nsimply be a book with two entries on each line e the identiﬁable\ndata and the anonymized research accession number (often\nknown as the study number).Such a book could be kept securely\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n149\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nlocked in a ﬁling cabinet in a locked ofﬁce and access could be\nrestricted to a few named individuals involved in the research\nproject; often it will be a single named individual whose sole\npurpose is to provide linkage if requested.However, this method\ninvolves setting up a separate administration system with its own\nsecurity issues.A much simpler method is to use some identiﬁer\nwhich is not identiﬁable without access to some existing infor-\nmation system.This could be the patient’s hospital number but\nmany ethics committees regard this as relatively insecure\nbecause the patient’s hospital number could open access to a\nwhole range of information in many different hospital informa-\ntion systems (and the patient’s NHS number is even less secure\nand more informative).In histopathology we are fortunate in\nhaving the laboratory accession number which is a restrictive\nsuperﬁcially-anonymous identiﬁer that is only available to those\nwith access to the laboratory information computer system, and\nthat system is already heavily protected by individual password\nlogin, automatic timing out of terminals after a short period of\nnon-use, etc.If we are conducting a research study on archival\ndiagnostic surgical material, then we will probably be using\nslides labelled with the laboratory accession number and we are\nunlikely to anonymize that number because of the slide labelling\nproblems it would cause.At present the ethics committees that\nwe have passed applications through have been happy to use the\nlaboratory accession number to anonymize the samples and data\nin studies, although they have always required a statement on\nthe circumstances in which the investigators would go back to\nthe laboratory information system for more data.Such consid-\nerations always have to be made for any research project and are\nnot exclusively a feature of research databases.It still needs to be appreciated that simple personal data, such\nas name and address, are not the only items that can identify an\nindividual.The date of birth is quite a speciﬁc item and com-\nbined with other items in a database (e.g.a woman with breast\ncancer diagnosed in 2002) could provide a strong indication of an\nindividual’s identity.It is usually better to change the date of\nbirth to a less speciﬁc age datum at the time of entering infor-\nmation into the database; age at diagnosis will probably give all\nthe information that is required.It should be noted that even when a database has been\n‘anonymized’ using relatively opaque linkage items, such as the\nlaboratory accession number, it is still not completely anony-\nmized because links can be made indirectly which could iden-\ntify the patient.Although this linked ‘anonymization’ will mini-\nmize the adverse effects of any data loss or unauthorized access\nto the data, the database is still legally regarded as personal data\nunder legislation such as the UK Data Protection Act.3,4 Under\nthis Act, only data essential to the study can be collected and they\ncan only be stored for as long as the study is active.This brings us to legal consideration as whether the database\nneeds to be registered under the terms of the Data Protection Act\nin the UK, or similar legislation in other countries.If there is no\nlinkage possible at all between the research database and per-\nsonal patient data, then it would not need to registered, but since\nthe act of creation of the database will involve some access to\npersonal data, then we would suggest that it does need regis-\ntration.In most UK institutions this is a simple process because\nthere will be an institutional Data Protection Ofﬁcer and the\ninstitution will be registered with the Government’s Information\n\nCommissioner, which will usually give generic registration for\ndatabases in that institution without the need for the registration\nof individual databases.However, you would need to check the\ndetails of your institution’s processes.A further medicolegal consideration is the duty of disclosure\nthat could occur if review of a case with identiﬁable data showed\nthat there was a misdiagnosis or mistreatment, e.g.if review of a\nseries of cases of mesothelioma showed that one of the cases\nappeared to be mesothelial hyperplasia rather than mesotheli-\noma.If there is complete anonymization, then this cannot apply.If there is linked anonymization, then it could apply and this\nneeds to be considered before the study commences.In most\nhistopathology research studies, the tissue being reviewed is only\na sample of the whole diagnostic material available on the case,\ne.g.a single block of breast cancer, so a full diagnostic review of\nthe case is not being carried out.The tissue is also being exam-\nined in a research context, e.g.a single core of tumour in a tissue\nmicroarray, where it is possible that there could have been some\ntransposition of laboratory accession numbers or rows and col-\numns in a spreadsheet and the risk of misidentiﬁcation would be\nslightly higher than in a fully functioning diagnostic histopa-\nthology laboratory.For these reasons, we include a statement in\nour ethics committee application stating that any discoveries are\nfor research purposes only and that there will be no retrograde\nﬂow of information back to patient records or individual patients.Design your database\n\nThe design of your database should reﬂect the design of your\nresearch project and it would be better to have all your aims and\nobjectives of the project clearly formulated and recorded before\nyou start to design your database.Sometimes, however, design of\nthe database and general objectives of the research project emerge\nconcurrently.A good way to design your database is to take a blank\nsheet of A3 paper and sketch out all the data items you think you\nneed in a ‘spider’ (or ‘mindmap’) diagram with clusters of related\nitems.This gets you away from a computer screen and a form\nformat, and allows you to look at all the data items with an over-\nview.It is worth spending some time doing this, possibly redraw-\ning the diagram if it becomes too cluttered by changes, because this\nis the most important stage of database design and time spent on\nthis stage will pay major dividends later in the process.You need to arrive at a design with all the data items that are\nessential for your project but no more than that.If you do not\ninclude essential data items at the start of the process, you will\ndiscover their absence later and then need to modify the database,\nand you may have to go through all your original data sources to\ninput the missing items.It is usually best to include individual raw\ndata items and use them to calculate derived data items within the\ndatabase.An example in breast cancer would be the Nottingham\nPrognostic Index.If you only include the Nottingham Prognostic\nIndex in your database as an aggregate measure of the potential\nprognostic behaviour of the tumour, then you will not have access\nto the tumour size, tumour grade and lymph node status in future\nanalyses.If you include those three items separately, then you can\ncreate a fourth derived data item that will automatically calculate\nthe Nottingham Prognostic Index from these items.If you only\nrecord axillary lymph node status in a case of breast cancer as\npositive or negative, then you will not have access to the total\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n150\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nnumber of positive lymph nodes, whereas if you record the total\nnumber of positive lymph nodes, you will be able to create\nanother automatically derived data item for overall lymph node\nstatus.The general rule is that data items cannot be split at a later\nstage, but they can be easily, and automatically, aggregated later,\nso it is best to create a database with the simplest raw data items\nincluded instead of derivative/aggregated data items.Any variable that in its raw state is a continuous variable (e.g.tumour size in millimetres) should be stored as that continuous\nvariable rather than a category (e.g. tumours between 5 and 10\nmm).You should of course ensure that all the data items in your\ndatabase are relevant to your project’s aims and objectives\nbecause it is a waste of resources (usually your time) to enter\nirrelevant items.What software should you use? You will notice that choice of software comes after design of the\ndatabase.Too many researchers start with the software choice and\nthen their database design is inﬂuenced by what the software can\ndo, rather than what the software can do for them.There are a\nnumber of popular database software packages on the market,\nsuch as Microsoft Access and Filemaker Pro, which run on indi-\nvidual computers.There are also server-based databases, such as\nMySQL, Microsoft SQL Server or Oracle.These software packages\nare all very good and very powerful for multiuser projects with a\nnumber of interacting databases, but they are overkill for a\nresearch project such as the breast cancer tissue array project\ndescribed above.Although we have used Microsoft Access and\nFilemaker Pro in the past with success, the learning curve for using\nthese packages is relatively steep and the results are no better than\nusing our current preferred option which is Microsoft Excel.This\nspreadsheet application has enough database functions built into it\nto carry out all the necessary preprocessing before statistical\nanalysis of results in speciﬁc statistical software package, such as\nStatistical Package for Social Sciences (SPSS).It has the major\nadvantages of virtually no learning curve, if you already use its\nspreadsheet functions, no platform speciﬁcity (Microsoft Access\ndoes not run on Macintosh computers), accepts ﬁles from other\nsources in a wide range of formats, and does not allow the user to\nwaste time creating colourful graphical interfaces for entering data\nthat have no value to the project.We simply create a column for\neach data item and use a row for each case.The ‘Split Window’ and\n‘Freeze Panes’ functions (found under the Windows menu at the\ntop of the screen) allow the column headings and left-hand row\nlabels to remain on the screen all the time no matter how many\nrows or columns there are in the spreadsheet (see the Excel help\nﬁles for further details).We enter data directly into the spreadsheet\nwithout using any custom entry form, but it is easy to create one if\nyou feel that data entry would be cleaner by using one, e.g.if\nsomeone without specialist knowledge is entering the data for you.If you need multiuser entry, then a single spreadsheet be-\ncomes problematic because version control becomes very difﬁ-\ncult.In these circumstances, a server-based database is more\nuseful but it can be difﬁcult to arrange access from different in-\nstitutions.A more recent development is the availability of web-\nbased databases, which are accessible from any web browser and\nmake multiuser data entry very simple.The consideration with\nthese web-based databases is the security of the commercial\n\nproviders’ servers, but they are basing their business on a secure\nservice so the risk might be lower than for an ad-hoc server in an\nacademic institution.Coding your data\n\nYou will know which data items you want to include in your\ndatabase because you designed it before you touched the com-\nputer keyboard, but now you need to consider how you are going\nto code that data.This only requires a bit of thought about how\nyou are going to sort and use the data but again if you code your\ndata in appropriate formats it will cause a lot of rework and delay\nlater.The laboratory accession number is a simple illustrative\ncase (Tables 1 and 2).This number is usually in the form of the\nyear and then a single unique number issued in ascending order\nas specimens arrive.There may also be a separate block number if\nthe specimen cannot be embedded in a single block.If such a\nnumber is entered into a single column in its usual format, e.g.08/23156/3E, it will be treated as text rather than a number in\nExcel and there can be a number of problems when sorting data\nfor analysis.Tables 1 and 2 illustrate these problems and show\nthat the best solution is to create separate columns for each\nelement of a multipart or mixed number/text item.Binary data\nitems, such as gender or lymph node status, are easier but there is\nstill a decision to be made as to whether to use strict mathematical\nbinary code or a more descriptive code.Gender could be coded as\n1 ¼ female and 0 ¼ male, but this is an arbitrary coding that is not\nmemorable to the data inputer.Coding as f ¼ female and m ¼\nmale is memorable and so far lower rates of errors are likely\nduring the inputting of the data, i.e.make the purest possible\ntransformations of data.It is a very simple automated ‘ﬁnd and\nreplace’ function to convert these to true mathematical binary\nitems for statistical analysis.It is well worth keeping descriptive\ncodings as short as possible, because this reduces the number of\nkeystrokes when entering data.The autoﬁll function of Excel is\n\nCoding the laboratory accession number.If entered in\nthe format in column 1 the accession number sorts to the\norder in column 2 e the year order is incorrect because\nthe full year was not included.With the full year added\nand sorted, column 3, there is still a problem with the\norder of the second and third rows because zeros before\nthe accession number have not been added to numbers\nwith fewer than ﬁve digits.When this has been done,\ncolumn 4, the numbers now do sort into the correct time\norder but a better method is shown in Table 2\n\n1.Unsorted\n\n2. Sorted\n\n3. Full year\nsorted\n\n4.Full year and\npreceeding zeros\nsorted\n\n98/1119/3E\n02/34001/4F\n99/1231/2F\n00/32754/1A\n03/4567/8G\n99/12237/4D\n\n00/32754/1A\n02/34001/4F\n03/4567/8G\n98/1119/3E\n99/1231/2F\n99/12237/4D\n\n1998/1119/3E\n1999/12237/4D\n1999/1231/2F\n2000/32754/1A\n2002/34001/4F\n2003/4567/8G\n\n1998/01119/3E\n1999/01231/2F\n1999/12237/4D\n2000/32754/1A\n2002/34001/4F\n2003/04567/8G\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\nTable 1\n\n151\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nThis shows a better method for coding the laboratory\naccession number by creating a separate column for\neach element of the number.Note that in this case\npreceding zeros do not need to be included as the Excel\nsoftware is treating the numbers as actual numbers\nrather than text, as in Table 1.If you are using a single\nrepresentative section from a multipart specimen, e.g.a\nrepresentative block of breast cancer from a mastectomy\nspecimen, then always remember to include the speciﬁc\nblock number in the database, otherwise future studies\nmay have to retrieve all the slides for the case (speciﬁed\nby the year and accession number) and look at these to\nselect the representative block again e a huge amount\nof rework for no gain in value\n\nNumber\n\n1119\n1231\n12237\n32754\n34001\n4567\n\nPart\n\n3E\n2F\n4D\n1A\n4F\n8G\n\nYear\n\n1998\n1999\n1999\n2000\n2002\n2003\n\nTable 2\n\nuseful and can be optimized by choosing different ﬁrst letters for\nas many different items as possible.An example for breast cancer\nthat we have used is tumour type, where d ¼ ductal, l ¼ lobular, t\n¼ tubular, me ¼ medullary, mu ¼ mucinous, etc.It should be\nnoted that when entering text into Excel it will be case-sensitive in\nany manipulations, such as grouping or pivot data tables, so it is\nbest to use lower case letter throughout, which also reduces\nkeystrokes by not using the Shift key.Importing items into your database\n\nIf some of the data you wish to have in your database exist in\nanother database, it may be possible to import them into your\ndatabase instead of having to key them all in.The ﬁrst thing to\nensure is that the data in the other database are ‘clean’ (i.e.consistently formatted) and veriﬁed.People often volunteer data\nfrom a database which on closer examinations contains many\nformatting inconsistencies, e.g.‘yes’ coded as ‘y’, ‘Y’ or ‘1’ for a\nsingle data ﬁeld, and it then is better to start again with the\noriginal source data.Another common feature of processes\ndesigned to port data from one database to another is that IT\nprofessionals want to write complicated interface programmes\nwhich take weeks or months to develop.Whilst these are essential\nfor databases that port data between themselves on a frequent,\nrecurrent basis, this is usually completely unnecessary for a\nstandalone research database, which usually only requires a sin-\ngle transfer at a single point in time.The easiest method we have\nfound is to perform a search on the existing database to select the\nrecords that we want to import and then export those in a format\nthat Excel can read.Often the parent database will be able to\nexport in Excel format but comma or tab-delimited text is just as\nacceptable and causes no extra work.Once in Excel the imported\ndata can be quickly sorted and formatted as required.It should be\nnoted that it is best to import as the ﬁrst stage of creating your\n\nresearch database, rather than trying to add the imported data to\nan existing database which may be more problematic.Calculating derived data items within your database\n\nAs noted above it is often easier (and certainly more accurate) to\ncalculate some derived data items from raw source data items\nwithin the database.This can be done using Excel’s calculation\nfunctions and the reader is referred to Excel help ﬁles or\ninstructional books for the details of this.5 Obviously some cal-\nculations are easier than others.If your raw data item is the\nmaximum diameter of a breast cancer in millimetres and you\nwant to convert that to centimetres in the calculation of the\nNottingham Prognostic Index, then you would simply set up a\nformula such: ¼ A23/10 where A23 is the index of the cell\ncontaining the measurement in millimetres.It is a simple matter\nto propagate that formula down the whole column for size in\ncentimetres by using the ‘Fill’ ‘Down’ functions from the Edit\nmenu.Deriving the lymph node status component for the Not-\ntingham Prognostic Index from the total number of positive\nlymph nodes would be more complicated but the conditional\noperators exist in Excel to allow this, e.g.¼ IF(A23 > 3,2,0), and\nautomatic help boxes make this very easy (click the calculator\nsymbol on the Excel toolbar just to the right of the green tick\nsymbol).It should be noted that these calculated values only\nexist when the other items from which they are derived are still\npresent in the datasheet.If for any reason, such as reducing data\ndown to the core items for statistical analysis, you are going to\nremove columns from the datasheet, you must select the whole\ndatasheet, copy it and then paste it back in the same cells using\nthe Paste Special function and selecting Values.You will then\nhave a sheet in which each cell is an independent number not\ndependent on any other cell.Obviously, you should only do this\nwhen you have ﬁnished entering all the data and are ready for\ndata analysis, and you should immediately save this sheet in a\ndifferent name from the original database sheet.Verifying your data\n\nOnce you have input your data you need to make some assess-\nment of the veracity of that data.It is remarkable how many\nerrors are introduced during data entry that need to be corrected\nbefore the database is usable.Excel has some useful functions\nthat make debugging the database relatively easy.One method is\nto ensure that you have saved the database and then try sorting\nthe data in many different ways.Go to ‘Sort’ under the ‘Data’\nmenu and select any single column as the sorting factor and\nperform the sort.Now scroll through the database sheet looking\nat the column you sorted by, especially at the top and bottom of\nthe sorted sheet, and you can see all sorts of data entry errors\nfrom completely blank cells through to mispellings or duplicated\nsymbols.You could repeat these sorts for each column to check\nfor further errors in other columns.A similar, but possibly easier,\nmethod is to use the Autoﬁlter function.Highlight the complete\nsheet (by clicking the diamond symbol in the top left cell of the\nsheet), from the Data menu select the Filter option and then\nselect the Autoﬁlter option.At the top of each column there will\nnow appear an up and down arrow symbol; clicking on this\nproduces a list of all the different occurrences of data items in\nthat column, making it very easy to see errors such as ‘Y’ instead\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n152\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nof ‘y’.When all the obvious typing errors have been corrected, it\nwould be wise to perform an audit, checking perhaps 10% of the\ncase records with their original source data to check that there\nare no systematic data entry errors.Backing up your database\n\nData only exists when it is stored in two places e this widespread\ndictum is never more true than for databases.If you are going to\nspend many hours entering data into a database, then you need to\nhave a reliable system of back-up.The best systems are automatic\nand store the data at a geographically separate location; institutions\nsuch as universities often provide such systems for their members.Excel-based databases produce ﬁles which are very manageable in\nsize and can easily be backed up to CDs or memory sticks, but be\nmindful of security issues even with a completely anonymized\ndatabase (which would still cause media interest if found in an\ninappropriate place) and keep the copies in secure locations.Many\nNHS institutions are now so wary of data loss through sources such\nas memory sticks, that they are considering disabling USB ports on\ntheir computers so automated back-ups onto servers within the\ninstitution’s ﬁrewall may well become the norm.Exporting data for analysis\n\nThe function of a database is to store and order data for a\nresearch project that can then be analysed.By using Excel as the\ndatabase software, many statistical functions and analysis can be\nused directly within Excel.However more sophisticated analyses\nwill require preprocessing and export to other programmes such\nas SSPS.The preprocessing will mainly consist of converting\ndescriptive variables into numerical values, e.g.‘f’ to ‘1’, which\nis easily done using the search and replace functions of Excel.The labels of the columns may have to be shortened to be read by\nsome statistical programmes, e.g.SPSS will only read the ﬁrst\neight characters of variable names.Again, you must remember to\nsave the spreadsheet with a different ﬁlename before beginning\ndata preprocessing, as it will destroy some of the data, or\ncertainly its format.Most specialist statistical programmes, such\nas SPSS, will read Excel ﬁles but data can be output in comma- or\ntab-delimited text from Excel if necessary.Research notes ‘database’\n\nAny researcher 15 years ago would have had supplementary ‘da-\ntabases’ for their research projects, usually an index box with cards\nwith the authors and title of published papers and a number that\nreferred to a folder in a ﬁling cabinet.They might also have had a\nbound book with notes, or possibly a pile of loose papers with\nvarious notes e they still might have those on their desk today.A\nsupervised researcher working in a well-organized laboratory\nshould still have a bound book as a record of their experiments and\nprimary data, but there are now more useful ways of storing other\ninformation than a pile of loose papers.The widespread availability\nof electronic PDF versions of published paper and the information\ndisplayed on numerous authoritative websites has widened the\nscope for electronic databases of collected research ‘notes’.These\nshould be much easier to search, can have direct links to PDF ﬁles\nstored on the computer and direct links to relevant websites, and\ncould signiﬁcantly improve a researcher’s productivity.A number\n\nof software programmes that perform this task are available.On\nMacintosh computers TapForms6 appears to be the current market\nleader and is extremely easy to use.On PCs Microsoft Ofﬁce One-\nNote (available as part of the MS Ofﬁce 2016 Ofﬁce Suite) is a\ncomprehensive electronic documentation application that allows\norganization and storage of information from a wide range of\nsources.7 It also allows resources to be shared securely with project\ncollaborators via the internet.Conclusions\n\nA research database for even relatively sophisticated histopa-\nthology research projects, e.g.immunohistochemical staining of\ntissue arrays with hundreds of tumours, is easy to construct and\nuse provided that care is taken in its overall design and the\ncoding of data items.The purpose of the database should always\nbe to serve the overall aims of the research project and it should\nnot become an isolated resource-consuming entity.For most\nhistopathology projects, a simple spreadsheet programme, such\nas Microsoft Excel, will provide all\nthe necessary database\nfunctions with the minimum amount of infra-structural effort.Conﬂicts of interest\n\nThe authors have no conﬂicts of interest to declare.A\n\nREFERENCES\n1 Balasubramanian SP, Cross SS, Globe J, Cox A, Brown NJ,\n\nReed MW.Endostatin gene variation and protein levels in breast\ncancer susceptibility and severity.BMC Cancer 2007; 7: 107. 2 BBC News website.Thousands of Welsh NHS staff’s data stolen in\n\nhack.Avaliable at: http://www.bbc.co.uk/news/uk-wales-\n39249975 (accessed 4 June 2017). 3 Data Protection Act.Available at: http://www.legislation.gov.uk/\n\nukpga/1998/29/contents (accessed 4 June 2017).4 Iversen A, Liddell K, Fear N, Hotopf M, Wessely S. Consent,\n\nconﬁdentiality and the data protection act.BMJ 2006; 332: 165e9. 5 Walkenbach J. Excel 2016 bible.Hoboken, New Jersey: John Wiley\n\n& Sons, 2015. June 2017). 6 TapForms.Avaliable at: https://www.tapforms.com/ (accessed 4\n\n7 Microsoft Ofﬁce OneNote.Avaliable at: https://www.onenote.com/\n\n(accessed 4 June 2017).Practice points\n\nC Any research database should be anonymized as completely as is\n\nfeasible for the speciﬁc research project\n\nC A research database should always be part of a project approved\nby a research ethics committee and should be speciﬁed within the\nresearch protocol\n\nC A research database should comply with appropriate data pro-\n\ntection legislation, the Data Protection Act in the UK\n\nC The design of the database should be speciﬁed by the aims and\nobjectives of the research project and not by software capabilities\nC Care should be taken to code data items in a format that retains\nall potentially relevant information and which allows them to be\nselected and sorted in a consistent manner\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n153\n\n(cid:1) 2017 Published by Elsevier Ltd.",
          "time": 1063.4430513381958,
          "input_token_size": 7415,
          "output_token_size": 201,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_ca0fc97c",
        "created_at": 1750198925.8610485,
        "processing_time": 1070.4731240272522,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs",
        "reason": "shorter_provenance",
        "sentence_count": 190,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs",
            "sentence_count": 190,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.876864"
      }
    }
  },
  {
    "ca1d73e4": {
      "question": "Who does the document recommend for designing a database?",
      "answer": "Simon S Cross  \nIan R Palmer  \nTimothy J Stephenson",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            0,
            1,
            2,
            3,
            4
          ],
          "provenance_ids": [
            0
          ],
          "provenance": "MINI-SYMPOSIUM: RESEARCH\n\nHow to design and use a\nresearch database\n\nSimon S Cross\n\nIan R Palmer\n\nTimothy J Stephenson\n\nAbstract\nThe vast majority of histopathology research projects based on a se-\nries of tissue samples will require a database to store and organize the\ndata.",
          "time": 5.830241918563843,
          "input_token_size": 7331,
          "output_token_size": 60,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_ca1d73e4",
        "created_at": 1750198945.978611,
        "processing_time": 10.439411163330078,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs",
        "reason": "shorter_provenance",
        "sentence_count": 5,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs",
            "sentence_count": 5,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.876864"
      }
    }
  },
  {
    "ca5c7410": {
      "question": "How does the document suggest using spreadsheet applications like Microsoft Excel in histopathology research projects?",
      "answer": "1. Most histopathology research projects will require a database to store and organize data, which can be created in a spreadsheet application like Microsoft Excel.\n2. Microsoft Excel has enough database functions built into it to carry out all the necessary preprocessing before statistical analysis of results.\n3. Excel has a virtually no learning curve for users familiar with its spreadsheet functions and accepts files from other sources in a wide range of formats.\n4. Data can be entered directly into the spreadsheet without using any custom entry form, although a custom form can be created if needed.\n5. Excel allows for the use of functions like 'Split Window' and 'Freeze Panes' to keep column headings and row labels visible while scrolling through data.\n6. It is suggested to create a column for each data item and use a row for each case in Excel.\n7. Excel can be used for multiuser entry, but a single spreadsheet can become problematic for version control; web-based databases may be more suitable in such cases.\n8. Excel's calculation functions can be used to derive data items from raw source data items.\n9. Excel has functions that make debugging the database relatively easy, such as sorting data and using the AutoFilter function to identify errors.\n10. Excel files can be easily backed up and exported for analysis in other statistical programs like SPSS.",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            163,
            164,
            165,
            166,
            167,
            168,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            163,
            164,
            165,
            166,
            167,
            168,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance": "MINI-SYMPOSIUM: RESEARCH\n\nHow to design and use a\nresearch database\n\nSimon S Cross\n\nIan R Palmer\n\nTimothy J Stephenson\n\nAbstract\nThe vast majority of histopathology research projects based on a se-\nries of tissue samples will require a database to store and organize the\ndata.Most of these databases will be relatively simple standalone da-\ntabases that can be created in a spreadsheet application.However,\nthere are still some important considerations in the design of the data-\nbase and coding of the data that will make its subsequent use much\nmore time efﬁcient.This article reviews the scope of databases for\ncommon histopathology research projects, the ethical and legal con-\nsiderations, design of the database structure, coding of data items,\nand import and export of data from databases.Keywords anonymization; databases; histopathology\n\nIntroduction\n\nMost research projects need some method for recording and\nordering data.Sometimes this may be a complex system that\nautomatically links with other data sources, but in most cases it\nwill be a relatively simple standalone database for a single\nresearcher to maintain their research data.However, even though\nthis level of database may be relatively simple, it is still very\nimportant to give some thought to its design before starting to use\nit, as a well-designed database will make analysing results much\neasier, and a poorly-designed database can lead to much wasted\ntime which may even extend as far as having to re-enter data.What sort of database does your project need?At the start of a research project you need to make a simple\nassessment of what your database will need to do.If your\ninvolving\nresearch project\nseveral different centres and which requires data to be entered by\nseveral different personnel, then we hope you have budgeted for\n\nis a randomized controlled trial\n\nSimon S Cross MD FRCPath is Professor of Diagnostic Histopathology\nat the University of Shefﬁeld and an Honorary Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation,\nUK.Conﬂict of interest: There is no conﬂict of interest.Ian R Palmer BSc is the Faculty IT Manager (Medicine, Dentistry &\nHealth) and Faculty IT Liaison Corporate Information and Computing\nServices at the University of Shefﬁeld, Shefﬁeld, UK.Conﬂict of\ninterest: There is no conﬂict of interest.Timothy J Stephenson MA MD MBA FRCPath is a Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation\nTrust and Honorary Professor at the University of Shefﬁeld and\nShefﬁeld Hallam University, Shefﬁeld, UK.Conﬂict of interest: There\nis no conﬂict of interest.a dedicated database manager in your research grant because\nyou will need them!Such a database is well outside the scope of\nthis paper.A more tractable project might be something like a\nnumber of different immunohistochemical stains performed on a\nretrospective series of 500 cases of breast cancer with histo-\npathological data (such as tumour size, grade, lymph node sta-\ntus) and clinical follow-up (e.g.time to last follow-up, recurrent\ndisease, death not due to breast cancer, death due to breast\ncancer).A database for a project such as this would be a\nreasonable proposition for a single researcher, such as a histo-\npathology trainee working on an PhD degree, and is the scale\nof database that we use all the time in our projects.1\n\nAnonymization, ethical and legal considerations\n\nAny research database should be anonymized to the highest level\nthat is compatible with the viability of the research project.The\nrecent high proﬁle cases in the media highlighting data losses by\nGovernment agencies has shown how easy it is for data in some\nformat (laptop, hard drive, data stick, and more recently insecure\nserver etc.)to be lost or stolen.2 It is likely that you will be\nmoving your data around between computers and it is probable\nthat you will be using a laptop computer, so for security con-\nsiderations alone the database should be anonymized.Any\nresearch project will require local ethics committee approval, and\nmost ethics committees are rightly concerned about the trans-\nmission of personal medical data and usually insist that any\nresearch databases are anonymized.There are two main methods of anonymization e complete\nand linked.The most secure is complete anonymization where\nthe clinicopathological data are taken from their original source\nand entered into the research database with no linkage at all\nbetween the two.If all personal identiﬁers are excluded from the\nresearch database, then there should be no way of systematically\nidentifying patients from the data held in the research database (it\nshould, however, be noted that it might be possible to identify\noccasional individuals if they have very distinctive characteristics,\ne.g.a 16-year-old female living in city ‘x’ who was diagnosed with\nbreast cancer).The advantage of a totally anonymized database is\na lowering of the risk should it be lost or stolen.It obviously re-\nduces the risk of identiﬁcation of individuals to close to zero, but\nit does not eliminate the risk of media coverage should the lost\ndata be found somewhere inappropriate (the local newspaper\nheadline ‘Cancer patients’ data found on memory stick in car\npark’ could still be applied whether the data were anonymized or\nnot).The major disadvantage of a completely anonymized data-\nbase is that it is a static database that cannot be updated later if\nthere is a need for further data input.This may not be a problem\nfor many histopathology research projects (e.g.novel immuno-\nhistochemistry on a series of tumours) but is obviously not\ncompatible with projects with continuing patient follow-up.In linked anonymization there is some system that links the\nresearch database to identiﬁable patient data.One method of\nlinkage is to have a separate secure database that acts as a key\nbetween identiﬁable data records and the anonymized research\ndatabase.Such a database does not need to be electronic; it could\nsimply be a book with two entries on each line e the identiﬁable\ndata and the anonymized research accession number (often\nknown as the study number).Such a book could be kept securely\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n149\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nlocked in a ﬁling cabinet in a locked ofﬁce and access could be\nrestricted to a few named individuals involved in the research\nproject; often it will be a single named individual whose sole\npurpose is to provide linkage if requested.However, this method\ninvolves setting up a separate administration system with its own\nsecurity issues.A much simpler method is to use some identiﬁer\nwhich is not identiﬁable without access to some existing infor-\nmation system.This could be the patient’s hospital number but\nmany ethics committees regard this as relatively insecure\nbecause the patient’s hospital number could open access to a\nwhole range of information in many different hospital informa-\ntion systems (and the patient’s NHS number is even less secure\nand more informative).In histopathology we are fortunate in\nhaving the laboratory accession number which is a restrictive\nsuperﬁcially-anonymous identiﬁer that is only available to those\nwith access to the laboratory information computer system, and\nthat system is already heavily protected by individual password\nlogin, automatic timing out of terminals after a short period of\nnon-use, etc.If we are conducting a research study on archival\ndiagnostic surgical material, then we will probably be using\nslides labelled with the laboratory accession number and we are\nunlikely to anonymize that number because of the slide labelling\nproblems it would cause.At present the ethics committees that\nwe have passed applications through have been happy to use the\nlaboratory accession number to anonymize the samples and data\nin studies, although they have always required a statement on\nthe circumstances in which the investigators would go back to\nthe laboratory information system for more data.Such consid-\nerations always have to be made for any research project and are\nnot exclusively a feature of research databases.It still needs to be appreciated that simple personal data, such\nas name and address, are not the only items that can identify an\nindividual.The date of birth is quite a speciﬁc item and com-\nbined with other items in a database (e.g.a woman with breast\ncancer diagnosed in 2002) could provide a strong indication of an\nindividual’s identity.It is usually better to change the date of\nbirth to a less speciﬁc age datum at the time of entering infor-\nmation into the database; age at diagnosis will probably give all\nthe information that is required.It should be noted that even when a database has been\n‘anonymized’ using relatively opaque linkage items, such as the\nlaboratory accession number, it is still not completely anony-\nmized because links can be made indirectly which could iden-\ntify the patient.Although this linked ‘anonymization’ will mini-\nmize the adverse effects of any data loss or unauthorized access\nto the data, the database is still legally regarded as personal data\nunder legislation such as the UK Data Protection Act.3,4 Under\nthis Act, only data essential to the study can be collected and they\ncan only be stored for as long as the study is active.This brings us to legal consideration as whether the database\nneeds to be registered under the terms of the Data Protection Act\nin the UK, or similar legislation in other countries.If there is no\nlinkage possible at all between the research database and per-\nsonal patient data, then it would not need to registered, but since\nthe act of creation of the database will involve some access to\npersonal data, then we would suggest that it does need regis-\ntration.In most UK institutions this is a simple process because\nthere will be an institutional Data Protection Ofﬁcer and the\ninstitution will be registered with the Government’s Information\n\nCommissioner, which will usually give generic registration for\ndatabases in that institution without the need for the registration\nof individual databases.However, you would need to check the\ndetails of your institution’s processes.A further medicolegal consideration is the duty of disclosure\nthat could occur if review of a case with identiﬁable data showed\nthat there was a misdiagnosis or mistreatment, e.g.if review of a\nseries of cases of mesothelioma showed that one of the cases\nappeared to be mesothelial hyperplasia rather than mesotheli-\noma.If there is complete anonymization, then this cannot apply.If there is linked anonymization, then it could apply and this\nneeds to be considered before the study commences.In most\nhistopathology research studies, the tissue being reviewed is only\na sample of the whole diagnostic material available on the case,\ne.g.a single block of breast cancer, so a full diagnostic review of\nthe case is not being carried out.The tissue is also being exam-\nined in a research context, e.g.a single core of tumour in a tissue\nmicroarray, where it is possible that there could have been some\ntransposition of laboratory accession numbers or rows and col-\numns in a spreadsheet and the risk of misidentiﬁcation would be\nslightly higher than in a fully functioning diagnostic histopa-\nthology laboratory.For these reasons, we include a statement in\nour ethics committee application stating that any discoveries are\nfor research purposes only and that there will be no retrograde\nﬂow of information back to patient records or individual patients.Design your database\n\nThe design of your database should reﬂect the design of your\nresearch project and it would be better to have all your aims and\nobjectives of the project clearly formulated and recorded before\nyou start to design your database.Sometimes, however, design of\nthe database and general objectives of the research project emerge\nconcurrently.A good way to design your database is to take a blank\nsheet of A3 paper and sketch out all the data items you think you\nneed in a ‘spider’ (or ‘mindmap’) diagram with clusters of related\nitems.This gets you away from a computer screen and a form\nformat, and allows you to look at all the data items with an over-\nview.It is worth spending some time doing this, possibly redraw-\ning the diagram if it becomes too cluttered by changes, because this\nis the most important stage of database design and time spent on\nthis stage will pay major dividends later in the process.You need to arrive at a design with all the data items that are\nessential for your project but no more than that.If you do not\ninclude essential data items at the start of the process, you will\ndiscover their absence later and then need to modify the database,\nand you may have to go through all your original data sources to\ninput the missing items.It is usually best to include individual raw\ndata items and use them to calculate derived data items within the\ndatabase.An example in breast cancer would be the Nottingham\nPrognostic Index.If you only include the Nottingham Prognostic\nIndex in your database as an aggregate measure of the potential\nprognostic behaviour of the tumour, then you will not have access\nto the tumour size, tumour grade and lymph node status in future\nanalyses.If you include those three items separately, then you can\ncreate a fourth derived data item that will automatically calculate\nthe Nottingham Prognostic Index from these items.If you only\nrecord axillary lymph node status in a case of breast cancer as\npositive or negative, then you will not have access to the total\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n150\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nnumber of positive lymph nodes, whereas if you record the total\nnumber of positive lymph nodes, you will be able to create\nanother automatically derived data item for overall lymph node\nstatus.The general rule is that data items cannot be split at a later\nstage, but they can be easily, and automatically, aggregated later,\nso it is best to create a database with the simplest raw data items\nincluded instead of derivative/aggregated data items.Any variable that in its raw state is a continuous variable (e.g.tumour size in millimetres) should be stored as that continuous\nvariable rather than a category (e.g. tumours between 5 and 10\nmm).You should of course ensure that all the data items in your\ndatabase are relevant to your project’s aims and objectives\nbecause it is a waste of resources (usually your time) to enter\nirrelevant items.What software should you use? You will notice that choice of software comes after design of the\ndatabase.Too many researchers start with the software choice and\nthen their database design is inﬂuenced by what the software can\ndo, rather than what the software can do for them.There are a\nnumber of popular database software packages on the market,\nsuch as Microsoft Access and Filemaker Pro, which run on indi-\nvidual computers.There are also server-based databases, such as\nMySQL, Microsoft SQL Server or Oracle.These software packages\nare all very good and very powerful for multiuser projects with a\nnumber of interacting databases, but they are overkill for a\nresearch project such as the breast cancer tissue array project\ndescribed above.Although we have used Microsoft Access and\nFilemaker Pro in the past with success, the learning curve for using\nthese packages is relatively steep and the results are no better than\nusing our current preferred option which is Microsoft Excel.This\nspreadsheet application has enough database functions built into it\nto carry out all the necessary preprocessing before statistical\nanalysis of results in speciﬁc statistical software package, such as\nStatistical Package for Social Sciences (SPSS).It has the major\nadvantages of virtually no learning curve, if you already use its\nspreadsheet functions, no platform speciﬁcity (Microsoft Access\ndoes not run on Macintosh computers), accepts ﬁles from other\nsources in a wide range of formats, and does not allow the user to\nwaste time creating colourful graphical interfaces for entering data\nthat have no value to the project.We simply create a column for\neach data item and use a row for each case.The ‘Split Window’ and\n‘Freeze Panes’ functions (found under the Windows menu at the\ntop of the screen) allow the column headings and left-hand row\nlabels to remain on the screen all the time no matter how many\nrows or columns there are in the spreadsheet (see the Excel help\nﬁles for further details).We enter data directly into the spreadsheet\nwithout using any custom entry form, but it is easy to create one if\nyou feel that data entry would be cleaner by using one, e.g.if\nsomeone without specialist knowledge is entering the data for you.If you need multiuser entry, then a single spreadsheet be-\ncomes problematic because version control becomes very difﬁ-\ncult.In these circumstances, a server-based database is more\nuseful but it can be difﬁcult to arrange access from different in-\nstitutions.A more recent development is the availability of web-\nbased databases, which are accessible from any web browser and\nmake multiuser data entry very simple.The consideration with\nthese web-based databases is the security of the commercial\n\nproviders’ servers, but they are basing their business on a secure\nservice so the risk might be lower than for an ad-hoc server in an\nacademic institution.Coding your data\n\nYou will know which data items you want to include in your\ndatabase because you designed it before you touched the com-\nputer keyboard, but now you need to consider how you are going\nto code that data.This only requires a bit of thought about how\nyou are going to sort and use the data but again if you code your\ndata in appropriate formats it will cause a lot of rework and delay\nlater.The laboratory accession number is a simple illustrative\ncase (Tables 1 and 2).This number is usually in the form of the\nyear and then a single unique number issued in ascending order\nas specimens arrive.There may also be a separate block number if\nthe specimen cannot be embedded in a single block.If such a\nnumber is entered into a single column in its usual format, e.g.08/23156/3E, it will be treated as text rather than a number in\nExcel and there can be a number of problems when sorting data\nfor analysis.Tables 1 and 2 illustrate these problems and show\nthat the best solution is to create separate columns for each\nelement of a multipart or mixed number/text item.Binary data\nitems, such as gender or lymph node status, are easier but there is\nstill a decision to be made as to whether to use strict mathematical\nbinary code or a more descriptive code.Gender could be coded as\n1 ¼ female and 0 ¼ male, but this is an arbitrary coding that is not\nmemorable to the data inputer.Coding as f ¼ female and m ¼\nmale is memorable and so far lower rates of errors are likely\nduring the inputting of the data, i.e.make the purest possible\ntransformations of data.It is a very simple automated ‘ﬁnd and\nreplace’ function to convert these to true mathematical binary\nitems for statistical analysis.It is well worth keeping descriptive\ncodings as short as possible, because this reduces the number of\nkeystrokes when entering data.The autoﬁll function of Excel is\n\nCoding the laboratory accession number.If entered in\nthe format in column 1 the accession number sorts to the\norder in column 2 e the year order is incorrect because\nthe full year was not included.With the full year added\nand sorted, column 3, there is still a problem with the\norder of the second and third rows because zeros before\nthe accession number have not been added to numbers\nwith fewer than ﬁve digits.When this has been done,\ncolumn 4, the numbers now do sort into the correct time\norder but a better method is shown in Table 2\n\n1.Unsorted\n\n2. Sorted\n\n3. Full year\nsorted\n\n4.Full year and\npreceeding zeros\nsorted\n\n98/1119/3E\n02/34001/4F\n99/1231/2F\n00/32754/1A\n03/4567/8G\n99/12237/4D\n\n00/32754/1A\n02/34001/4F\n03/4567/8G\n98/1119/3E\n99/1231/2F\n99/12237/4D\n\n1998/1119/3E\n1999/12237/4D\n1999/1231/2F\n2000/32754/1A\n2002/34001/4F\n2003/4567/8G\n\n1998/01119/3E\n1999/01231/2F\n1999/12237/4D\n2000/32754/1A\n2002/34001/4F\n2003/04567/8G\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\nTable 1\n\n151\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nThis shows a better method for coding the laboratory\naccession number by creating a separate column for\neach element of the number.Note that in this case\npreceding zeros do not need to be included as the Excel\nsoftware is treating the numbers as actual numbers\nrather than text, as in Table 1.If you are using a single\nrepresentative section from a multipart specimen, e.g.a\nrepresentative block of breast cancer from a mastectomy\nspecimen, then always remember to include the speciﬁc\nblock number in the database, otherwise future studies\nmay have to retrieve all the slides for the case (speciﬁed\nby the year and accession number) and look at these to\nselect the representative block again e a huge amount\nof rework for no gain in value\n\nNumber\n\n1119\n1231\n12237\n32754\n34001\n4567\n\nPart\n\n3E\n2F\n4D\n1A\n4F\n8G\n\nYear\n\n1998\n1999\n1999\n2000\n2002\n2003\n\nTable 2\n\nuseful and can be optimized by choosing different ﬁrst letters for\nas many different items as possible.An example for breast cancer\nthat we have used is tumour type, where d ¼ ductal, l ¼ lobular, t\n¼ tubular, me ¼ medullary, mu ¼ mucinous, etc.It should be\nnoted that when entering text into Excel it will be case-sensitive in\nany manipulations, such as grouping or pivot data tables, so it is\nbest to use lower case letter throughout, which also reduces\nkeystrokes by not using the Shift key.Importing items into your database\n\nIf some of the data you wish to have in your database exist in\nanother database, it may be possible to import them into your\ndatabase instead of having to key them all in.The ﬁrst thing to\nensure is that the data in the other database are ‘clean’ (i.e.consistently formatted) and veriﬁed.People often volunteer data\nfrom a database which on closer examinations contains many\nformatting inconsistencies, e.g.‘yes’ coded as ‘y’, ‘Y’ or ‘1’ for a\nsingle data ﬁeld, and it then is better to start again with the\noriginal source data.Another common feature of processes\ndesigned to port data from one database to another is that IT\nprofessionals want to write complicated interface programmes\nwhich take weeks or months to develop.Whilst these are essential\nfor databases that port data between themselves on a frequent,\nrecurrent basis, this is usually completely unnecessary for a\nstandalone research database, which usually only requires a sin-\ngle transfer at a single point in time.The easiest method we have\nfound is to perform a search on the existing database to select the\nrecords that we want to import and then export those in a format\nthat Excel can read.Often the parent database will be able to\nexport in Excel format but comma or tab-delimited text is just as\nacceptable and causes no extra work.Once in Excel the imported\ndata can be quickly sorted and formatted as required.It should be\nnoted that it is best to import as the ﬁrst stage of creating your\n\nresearch database, rather than trying to add the imported data to\nan existing database which may be more problematic.Calculating derived data items within your database\n\nAs noted above it is often easier (and certainly more accurate) to\ncalculate some derived data items from raw source data items\nwithin the database.This can be done using Excel’s calculation\nfunctions and the reader is referred to Excel help ﬁles or\ninstructional books for the details of this.5 Obviously some cal-\nculations are easier than others.If your raw data item is the\nmaximum diameter of a breast cancer in millimetres and you\nwant to convert that to centimetres in the calculation of the\nNottingham Prognostic Index, then you would simply set up a\nformula such: ¼ A23/10 where A23 is the index of the cell\ncontaining the measurement in millimetres.It is a simple matter\nto propagate that formula down the whole column for size in\ncentimetres by using the ‘Fill’ ‘Down’ functions from the Edit\nmenu.Deriving the lymph node status component for the Not-\ntingham Prognostic Index from the total number of positive\nlymph nodes would be more complicated but the conditional\noperators exist in Excel to allow this, e.g.¼ IF(A23 > 3,2,0), and\nautomatic help boxes make this very easy (click the calculator\nsymbol on the Excel toolbar just to the right of the green tick\nsymbol).It should be noted that these calculated values only\nexist when the other items from which they are derived are still\npresent in the datasheet.If for any reason, such as reducing data\ndown to the core items for statistical analysis, you are going to\nremove columns from the datasheet, you must select the whole\ndatasheet, copy it and then paste it back in the same cells using\nthe Paste Special function and selecting Values.You will then\nhave a sheet in which each cell is an independent number not\ndependent on any other cell.Obviously, you should only do this\nwhen you have ﬁnished entering all the data and are ready for\ndata analysis, and you should immediately save this sheet in a\ndifferent name from the original database sheet.Verifying your data\n\nOnce you have input your data you need to make some assess-\nment of the veracity of that data.It is remarkable how many\nerrors are introduced during data entry that need to be corrected\nbefore the database is usable.Excel has some useful functions\nthat make debugging the database relatively easy.One method is\nto ensure that you have saved the database and then try sorting\nthe data in many different ways.Go to ‘Sort’ under the ‘Data’\nmenu and select any single column as the sorting factor and\nperform the sort.Now scroll through the database sheet looking\nat the column you sorted by, especially at the top and bottom of\nthe sorted sheet, and you can see all sorts of data entry errors\nfrom completely blank cells through to mispellings or duplicated\nsymbols.You could repeat these sorts for each column to check\nfor further errors in other columns.A similar, but possibly easier,\nmethod is to use the Autoﬁlter function.Highlight the complete\nsheet (by clicking the diamond symbol in the top left cell of the\nsheet), from the Data menu select the Filter option and then\nselect the Autoﬁlter option.At the top of each column there will\nnow appear an up and down arrow symbol; clicking on this\nproduces a list of all the different occurrences of data items in\nthat column, making it very easy to see errors such as ‘Y’ instead\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n152\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nof ‘y’.When all the obvious typing errors have been corrected, it\nwould be wise to perform an audit, checking perhaps 10% of the\ncase records with their original source data to check that there\nare no systematic data entry errors.Backing up your database\n\nData only exists when it is stored in two places e this widespread\ndictum is never more true than for databases.If you are going to\nspend many hours entering data into a database, then you need to\nhave a reliable system of back-up.The best systems are automatic\nand store the data at a geographically separate location; institutions\nsuch as universities often provide such systems for their members.Excel-based databases produce ﬁles which are very manageable in\nsize and can easily be backed up to CDs or memory sticks, but be\nmindful of security issues even with a completely anonymized\ndatabase (which would still cause media interest if found in an\ninappropriate place) and keep the copies in secure locations.Many\nNHS institutions are now so wary of data loss through sources such\nas memory sticks, that they are considering disabling USB ports on\ntheir computers so automated back-ups onto servers within the\ninstitution’s ﬁrewall may well become the norm.Exporting data for analysis\n\nThe function of a database is to store and order data for a\nresearch project that can then be analysed.By using Excel as the\ndatabase software, many statistical functions and analysis can be\nused directly within Excel.However more sophisticated analyses\nwill require preprocessing and export to other programmes such\nas SSPS.The preprocessing will mainly consist of converting\ndescriptive variables into numerical values, e.g.‘f’ to ‘1’, which\nis easily done using the search and replace functions of Excel.The labels of the columns may have to be shortened to be read by\nsome statistical programmes, e.g.SPSS will only read the ﬁrst\neight characters of variable names.Again, you must remember to\nsave the spreadsheet with a different ﬁlename before beginning\ndata preprocessing, as it will destroy some of the data, or\ncertainly its format.Most specialist statistical programmes, such\nas SPSS, will read Excel ﬁles but data can be output in comma- or\ntab-delimited text from Excel if necessary.Research notes ‘database’\n\nAny researcher 15 years ago would have had supplementary ‘da-\ntabases’ for their research projects, usually an index box with cards\nwith the authors and title of published papers and a number that\nreferred to a folder in a ﬁling cabinet.They might also have had a\nbound book with notes, or possibly a pile of loose papers with\nvarious notes e they still might have those on their desk today.A\nsupervised researcher working in a well-organized laboratory\nshould still have a bound book as a record of their experiments and\nprimary data, but there are now more useful ways of storing other\ninformation than a pile of loose papers.The widespread availability\nof electronic PDF versions of published paper and the information\ndisplayed on numerous authoritative websites has widened the\nscope for electronic databases of collected research ‘notes’.These\nshould be much easier to search, can have direct links to PDF ﬁles\nstored on the computer and direct links to relevant websites, and\ncould signiﬁcantly improve a researcher’s productivity.A number\n\nof software programmes that perform this task are available.On\nMacintosh computers TapForms6 appears to be the current market\nleader and is extremely easy to use.On PCs Microsoft Ofﬁce One-\nNote (available as part of the MS Ofﬁce 2016 Ofﬁce Suite) is a\ncomprehensive electronic documentation application that allows\norganization and storage of information from a wide range of\nsources.7 It also allows resources to be shared securely with project\ncollaborators via the internet.Conclusions\n\nA research database for even relatively sophisticated histopa-\nthology research projects, e.g.immunohistochemical staining of\ntissue arrays with hundreds of tumours, is easy to construct and\nuse provided that care is taken in its overall design and the\ncoding of data items.The purpose of the database should always\nbe to serve the overall aims of the research project and it should\nnot become an isolated resource-consuming entity.For most\nhistopathology projects, a simple spreadsheet programme, such\nas Microsoft Excel, will provide all\nthe necessary database\nfunctions with the minimum amount of infra-structural effort.Conﬂicts of interest\n\nThe authors have no conﬂicts of interest to declare.A\n\nREFERENCES\n1 Balasubramanian SP, Cross SS, Globe J, Cox A, Brown NJ,\n\nReed MW.Endostatin gene variation and protein levels in breast\ncancer susceptibility and severity.BMC Cancer 2007; 7: 107. 2 BBC News website.Thousands of Welsh NHS staff’s data stolen in\n\nhack.Avaliable at: http://www.bbc.co.uk/news/uk-wales-\n39249975 (accessed 4 June 2017). 3 Data Protection Act.Available at: http://www.legislation.gov.uk/\n\nukpga/1998/29/contents (accessed 4 June 2017).4 Iversen A, Liddell K, Fear N, Hotopf M, Wessely S. Consent,\n\nconﬁdentiality and the data protection act.BMJ 2006; 332: 165e9. 5 Walkenbach J. Excel 2016 bible.Hoboken, New Jersey: John Wiley\n\n& Sons, 2015. June 2017). 6 TapForms.Avaliable at: https://www.tapforms.com/ (accessed 4\n\n7 Microsoft Ofﬁce OneNote.Avaliable at: https://www.onenote.com/\n\n(accessed 4 June 2017).Practice points\n\nC Any research database should be anonymized as completely as is\n\nfeasible for the speciﬁc research project\n\nC A research database should always be part of a project approved\nby a research ethics committee and should be speciﬁed within the\nresearch protocol\n\nC A research database should comply with appropriate data pro-\n\ntection legislation, the Data Protection Act in the UK\n\nC The design of the database should be speciﬁed by the aims and\nobjectives of the research project and not by software capabilities\nC Care should be taken to code data items in a format that retains\nall potentially relevant information and which allows them to be\nselected and sorted in a consistent manner\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n153\n\n(cid:1) 2017 Published by Elsevier Ltd.",
          "time": 852.0067744255066,
          "input_token_size": 7431,
          "output_token_size": 260,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_ca5c7410",
        "created_at": 1749627311.4726157,
        "processing_time": 860.4769279956818,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs_prev",
        "reason": "shorter_provenance",
        "sentence_count": 190,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs_prev",
            "sentence_count": 190,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.876864"
      }
    }
  },
  {
    "cb3d0cfd": {
      "question": "What does the document conclude about research database design?",
      "answer": "A research database for even relatively sophisticated histopathology research projects is easy to construct and use provided that care is taken in its overall design and the coding of data items. The purpose of the database should always be to serve the overall aims of the research project and it should not become an isolated resource-consuming entity. For most histopathology projects, a simple spreadsheet programme, such as Microsoft Excel, will provide all the necessary database functions with the minimum amount of infra-structural effort.",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            163,
            164,
            165,
            166,
            167,
            168,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance_ids": [
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            157,
            161,
            162,
            163,
            165,
            169,
            170,
            172,
            173,
            174,
            175,
            176,
            183,
            184,
            186,
            187,
            188
          ],
          "provenance": "Often the parent database will be able to\nexport in Excel format but comma or tab-delimited text is just as\nacceptable and causes no extra work.Once in Excel the imported\ndata can be quickly sorted and formatted as required.It should be\nnoted that it is best to import as the ﬁrst stage of creating your\n\nresearch database, rather than trying to add the imported data to\nan existing database which may be more problematic.Calculating derived data items within your database\n\nAs noted above it is often easier (and certainly more accurate) to\ncalculate some derived data items from raw source data items\nwithin the database.This can be done using Excel’s calculation\nfunctions and the reader is referred to Excel help ﬁles or\ninstructional books for the details of this.5 Obviously some cal-\nculations are easier than others.If your raw data item is the\nmaximum diameter of a breast cancer in millimetres and you\nwant to convert that to centimetres in the calculation of the\nNottingham Prognostic Index, then you would simply set up a\nformula such: ¼ A23/10 where A23 is the index of the cell\ncontaining the measurement in millimetres.It is a simple matter\nto propagate that formula down the whole column for size in\ncentimetres by using the ‘Fill’ ‘Down’ functions from the Edit\nmenu.Deriving the lymph node status component for the Not-\ntingham Prognostic Index from the total number of positive\nlymph nodes would be more complicated but the conditional\noperators exist in Excel to allow this, e.g.¼ IF(A23 > 3,2,0), and\nautomatic help boxes make this very easy (click the calculator\nsymbol on the Excel toolbar just to the right of the green tick\nsymbol).It should be noted that these calculated values only\nexist when the other items from which they are derived are still\npresent in the datasheet.If for any reason, such as reducing data\ndown to the core items for statistical analysis, you are going to\nremove columns from the datasheet, you must select the whole\ndatasheet, copy it and then paste it back in the same cells using\nthe Paste Special function and selecting Values.You will then\nhave a sheet in which each cell is an independent number not\ndependent on any other cell.Obviously, you should only do this\nwhen you have ﬁnished entering all the data and are ready for\ndata analysis, and you should immediately save this sheet in a\ndifferent name from the original database sheet.Verifying your data\n\nOnce you have input your data you need to make some assess-\nment of the veracity of that data.It is remarkable how many\nerrors are introduced during data entry that need to be corrected\nbefore the database is usable.Excel has some useful functions\nthat make debugging the database relatively easy.One method is\nto ensure that you have saved the database and then try sorting\nthe data in many different ways.Go to ‘Sort’ under the ‘Data’\nmenu and select any single column as the sorting factor and\nperform the sort.Now scroll through the database sheet looking\nat the column you sorted by, especially at the top and bottom of\nthe sorted sheet, and you can see all sorts of data entry errors\nfrom completely blank cells through to mispellings or duplicated\nsymbols.You could repeat these sorts for each column to check\nfor further errors in other columns.A similar, but possibly easier,\nmethod is to use the Autoﬁlter function.Highlight the complete\nsheet (by clicking the diamond symbol in the top left cell of the\nsheet), from the Data menu select the Filter option and then\nselect the Autoﬁlter option.By using Excel as the\ndatabase software, many statistical functions and analysis can be\nused directly within Excel.The labels of the columns may have to be shortened to be read by\nsome statistical programmes, e.g.SPSS will only read the ﬁrst\neight characters of variable names.Again, you must remember to\nsave the spreadsheet with a different ﬁlename before beginning\ndata preprocessing, as it will destroy some of the data, or\ncertainly its format.Research notes ‘database’\n\nAny researcher 15 years ago would have had supplementary ‘da-\ntabases’ for their research projects, usually an index box with cards\nwith the authors and title of published papers and a number that\nreferred to a folder in a ﬁling cabinet.These\nshould be much easier to search, can have direct links to PDF ﬁles\nstored on the computer and direct links to relevant websites, and\ncould signiﬁcantly improve a researcher’s productivity.A number\n\nof software programmes that perform this task are available.On PCs Microsoft Ofﬁce One-\nNote (available as part of the MS Ofﬁce 2016 Ofﬁce Suite) is a\ncomprehensive electronic documentation application that allows\norganization and storage of information from a wide range of\nsources.7 It also allows resources to be shared securely with project\ncollaborators via the internet.Conclusions\n\nA research database for even relatively sophisticated histopa-\nthology research projects, e.g.immunohistochemical staining of\ntissue arrays with hundreds of tumours, is easy to construct and\nuse provided that care is taken in its overall design and the\ncoding of data items.The purpose of the database should always\nbe to serve the overall aims of the research project and it should\nnot become an isolated resource-consuming entity.For most\nhistopathology projects, a simple spreadsheet programme, such\nas Microsoft Excel, will provide all\nthe necessary database\nfunctions with the minimum amount of infra-structural effort.Available at: http://www.legislation.gov.uk/\n\nukpga/1998/29/contents (accessed 4 June 2017).4 Iversen A, Liddell K, Fear N, Hotopf M, Wessely S. Consent,\n\nconﬁdentiality and the data protection act.Hoboken, New Jersey: John Wiley\n\n& Sons, 2015. June 2017). 6 TapForms.Avaliable at: https://www.tapforms.com/ (accessed 4\n\n7 Microsoft Ofﬁce OneNote.Avaliable at: https://www.onenote.com/\n\n(accessed 4 June 2017).",
          "time": 116.6878228187561,
          "input_token_size": 7415,
          "output_token_size": 65,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_cb3d0cfd",
        "created_at": 1750198985.074386,
        "processing_time": 119.72578692436218,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs",
        "reason": "shorter_provenance",
        "sentence_count": 190,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs",
            "sentence_count": 190,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.876864"
      }
    }
  },
  {
    "d11df102": {
      "question": "What journal published the document 'How to Design and Use a Research Database'?",
      "answer": "DIAGNOSTIC HISTOPATHOLOGY",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46
          ],
          "provenance_ids": [
            0,
            35
          ],
          "provenance": "MINI-SYMPOSIUM: RESEARCH\n\nHow to design and use a\nresearch database\n\nSimon S Cross\n\nIan R Palmer\n\nTimothy J Stephenson\n\nAbstract\nThe vast majority of histopathology research projects based on a se-\nries of tissue samples will require a database to store and organize the\ndata.Such a book could be kept securely\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n149\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nlocked in a ﬁling cabinet in a locked ofﬁce and access could be\nrestricted to a few named individuals involved in the research\nproject; often it will be a single named individual whose sole\npurpose is to provide linkage if requested.",
          "time": 12.512971878051758,
          "input_token_size": 7636,
          "output_token_size": 20,
          "original_provenance_id": 0
        },
        {
          "provenance_id": 1,
          "input_sentence_ids": [
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            163,
            164,
            165,
            166,
            167,
            168,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance_ids": [
            173,
            189
          ],
          "provenance": "Conclusions\n\nA research database for even relatively sophisticated histopa-\nthology research projects, e.g.Practice points\n\nC Any research database should be anonymized as completely as is\n\nfeasible for the speciﬁc research project\n\nC A research database should always be part of a project approved\nby a research ethics committee and should be speciﬁed within the\nresearch protocol\n\nC A research database should comply with appropriate data pro-\n\ntection legislation, the Data Protection Act in the UK\n\nC The design of the database should be speciﬁed by the aims and\nobjectives of the research project and not by software capabilities\nC Care should be taken to code data items in a format that retains\nall potentially relevant information and which allows them to be\nselected and sorted in a consistent manner\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n153\n\n(cid:1) 2017 Published by Elsevier Ltd.",
          "time": 24.584395170211792,
          "input_token_size": 16615,
          "output_token_size": 41,
          "original_provenance_id": 1
        }
      ],
      "metadata": {
        "question_id": "research_database_d11df102",
        "created_at": 1749665233.3272269,
        "processing_time": 27.62061595916748,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs_prev",
        "reason": "shorter_provenance",
        "sentence_count": 95,
        "provenance_count": 2,
        "alternatives": [
          {
            "source": "test_outputs_prev",
            "sentence_count": 95,
            "provenance_count": 2,
            "has_answer": true
          },
          {
            "source": "test_outputs_prev1",
            "sentence_count": 95,
            "provenance_count": 2,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.876864"
      }
    }
  },
  {
    "d120d6fd": {
      "question": "What ethical and legal considerations are highlighted in the document regarding database management?",
      "answer": "1. Any research database should be anonymized to the highest level compatible with the viability of the research project.\n2. Research projects require local ethics committee approval, which is concerned about the transmission of personal medical data.\n3. Complete anonymization is the most secure method, where no linkage exists between the research database and identifiable patient data.\n4. Linked anonymization involves a separate secure database that links identifiable data records to the anonymized research database.\n5. Simple personal data, such as name and address, are not the only items that can identify an individual; other data points can also lead to identification.\n6. Even linked anonymization does not completely eliminate the risk of identification and is still legally regarded as personal data under legislation such as the UK Data Protection Act.\n7. Under the Data Protection Act, only data essential to the study can be collected, and they can only be stored for as long as the study is active.\n8. The database may need to be registered under the Data Protection Act or similar legislation, depending on the linkage to personal data.\n9. There is a duty of disclosure if identifiable data shows misdiagnosis or mistreatment, which needs to be considered before the study commences.\n10. Ethics committees require a statement on the circumstances under which investigators would access the laboratory information system for more data.\n11. The database design should reflect the aims and objectives of the research project and not be influenced by software capabilities.\n12. Care should be taken to code data items in a format that retains all potentially relevant information and allows for consistent selection and sorting.",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            163,
            164,
            165,
            166,
            167,
            168,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            163,
            164,
            165,
            166,
            167,
            168,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance": "MINI-SYMPOSIUM: RESEARCH\n\nHow to design and use a\nresearch database\n\nSimon S Cross\n\nIan R Palmer\n\nTimothy J Stephenson\n\nAbstract\nThe vast majority of histopathology research projects based on a se-\nries of tissue samples will require a database to store and organize the\ndata.Most of these databases will be relatively simple standalone da-\ntabases that can be created in a spreadsheet application.However,\nthere are still some important considerations in the design of the data-\nbase and coding of the data that will make its subsequent use much\nmore time efﬁcient.This article reviews the scope of databases for\ncommon histopathology research projects, the ethical and legal con-\nsiderations, design of the database structure, coding of data items,\nand import and export of data from databases.Keywords anonymization; databases; histopathology\n\nIntroduction\n\nMost research projects need some method for recording and\nordering data.Sometimes this may be a complex system that\nautomatically links with other data sources, but in most cases it\nwill be a relatively simple standalone database for a single\nresearcher to maintain their research data.However, even though\nthis level of database may be relatively simple, it is still very\nimportant to give some thought to its design before starting to use\nit, as a well-designed database will make analysing results much\neasier, and a poorly-designed database can lead to much wasted\ntime which may even extend as far as having to re-enter data.What sort of database does your project need?At the start of a research project you need to make a simple\nassessment of what your database will need to do.If your\ninvolving\nresearch project\nseveral different centres and which requires data to be entered by\nseveral different personnel, then we hope you have budgeted for\n\nis a randomized controlled trial\n\nSimon S Cross MD FRCPath is Professor of Diagnostic Histopathology\nat the University of Shefﬁeld and an Honorary Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation,\nUK.Conﬂict of interest: There is no conﬂict of interest.Ian R Palmer BSc is the Faculty IT Manager (Medicine, Dentistry &\nHealth) and Faculty IT Liaison Corporate Information and Computing\nServices at the University of Shefﬁeld, Shefﬁeld, UK.Conﬂict of\ninterest: There is no conﬂict of interest.Timothy J Stephenson MA MD MBA FRCPath is a Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation\nTrust and Honorary Professor at the University of Shefﬁeld and\nShefﬁeld Hallam University, Shefﬁeld, UK.Conﬂict of interest: There\nis no conﬂict of interest.a dedicated database manager in your research grant because\nyou will need them!Such a database is well outside the scope of\nthis paper.A more tractable project might be something like a\nnumber of different immunohistochemical stains performed on a\nretrospective series of 500 cases of breast cancer with histo-\npathological data (such as tumour size, grade, lymph node sta-\ntus) and clinical follow-up (e.g.time to last follow-up, recurrent\ndisease, death not due to breast cancer, death due to breast\ncancer).A database for a project such as this would be a\nreasonable proposition for a single researcher, such as a histo-\npathology trainee working on an PhD degree, and is the scale\nof database that we use all the time in our projects.1\n\nAnonymization, ethical and legal considerations\n\nAny research database should be anonymized to the highest level\nthat is compatible with the viability of the research project.The\nrecent high proﬁle cases in the media highlighting data losses by\nGovernment agencies has shown how easy it is for data in some\nformat (laptop, hard drive, data stick, and more recently insecure\nserver etc.)to be lost or stolen.2 It is likely that you will be\nmoving your data around between computers and it is probable\nthat you will be using a laptop computer, so for security con-\nsiderations alone the database should be anonymized.Any\nresearch project will require local ethics committee approval, and\nmost ethics committees are rightly concerned about the trans-\nmission of personal medical data and usually insist that any\nresearch databases are anonymized.There are two main methods of anonymization e complete\nand linked.The most secure is complete anonymization where\nthe clinicopathological data are taken from their original source\nand entered into the research database with no linkage at all\nbetween the two.If all personal identiﬁers are excluded from the\nresearch database, then there should be no way of systematically\nidentifying patients from the data held in the research database (it\nshould, however, be noted that it might be possible to identify\noccasional individuals if they have very distinctive characteristics,\ne.g.a 16-year-old female living in city ‘x’ who was diagnosed with\nbreast cancer).The advantage of a totally anonymized database is\na lowering of the risk should it be lost or stolen.It obviously re-\nduces the risk of identiﬁcation of individuals to close to zero, but\nit does not eliminate the risk of media coverage should the lost\ndata be found somewhere inappropriate (the local newspaper\nheadline ‘Cancer patients’ data found on memory stick in car\npark’ could still be applied whether the data were anonymized or\nnot).The major disadvantage of a completely anonymized data-\nbase is that it is a static database that cannot be updated later if\nthere is a need for further data input.This may not be a problem\nfor many histopathology research projects (e.g.novel immuno-\nhistochemistry on a series of tumours) but is obviously not\ncompatible with projects with continuing patient follow-up.In linked anonymization there is some system that links the\nresearch database to identiﬁable patient data.One method of\nlinkage is to have a separate secure database that acts as a key\nbetween identiﬁable data records and the anonymized research\ndatabase.Such a database does not need to be electronic; it could\nsimply be a book with two entries on each line e the identiﬁable\ndata and the anonymized research accession number (often\nknown as the study number).Such a book could be kept securely\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n149\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nlocked in a ﬁling cabinet in a locked ofﬁce and access could be\nrestricted to a few named individuals involved in the research\nproject; often it will be a single named individual whose sole\npurpose is to provide linkage if requested.However, this method\ninvolves setting up a separate administration system with its own\nsecurity issues.A much simpler method is to use some identiﬁer\nwhich is not identiﬁable without access to some existing infor-\nmation system.This could be the patient’s hospital number but\nmany ethics committees regard this as relatively insecure\nbecause the patient’s hospital number could open access to a\nwhole range of information in many different hospital informa-\ntion systems (and the patient’s NHS number is even less secure\nand more informative).In histopathology we are fortunate in\nhaving the laboratory accession number which is a restrictive\nsuperﬁcially-anonymous identiﬁer that is only available to those\nwith access to the laboratory information computer system, and\nthat system is already heavily protected by individual password\nlogin, automatic timing out of terminals after a short period of\nnon-use, etc.If we are conducting a research study on archival\ndiagnostic surgical material, then we will probably be using\nslides labelled with the laboratory accession number and we are\nunlikely to anonymize that number because of the slide labelling\nproblems it would cause.At present the ethics committees that\nwe have passed applications through have been happy to use the\nlaboratory accession number to anonymize the samples and data\nin studies, although they have always required a statement on\nthe circumstances in which the investigators would go back to\nthe laboratory information system for more data.Such consid-\nerations always have to be made for any research project and are\nnot exclusively a feature of research databases.It still needs to be appreciated that simple personal data, such\nas name and address, are not the only items that can identify an\nindividual.The date of birth is quite a speciﬁc item and com-\nbined with other items in a database (e.g.a woman with breast\ncancer diagnosed in 2002) could provide a strong indication of an\nindividual’s identity.It is usually better to change the date of\nbirth to a less speciﬁc age datum at the time of entering infor-\nmation into the database; age at diagnosis will probably give all\nthe information that is required.It should be noted that even when a database has been\n‘anonymized’ using relatively opaque linkage items, such as the\nlaboratory accession number, it is still not completely anony-\nmized because links can be made indirectly which could iden-\ntify the patient.Although this linked ‘anonymization’ will mini-\nmize the adverse effects of any data loss or unauthorized access\nto the data, the database is still legally regarded as personal data\nunder legislation such as the UK Data Protection Act.3,4 Under\nthis Act, only data essential to the study can be collected and they\ncan only be stored for as long as the study is active.This brings us to legal consideration as whether the database\nneeds to be registered under the terms of the Data Protection Act\nin the UK, or similar legislation in other countries.If there is no\nlinkage possible at all between the research database and per-\nsonal patient data, then it would not need to registered, but since\nthe act of creation of the database will involve some access to\npersonal data, then we would suggest that it does need regis-\ntration.In most UK institutions this is a simple process because\nthere will be an institutional Data Protection Ofﬁcer and the\ninstitution will be registered with the Government’s Information\n\nCommissioner, which will usually give generic registration for\ndatabases in that institution without the need for the registration\nof individual databases.However, you would need to check the\ndetails of your institution’s processes.A further medicolegal consideration is the duty of disclosure\nthat could occur if review of a case with identiﬁable data showed\nthat there was a misdiagnosis or mistreatment, e.g.if review of a\nseries of cases of mesothelioma showed that one of the cases\nappeared to be mesothelial hyperplasia rather than mesotheli-\noma.If there is complete anonymization, then this cannot apply.If there is linked anonymization, then it could apply and this\nneeds to be considered before the study commences.In most\nhistopathology research studies, the tissue being reviewed is only\na sample of the whole diagnostic material available on the case,\ne.g.a single block of breast cancer, so a full diagnostic review of\nthe case is not being carried out.The tissue is also being exam-\nined in a research context, e.g.a single core of tumour in a tissue\nmicroarray, where it is possible that there could have been some\ntransposition of laboratory accession numbers or rows and col-\numns in a spreadsheet and the risk of misidentiﬁcation would be\nslightly higher than in a fully functioning diagnostic histopa-\nthology laboratory.For these reasons, we include a statement in\nour ethics committee application stating that any discoveries are\nfor research purposes only and that there will be no retrograde\nﬂow of information back to patient records or individual patients.Design your database\n\nThe design of your database should reﬂect the design of your\nresearch project and it would be better to have all your aims and\nobjectives of the project clearly formulated and recorded before\nyou start to design your database.Sometimes, however, design of\nthe database and general objectives of the research project emerge\nconcurrently.A good way to design your database is to take a blank\nsheet of A3 paper and sketch out all the data items you think you\nneed in a ‘spider’ (or ‘mindmap’) diagram with clusters of related\nitems.This gets you away from a computer screen and a form\nformat, and allows you to look at all the data items with an over-\nview.It is worth spending some time doing this, possibly redraw-\ning the diagram if it becomes too cluttered by changes, because this\nis the most important stage of database design and time spent on\nthis stage will pay major dividends later in the process.You need to arrive at a design with all the data items that are\nessential for your project but no more than that.If you do not\ninclude essential data items at the start of the process, you will\ndiscover their absence later and then need to modify the database,\nand you may have to go through all your original data sources to\ninput the missing items.It is usually best to include individual raw\ndata items and use them to calculate derived data items within the\ndatabase.An example in breast cancer would be the Nottingham\nPrognostic Index.If you only include the Nottingham Prognostic\nIndex in your database as an aggregate measure of the potential\nprognostic behaviour of the tumour, then you will not have access\nto the tumour size, tumour grade and lymph node status in future\nanalyses.If you include those three items separately, then you can\ncreate a fourth derived data item that will automatically calculate\nthe Nottingham Prognostic Index from these items.If you only\nrecord axillary lymph node status in a case of breast cancer as\npositive or negative, then you will not have access to the total\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n150\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nnumber of positive lymph nodes, whereas if you record the total\nnumber of positive lymph nodes, you will be able to create\nanother automatically derived data item for overall lymph node\nstatus.The general rule is that data items cannot be split at a later\nstage, but they can be easily, and automatically, aggregated later,\nso it is best to create a database with the simplest raw data items\nincluded instead of derivative/aggregated data items.Any variable that in its raw state is a continuous variable (e.g.tumour size in millimetres) should be stored as that continuous\nvariable rather than a category (e.g. tumours between 5 and 10\nmm).You should of course ensure that all the data items in your\ndatabase are relevant to your project’s aims and objectives\nbecause it is a waste of resources (usually your time) to enter\nirrelevant items.What software should you use? You will notice that choice of software comes after design of the\ndatabase.Too many researchers start with the software choice and\nthen their database design is inﬂuenced by what the software can\ndo, rather than what the software can do for them.There are a\nnumber of popular database software packages on the market,\nsuch as Microsoft Access and Filemaker Pro, which run on indi-\nvidual computers.There are also server-based databases, such as\nMySQL, Microsoft SQL Server or Oracle.These software packages\nare all very good and very powerful for multiuser projects with a\nnumber of interacting databases, but they are overkill for a\nresearch project such as the breast cancer tissue array project\ndescribed above.Although we have used Microsoft Access and\nFilemaker Pro in the past with success, the learning curve for using\nthese packages is relatively steep and the results are no better than\nusing our current preferred option which is Microsoft Excel.This\nspreadsheet application has enough database functions built into it\nto carry out all the necessary preprocessing before statistical\nanalysis of results in speciﬁc statistical software package, such as\nStatistical Package for Social Sciences (SPSS).It has the major\nadvantages of virtually no learning curve, if you already use its\nspreadsheet functions, no platform speciﬁcity (Microsoft Access\ndoes not run on Macintosh computers), accepts ﬁles from other\nsources in a wide range of formats, and does not allow the user to\nwaste time creating colourful graphical interfaces for entering data\nthat have no value to the project.We simply create a column for\neach data item and use a row for each case.The ‘Split Window’ and\n‘Freeze Panes’ functions (found under the Windows menu at the\ntop of the screen) allow the column headings and left-hand row\nlabels to remain on the screen all the time no matter how many\nrows or columns there are in the spreadsheet (see the Excel help\nﬁles for further details).We enter data directly into the spreadsheet\nwithout using any custom entry form, but it is easy to create one if\nyou feel that data entry would be cleaner by using one, e.g.if\nsomeone without specialist knowledge is entering the data for you.If you need multiuser entry, then a single spreadsheet be-\ncomes problematic because version control becomes very difﬁ-\ncult.In these circumstances, a server-based database is more\nuseful but it can be difﬁcult to arrange access from different in-\nstitutions.A more recent development is the availability of web-\nbased databases, which are accessible from any web browser and\nmake multiuser data entry very simple.The consideration with\nthese web-based databases is the security of the commercial\n\nproviders’ servers, but they are basing their business on a secure\nservice so the risk might be lower than for an ad-hoc server in an\nacademic institution.Coding your data\n\nYou will know which data items you want to include in your\ndatabase because you designed it before you touched the com-\nputer keyboard, but now you need to consider how you are going\nto code that data.This only requires a bit of thought about how\nyou are going to sort and use the data but again if you code your\ndata in appropriate formats it will cause a lot of rework and delay\nlater.The laboratory accession number is a simple illustrative\ncase (Tables 1 and 2).This number is usually in the form of the\nyear and then a single unique number issued in ascending order\nas specimens arrive.There may also be a separate block number if\nthe specimen cannot be embedded in a single block.If such a\nnumber is entered into a single column in its usual format, e.g.08/23156/3E, it will be treated as text rather than a number in\nExcel and there can be a number of problems when sorting data\nfor analysis.Tables 1 and 2 illustrate these problems and show\nthat the best solution is to create separate columns for each\nelement of a multipart or mixed number/text item.Binary data\nitems, such as gender or lymph node status, are easier but there is\nstill a decision to be made as to whether to use strict mathematical\nbinary code or a more descriptive code.Gender could be coded as\n1 ¼ female and 0 ¼ male, but this is an arbitrary coding that is not\nmemorable to the data inputer.Coding as f ¼ female and m ¼\nmale is memorable and so far lower rates of errors are likely\nduring the inputting of the data, i.e.make the purest possible\ntransformations of data.It is a very simple automated ‘ﬁnd and\nreplace’ function to convert these to true mathematical binary\nitems for statistical analysis.It is well worth keeping descriptive\ncodings as short as possible, because this reduces the number of\nkeystrokes when entering data.The autoﬁll function of Excel is\n\nCoding the laboratory accession number.If entered in\nthe format in column 1 the accession number sorts to the\norder in column 2 e the year order is incorrect because\nthe full year was not included.With the full year added\nand sorted, column 3, there is still a problem with the\norder of the second and third rows because zeros before\nthe accession number have not been added to numbers\nwith fewer than ﬁve digits.When this has been done,\ncolumn 4, the numbers now do sort into the correct time\norder but a better method is shown in Table 2\n\n1.Unsorted\n\n2. Sorted\n\n3. Full year\nsorted\n\n4.Full year and\npreceeding zeros\nsorted\n\n98/1119/3E\n02/34001/4F\n99/1231/2F\n00/32754/1A\n03/4567/8G\n99/12237/4D\n\n00/32754/1A\n02/34001/4F\n03/4567/8G\n98/1119/3E\n99/1231/2F\n99/12237/4D\n\n1998/1119/3E\n1999/12237/4D\n1999/1231/2F\n2000/32754/1A\n2002/34001/4F\n2003/4567/8G\n\n1998/01119/3E\n1999/01231/2F\n1999/12237/4D\n2000/32754/1A\n2002/34001/4F\n2003/04567/8G\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\nTable 1\n\n151\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nThis shows a better method for coding the laboratory\naccession number by creating a separate column for\neach element of the number.Note that in this case\npreceding zeros do not need to be included as the Excel\nsoftware is treating the numbers as actual numbers\nrather than text, as in Table 1.If you are using a single\nrepresentative section from a multipart specimen, e.g.a\nrepresentative block of breast cancer from a mastectomy\nspecimen, then always remember to include the speciﬁc\nblock number in the database, otherwise future studies\nmay have to retrieve all the slides for the case (speciﬁed\nby the year and accession number) and look at these to\nselect the representative block again e a huge amount\nof rework for no gain in value\n\nNumber\n\n1119\n1231\n12237\n32754\n34001\n4567\n\nPart\n\n3E\n2F\n4D\n1A\n4F\n8G\n\nYear\n\n1998\n1999\n1999\n2000\n2002\n2003\n\nTable 2\n\nuseful and can be optimized by choosing different ﬁrst letters for\nas many different items as possible.An example for breast cancer\nthat we have used is tumour type, where d ¼ ductal, l ¼ lobular, t\n¼ tubular, me ¼ medullary, mu ¼ mucinous, etc.It should be\nnoted that when entering text into Excel it will be case-sensitive in\nany manipulations, such as grouping or pivot data tables, so it is\nbest to use lower case letter throughout, which also reduces\nkeystrokes by not using the Shift key.Importing items into your database\n\nIf some of the data you wish to have in your database exist in\nanother database, it may be possible to import them into your\ndatabase instead of having to key them all in.The ﬁrst thing to\nensure is that the data in the other database are ‘clean’ (i.e.consistently formatted) and veriﬁed.People often volunteer data\nfrom a database which on closer examinations contains many\nformatting inconsistencies, e.g.‘yes’ coded as ‘y’, ‘Y’ or ‘1’ for a\nsingle data ﬁeld, and it then is better to start again with the\noriginal source data.Another common feature of processes\ndesigned to port data from one database to another is that IT\nprofessionals want to write complicated interface programmes\nwhich take weeks or months to develop.Whilst these are essential\nfor databases that port data between themselves on a frequent,\nrecurrent basis, this is usually completely unnecessary for a\nstandalone research database, which usually only requires a sin-\ngle transfer at a single point in time.The easiest method we have\nfound is to perform a search on the existing database to select the\nrecords that we want to import and then export those in a format\nthat Excel can read.Often the parent database will be able to\nexport in Excel format but comma or tab-delimited text is just as\nacceptable and causes no extra work.Once in Excel the imported\ndata can be quickly sorted and formatted as required.It should be\nnoted that it is best to import as the ﬁrst stage of creating your\n\nresearch database, rather than trying to add the imported data to\nan existing database which may be more problematic.Calculating derived data items within your database\n\nAs noted above it is often easier (and certainly more accurate) to\ncalculate some derived data items from raw source data items\nwithin the database.This can be done using Excel’s calculation\nfunctions and the reader is referred to Excel help ﬁles or\ninstructional books for the details of this.5 Obviously some cal-\nculations are easier than others.If your raw data item is the\nmaximum diameter of a breast cancer in millimetres and you\nwant to convert that to centimetres in the calculation of the\nNottingham Prognostic Index, then you would simply set up a\nformula such: ¼ A23/10 where A23 is the index of the cell\ncontaining the measurement in millimetres.It is a simple matter\nto propagate that formula down the whole column for size in\ncentimetres by using the ‘Fill’ ‘Down’ functions from the Edit\nmenu.Deriving the lymph node status component for the Not-\ntingham Prognostic Index from the total number of positive\nlymph nodes would be more complicated but the conditional\noperators exist in Excel to allow this, e.g.¼ IF(A23 > 3,2,0), and\nautomatic help boxes make this very easy (click the calculator\nsymbol on the Excel toolbar just to the right of the green tick\nsymbol).It should be noted that these calculated values only\nexist when the other items from which they are derived are still\npresent in the datasheet.If for any reason, such as reducing data\ndown to the core items for statistical analysis, you are going to\nremove columns from the datasheet, you must select the whole\ndatasheet, copy it and then paste it back in the same cells using\nthe Paste Special function and selecting Values.You will then\nhave a sheet in which each cell is an independent number not\ndependent on any other cell.Obviously, you should only do this\nwhen you have ﬁnished entering all the data and are ready for\ndata analysis, and you should immediately save this sheet in a\ndifferent name from the original database sheet.Verifying your data\n\nOnce you have input your data you need to make some assess-\nment of the veracity of that data.It is remarkable how many\nerrors are introduced during data entry that need to be corrected\nbefore the database is usable.Excel has some useful functions\nthat make debugging the database relatively easy.One method is\nto ensure that you have saved the database and then try sorting\nthe data in many different ways.Go to ‘Sort’ under the ‘Data’\nmenu and select any single column as the sorting factor and\nperform the sort.Now scroll through the database sheet looking\nat the column you sorted by, especially at the top and bottom of\nthe sorted sheet, and you can see all sorts of data entry errors\nfrom completely blank cells through to mispellings or duplicated\nsymbols.You could repeat these sorts for each column to check\nfor further errors in other columns.A similar, but possibly easier,\nmethod is to use the Autoﬁlter function.Highlight the complete\nsheet (by clicking the diamond symbol in the top left cell of the\nsheet), from the Data menu select the Filter option and then\nselect the Autoﬁlter option.At the top of each column there will\nnow appear an up and down arrow symbol; clicking on this\nproduces a list of all the different occurrences of data items in\nthat column, making it very easy to see errors such as ‘Y’ instead\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n152\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nof ‘y’.When all the obvious typing errors have been corrected, it\nwould be wise to perform an audit, checking perhaps 10% of the\ncase records with their original source data to check that there\nare no systematic data entry errors.Backing up your database\n\nData only exists when it is stored in two places e this widespread\ndictum is never more true than for databases.If you are going to\nspend many hours entering data into a database, then you need to\nhave a reliable system of back-up.The best systems are automatic\nand store the data at a geographically separate location; institutions\nsuch as universities often provide such systems for their members.Excel-based databases produce ﬁles which are very manageable in\nsize and can easily be backed up to CDs or memory sticks, but be\nmindful of security issues even with a completely anonymized\ndatabase (which would still cause media interest if found in an\ninappropriate place) and keep the copies in secure locations.Many\nNHS institutions are now so wary of data loss through sources such\nas memory sticks, that they are considering disabling USB ports on\ntheir computers so automated back-ups onto servers within the\ninstitution’s ﬁrewall may well become the norm.Exporting data for analysis\n\nThe function of a database is to store and order data for a\nresearch project that can then be analysed.By using Excel as the\ndatabase software, many statistical functions and analysis can be\nused directly within Excel.However more sophisticated analyses\nwill require preprocessing and export to other programmes such\nas SSPS.The preprocessing will mainly consist of converting\ndescriptive variables into numerical values, e.g.‘f’ to ‘1’, which\nis easily done using the search and replace functions of Excel.The labels of the columns may have to be shortened to be read by\nsome statistical programmes, e.g.SPSS will only read the ﬁrst\neight characters of variable names.Again, you must remember to\nsave the spreadsheet with a different ﬁlename before beginning\ndata preprocessing, as it will destroy some of the data, or\ncertainly its format.Most specialist statistical programmes, such\nas SPSS, will read Excel ﬁles but data can be output in comma- or\ntab-delimited text from Excel if necessary.Research notes ‘database’\n\nAny researcher 15 years ago would have had supplementary ‘da-\ntabases’ for their research projects, usually an index box with cards\nwith the authors and title of published papers and a number that\nreferred to a folder in a ﬁling cabinet.They might also have had a\nbound book with notes, or possibly a pile of loose papers with\nvarious notes e they still might have those on their desk today.A\nsupervised researcher working in a well-organized laboratory\nshould still have a bound book as a record of their experiments and\nprimary data, but there are now more useful ways of storing other\ninformation than a pile of loose papers.The widespread availability\nof electronic PDF versions of published paper and the information\ndisplayed on numerous authoritative websites has widened the\nscope for electronic databases of collected research ‘notes’.These\nshould be much easier to search, can have direct links to PDF ﬁles\nstored on the computer and direct links to relevant websites, and\ncould signiﬁcantly improve a researcher’s productivity.A number\n\nof software programmes that perform this task are available.On\nMacintosh computers TapForms6 appears to be the current market\nleader and is extremely easy to use.On PCs Microsoft Ofﬁce One-\nNote (available as part of the MS Ofﬁce 2016 Ofﬁce Suite) is a\ncomprehensive electronic documentation application that allows\norganization and storage of information from a wide range of\nsources.7 It also allows resources to be shared securely with project\ncollaborators via the internet.Conclusions\n\nA research database for even relatively sophisticated histopa-\nthology research projects, e.g.immunohistochemical staining of\ntissue arrays with hundreds of tumours, is easy to construct and\nuse provided that care is taken in its overall design and the\ncoding of data items.The purpose of the database should always\nbe to serve the overall aims of the research project and it should\nnot become an isolated resource-consuming entity.For most\nhistopathology projects, a simple spreadsheet programme, such\nas Microsoft Excel, will provide all\nthe necessary database\nfunctions with the minimum amount of infra-structural effort.Conﬂicts of interest\n\nThe authors have no conﬂicts of interest to declare.A\n\nREFERENCES\n1 Balasubramanian SP, Cross SS, Globe J, Cox A, Brown NJ,\n\nReed MW.Endostatin gene variation and protein levels in breast\ncancer susceptibility and severity.BMC Cancer 2007; 7: 107. 2 BBC News website.Thousands of Welsh NHS staff’s data stolen in\n\nhack.Avaliable at: http://www.bbc.co.uk/news/uk-wales-\n39249975 (accessed 4 June 2017). 3 Data Protection Act.Available at: http://www.legislation.gov.uk/\n\nukpga/1998/29/contents (accessed 4 June 2017).4 Iversen A, Liddell K, Fear N, Hotopf M, Wessely S. Consent,\n\nconﬁdentiality and the data protection act.BMJ 2006; 332: 165e9. 5 Walkenbach J. Excel 2016 bible.Hoboken, New Jersey: John Wiley\n\n& Sons, 2015. June 2017). 6 TapForms.Avaliable at: https://www.tapforms.com/ (accessed 4\n\n7 Microsoft Ofﬁce OneNote.Avaliable at: https://www.onenote.com/\n\n(accessed 4 June 2017).Practice points\n\nC Any research database should be anonymized as completely as is\n\nfeasible for the speciﬁc research project\n\nC A research database should always be part of a project approved\nby a research ethics committee and should be speciﬁed within the\nresearch protocol\n\nC A research database should comply with appropriate data pro-\n\ntection legislation, the Data Protection Act in the UK\n\nC The design of the database should be speciﬁed by the aims and\nobjectives of the research project and not by software capabilities\nC Care should be taken to code data items in a format that retains\nall potentially relevant information and which allows them to be\nselected and sorted in a consistent manner\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n153\n\n(cid:1) 2017 Published by Elsevier Ltd.",
          "time": 1169.0246767997742,
          "input_token_size": 7423,
          "output_token_size": 251,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_d120d6fd",
        "created_at": 1749627297.8639634,
        "processing_time": 1178.8666942119598,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs_prev",
        "reason": "shorter_provenance",
        "sentence_count": 190,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs_prev",
            "sentence_count": 190,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.878723"
      }
    }
  },
  {
    "e27c212a": {
      "question": "How does the document suggest handling ethical considerations in database design?",
      "answer": "1. Any research database should be anonymized to the highest level that is compatible with the viability of the research project.\n2. Any research project will require local ethics committee approval, and most ethics committees are rightly concerned about the transmission of personal medical data and usually insist that any research databases are anonymized.\n3. The major disadvantage of a completely anonymized database is that it is a static database that cannot be updated later if there is a need for further data input.\n4. In linked anonymization, there is some system that links the research database to identifiable patient data.\n5. It should be noted that even when a database has been ‘anonymized’ using relatively opaque linkage items, it is still not completely anonymized because links can be made indirectly which could identify the patient.\n6. Under the UK Data Protection Act, only data essential to the study can be collected and they can only be stored for as long as the study is active.\n7. If there is complete anonymization, then the duty of disclosure cannot apply.\n8. If there is linked anonymization, then the duty of disclosure could apply and this needs to be considered before the study commences.\n9. A statement should be included in the ethics committee application stating that any discoveries are for research purposes only and that there will be no retrograde flow of information back to patient records or individual patients.\n10. The database design should reflect the aims and objectives of the research project and not be influenced by software capabilities.",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            163,
            164,
            165,
            166,
            167,
            168,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            163,
            164,
            165,
            166,
            167,
            168,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance": "MINI-SYMPOSIUM: RESEARCH\n\nHow to design and use a\nresearch database\n\nSimon S Cross\n\nIan R Palmer\n\nTimothy J Stephenson\n\nAbstract\nThe vast majority of histopathology research projects based on a se-\nries of tissue samples will require a database to store and organize the\ndata.Most of these databases will be relatively simple standalone da-\ntabases that can be created in a spreadsheet application.However,\nthere are still some important considerations in the design of the data-\nbase and coding of the data that will make its subsequent use much\nmore time efﬁcient.This article reviews the scope of databases for\ncommon histopathology research projects, the ethical and legal con-\nsiderations, design of the database structure, coding of data items,\nand import and export of data from databases.Keywords anonymization; databases; histopathology\n\nIntroduction\n\nMost research projects need some method for recording and\nordering data.Sometimes this may be a complex system that\nautomatically links with other data sources, but in most cases it\nwill be a relatively simple standalone database for a single\nresearcher to maintain their research data.However, even though\nthis level of database may be relatively simple, it is still very\nimportant to give some thought to its design before starting to use\nit, as a well-designed database will make analysing results much\neasier, and a poorly-designed database can lead to much wasted\ntime which may even extend as far as having to re-enter data.What sort of database does your project need?At the start of a research project you need to make a simple\nassessment of what your database will need to do.If your\ninvolving\nresearch project\nseveral different centres and which requires data to be entered by\nseveral different personnel, then we hope you have budgeted for\n\nis a randomized controlled trial\n\nSimon S Cross MD FRCPath is Professor of Diagnostic Histopathology\nat the University of Shefﬁeld and an Honorary Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation,\nUK.Conﬂict of interest: There is no conﬂict of interest.Ian R Palmer BSc is the Faculty IT Manager (Medicine, Dentistry &\nHealth) and Faculty IT Liaison Corporate Information and Computing\nServices at the University of Shefﬁeld, Shefﬁeld, UK.Conﬂict of\ninterest: There is no conﬂict of interest.Timothy J Stephenson MA MD MBA FRCPath is a Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation\nTrust and Honorary Professor at the University of Shefﬁeld and\nShefﬁeld Hallam University, Shefﬁeld, UK.Conﬂict of interest: There\nis no conﬂict of interest.a dedicated database manager in your research grant because\nyou will need them!Such a database is well outside the scope of\nthis paper.A more tractable project might be something like a\nnumber of different immunohistochemical stains performed on a\nretrospective series of 500 cases of breast cancer with histo-\npathological data (such as tumour size, grade, lymph node sta-\ntus) and clinical follow-up (e.g.time to last follow-up, recurrent\ndisease, death not due to breast cancer, death due to breast\ncancer).A database for a project such as this would be a\nreasonable proposition for a single researcher, such as a histo-\npathology trainee working on an PhD degree, and is the scale\nof database that we use all the time in our projects.1\n\nAnonymization, ethical and legal considerations\n\nAny research database should be anonymized to the highest level\nthat is compatible with the viability of the research project.The\nrecent high proﬁle cases in the media highlighting data losses by\nGovernment agencies has shown how easy it is for data in some\nformat (laptop, hard drive, data stick, and more recently insecure\nserver etc.)to be lost or stolen.2 It is likely that you will be\nmoving your data around between computers and it is probable\nthat you will be using a laptop computer, so for security con-\nsiderations alone the database should be anonymized.Any\nresearch project will require local ethics committee approval, and\nmost ethics committees are rightly concerned about the trans-\nmission of personal medical data and usually insist that any\nresearch databases are anonymized.There are two main methods of anonymization e complete\nand linked.The most secure is complete anonymization where\nthe clinicopathological data are taken from their original source\nand entered into the research database with no linkage at all\nbetween the two.If all personal identiﬁers are excluded from the\nresearch database, then there should be no way of systematically\nidentifying patients from the data held in the research database (it\nshould, however, be noted that it might be possible to identify\noccasional individuals if they have very distinctive characteristics,\ne.g.a 16-year-old female living in city ‘x’ who was diagnosed with\nbreast cancer).The advantage of a totally anonymized database is\na lowering of the risk should it be lost or stolen.It obviously re-\nduces the risk of identiﬁcation of individuals to close to zero, but\nit does not eliminate the risk of media coverage should the lost\ndata be found somewhere inappropriate (the local newspaper\nheadline ‘Cancer patients’ data found on memory stick in car\npark’ could still be applied whether the data were anonymized or\nnot).The major disadvantage of a completely anonymized data-\nbase is that it is a static database that cannot be updated later if\nthere is a need for further data input.This may not be a problem\nfor many histopathology research projects (e.g.novel immuno-\nhistochemistry on a series of tumours) but is obviously not\ncompatible with projects with continuing patient follow-up.In linked anonymization there is some system that links the\nresearch database to identiﬁable patient data.One method of\nlinkage is to have a separate secure database that acts as a key\nbetween identiﬁable data records and the anonymized research\ndatabase.Such a database does not need to be electronic; it could\nsimply be a book with two entries on each line e the identiﬁable\ndata and the anonymized research accession number (often\nknown as the study number).Such a book could be kept securely\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n149\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nlocked in a ﬁling cabinet in a locked ofﬁce and access could be\nrestricted to a few named individuals involved in the research\nproject; often it will be a single named individual whose sole\npurpose is to provide linkage if requested.However, this method\ninvolves setting up a separate administration system with its own\nsecurity issues.A much simpler method is to use some identiﬁer\nwhich is not identiﬁable without access to some existing infor-\nmation system.This could be the patient’s hospital number but\nmany ethics committees regard this as relatively insecure\nbecause the patient’s hospital number could open access to a\nwhole range of information in many different hospital informa-\ntion systems (and the patient’s NHS number is even less secure\nand more informative).In histopathology we are fortunate in\nhaving the laboratory accession number which is a restrictive\nsuperﬁcially-anonymous identiﬁer that is only available to those\nwith access to the laboratory information computer system, and\nthat system is already heavily protected by individual password\nlogin, automatic timing out of terminals after a short period of\nnon-use, etc.If we are conducting a research study on archival\ndiagnostic surgical material, then we will probably be using\nslides labelled with the laboratory accession number and we are\nunlikely to anonymize that number because of the slide labelling\nproblems it would cause.At present the ethics committees that\nwe have passed applications through have been happy to use the\nlaboratory accession number to anonymize the samples and data\nin studies, although they have always required a statement on\nthe circumstances in which the investigators would go back to\nthe laboratory information system for more data.Such consid-\nerations always have to be made for any research project and are\nnot exclusively a feature of research databases.It still needs to be appreciated that simple personal data, such\nas name and address, are not the only items that can identify an\nindividual.The date of birth is quite a speciﬁc item and com-\nbined with other items in a database (e.g.a woman with breast\ncancer diagnosed in 2002) could provide a strong indication of an\nindividual’s identity.It is usually better to change the date of\nbirth to a less speciﬁc age datum at the time of entering infor-\nmation into the database; age at diagnosis will probably give all\nthe information that is required.It should be noted that even when a database has been\n‘anonymized’ using relatively opaque linkage items, such as the\nlaboratory accession number, it is still not completely anony-\nmized because links can be made indirectly which could iden-\ntify the patient.Although this linked ‘anonymization’ will mini-\nmize the adverse effects of any data loss or unauthorized access\nto the data, the database is still legally regarded as personal data\nunder legislation such as the UK Data Protection Act.3,4 Under\nthis Act, only data essential to the study can be collected and they\ncan only be stored for as long as the study is active.This brings us to legal consideration as whether the database\nneeds to be registered under the terms of the Data Protection Act\nin the UK, or similar legislation in other countries.If there is no\nlinkage possible at all between the research database and per-\nsonal patient data, then it would not need to registered, but since\nthe act of creation of the database will involve some access to\npersonal data, then we would suggest that it does need regis-\ntration.In most UK institutions this is a simple process because\nthere will be an institutional Data Protection Ofﬁcer and the\ninstitution will be registered with the Government’s Information\n\nCommissioner, which will usually give generic registration for\ndatabases in that institution without the need for the registration\nof individual databases.However, you would need to check the\ndetails of your institution’s processes.A further medicolegal consideration is the duty of disclosure\nthat could occur if review of a case with identiﬁable data showed\nthat there was a misdiagnosis or mistreatment, e.g.if review of a\nseries of cases of mesothelioma showed that one of the cases\nappeared to be mesothelial hyperplasia rather than mesotheli-\noma.If there is complete anonymization, then this cannot apply.If there is linked anonymization, then it could apply and this\nneeds to be considered before the study commences.In most\nhistopathology research studies, the tissue being reviewed is only\na sample of the whole diagnostic material available on the case,\ne.g.a single block of breast cancer, so a full diagnostic review of\nthe case is not being carried out.The tissue is also being exam-\nined in a research context, e.g.a single core of tumour in a tissue\nmicroarray, where it is possible that there could have been some\ntransposition of laboratory accession numbers or rows and col-\numns in a spreadsheet and the risk of misidentiﬁcation would be\nslightly higher than in a fully functioning diagnostic histopa-\nthology laboratory.For these reasons, we include a statement in\nour ethics committee application stating that any discoveries are\nfor research purposes only and that there will be no retrograde\nﬂow of information back to patient records or individual patients.Design your database\n\nThe design of your database should reﬂect the design of your\nresearch project and it would be better to have all your aims and\nobjectives of the project clearly formulated and recorded before\nyou start to design your database.Sometimes, however, design of\nthe database and general objectives of the research project emerge\nconcurrently.A good way to design your database is to take a blank\nsheet of A3 paper and sketch out all the data items you think you\nneed in a ‘spider’ (or ‘mindmap’) diagram with clusters of related\nitems.This gets you away from a computer screen and a form\nformat, and allows you to look at all the data items with an over-\nview.It is worth spending some time doing this, possibly redraw-\ning the diagram if it becomes too cluttered by changes, because this\nis the most important stage of database design and time spent on\nthis stage will pay major dividends later in the process.You need to arrive at a design with all the data items that are\nessential for your project but no more than that.If you do not\ninclude essential data items at the start of the process, you will\ndiscover their absence later and then need to modify the database,\nand you may have to go through all your original data sources to\ninput the missing items.It is usually best to include individual raw\ndata items and use them to calculate derived data items within the\ndatabase.An example in breast cancer would be the Nottingham\nPrognostic Index.If you only include the Nottingham Prognostic\nIndex in your database as an aggregate measure of the potential\nprognostic behaviour of the tumour, then you will not have access\nto the tumour size, tumour grade and lymph node status in future\nanalyses.If you include those three items separately, then you can\ncreate a fourth derived data item that will automatically calculate\nthe Nottingham Prognostic Index from these items.If you only\nrecord axillary lymph node status in a case of breast cancer as\npositive or negative, then you will not have access to the total\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n150\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nnumber of positive lymph nodes, whereas if you record the total\nnumber of positive lymph nodes, you will be able to create\nanother automatically derived data item for overall lymph node\nstatus.The general rule is that data items cannot be split at a later\nstage, but they can be easily, and automatically, aggregated later,\nso it is best to create a database with the simplest raw data items\nincluded instead of derivative/aggregated data items.Any variable that in its raw state is a continuous variable (e.g.tumour size in millimetres) should be stored as that continuous\nvariable rather than a category (e.g. tumours between 5 and 10\nmm).You should of course ensure that all the data items in your\ndatabase are relevant to your project’s aims and objectives\nbecause it is a waste of resources (usually your time) to enter\nirrelevant items.What software should you use? You will notice that choice of software comes after design of the\ndatabase.Too many researchers start with the software choice and\nthen their database design is inﬂuenced by what the software can\ndo, rather than what the software can do for them.There are a\nnumber of popular database software packages on the market,\nsuch as Microsoft Access and Filemaker Pro, which run on indi-\nvidual computers.There are also server-based databases, such as\nMySQL, Microsoft SQL Server or Oracle.These software packages\nare all very good and very powerful for multiuser projects with a\nnumber of interacting databases, but they are overkill for a\nresearch project such as the breast cancer tissue array project\ndescribed above.Although we have used Microsoft Access and\nFilemaker Pro in the past with success, the learning curve for using\nthese packages is relatively steep and the results are no better than\nusing our current preferred option which is Microsoft Excel.This\nspreadsheet application has enough database functions built into it\nto carry out all the necessary preprocessing before statistical\nanalysis of results in speciﬁc statistical software package, such as\nStatistical Package for Social Sciences (SPSS).It has the major\nadvantages of virtually no learning curve, if you already use its\nspreadsheet functions, no platform speciﬁcity (Microsoft Access\ndoes not run on Macintosh computers), accepts ﬁles from other\nsources in a wide range of formats, and does not allow the user to\nwaste time creating colourful graphical interfaces for entering data\nthat have no value to the project.We simply create a column for\neach data item and use a row for each case.The ‘Split Window’ and\n‘Freeze Panes’ functions (found under the Windows menu at the\ntop of the screen) allow the column headings and left-hand row\nlabels to remain on the screen all the time no matter how many\nrows or columns there are in the spreadsheet (see the Excel help\nﬁles for further details).We enter data directly into the spreadsheet\nwithout using any custom entry form, but it is easy to create one if\nyou feel that data entry would be cleaner by using one, e.g.if\nsomeone without specialist knowledge is entering the data for you.If you need multiuser entry, then a single spreadsheet be-\ncomes problematic because version control becomes very difﬁ-\ncult.In these circumstances, a server-based database is more\nuseful but it can be difﬁcult to arrange access from different in-\nstitutions.A more recent development is the availability of web-\nbased databases, which are accessible from any web browser and\nmake multiuser data entry very simple.The consideration with\nthese web-based databases is the security of the commercial\n\nproviders’ servers, but they are basing their business on a secure\nservice so the risk might be lower than for an ad-hoc server in an\nacademic institution.Coding your data\n\nYou will know which data items you want to include in your\ndatabase because you designed it before you touched the com-\nputer keyboard, but now you need to consider how you are going\nto code that data.This only requires a bit of thought about how\nyou are going to sort and use the data but again if you code your\ndata in appropriate formats it will cause a lot of rework and delay\nlater.The laboratory accession number is a simple illustrative\ncase (Tables 1 and 2).This number is usually in the form of the\nyear and then a single unique number issued in ascending order\nas specimens arrive.There may also be a separate block number if\nthe specimen cannot be embedded in a single block.If such a\nnumber is entered into a single column in its usual format, e.g.08/23156/3E, it will be treated as text rather than a number in\nExcel and there can be a number of problems when sorting data\nfor analysis.Tables 1 and 2 illustrate these problems and show\nthat the best solution is to create separate columns for each\nelement of a multipart or mixed number/text item.Binary data\nitems, such as gender or lymph node status, are easier but there is\nstill a decision to be made as to whether to use strict mathematical\nbinary code or a more descriptive code.Gender could be coded as\n1 ¼ female and 0 ¼ male, but this is an arbitrary coding that is not\nmemorable to the data inputer.Coding as f ¼ female and m ¼\nmale is memorable and so far lower rates of errors are likely\nduring the inputting of the data, i.e.make the purest possible\ntransformations of data.It is a very simple automated ‘ﬁnd and\nreplace’ function to convert these to true mathematical binary\nitems for statistical analysis.It is well worth keeping descriptive\ncodings as short as possible, because this reduces the number of\nkeystrokes when entering data.The autoﬁll function of Excel is\n\nCoding the laboratory accession number.If entered in\nthe format in column 1 the accession number sorts to the\norder in column 2 e the year order is incorrect because\nthe full year was not included.With the full year added\nand sorted, column 3, there is still a problem with the\norder of the second and third rows because zeros before\nthe accession number have not been added to numbers\nwith fewer than ﬁve digits.When this has been done,\ncolumn 4, the numbers now do sort into the correct time\norder but a better method is shown in Table 2\n\n1.Unsorted\n\n2. Sorted\n\n3. Full year\nsorted\n\n4.Full year and\npreceeding zeros\nsorted\n\n98/1119/3E\n02/34001/4F\n99/1231/2F\n00/32754/1A\n03/4567/8G\n99/12237/4D\n\n00/32754/1A\n02/34001/4F\n03/4567/8G\n98/1119/3E\n99/1231/2F\n99/12237/4D\n\n1998/1119/3E\n1999/12237/4D\n1999/1231/2F\n2000/32754/1A\n2002/34001/4F\n2003/4567/8G\n\n1998/01119/3E\n1999/01231/2F\n1999/12237/4D\n2000/32754/1A\n2002/34001/4F\n2003/04567/8G\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\nTable 1\n\n151\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nThis shows a better method for coding the laboratory\naccession number by creating a separate column for\neach element of the number.Note that in this case\npreceding zeros do not need to be included as the Excel\nsoftware is treating the numbers as actual numbers\nrather than text, as in Table 1.If you are using a single\nrepresentative section from a multipart specimen, e.g.a\nrepresentative block of breast cancer from a mastectomy\nspecimen, then always remember to include the speciﬁc\nblock number in the database, otherwise future studies\nmay have to retrieve all the slides for the case (speciﬁed\nby the year and accession number) and look at these to\nselect the representative block again e a huge amount\nof rework for no gain in value\n\nNumber\n\n1119\n1231\n12237\n32754\n34001\n4567\n\nPart\n\n3E\n2F\n4D\n1A\n4F\n8G\n\nYear\n\n1998\n1999\n1999\n2000\n2002\n2003\n\nTable 2\n\nuseful and can be optimized by choosing different ﬁrst letters for\nas many different items as possible.An example for breast cancer\nthat we have used is tumour type, where d ¼ ductal, l ¼ lobular, t\n¼ tubular, me ¼ medullary, mu ¼ mucinous, etc.It should be\nnoted that when entering text into Excel it will be case-sensitive in\nany manipulations, such as grouping or pivot data tables, so it is\nbest to use lower case letter throughout, which also reduces\nkeystrokes by not using the Shift key.Importing items into your database\n\nIf some of the data you wish to have in your database exist in\nanother database, it may be possible to import them into your\ndatabase instead of having to key them all in.The ﬁrst thing to\nensure is that the data in the other database are ‘clean’ (i.e.consistently formatted) and veriﬁed.People often volunteer data\nfrom a database which on closer examinations contains many\nformatting inconsistencies, e.g.‘yes’ coded as ‘y’, ‘Y’ or ‘1’ for a\nsingle data ﬁeld, and it then is better to start again with the\noriginal source data.Another common feature of processes\ndesigned to port data from one database to another is that IT\nprofessionals want to write complicated interface programmes\nwhich take weeks or months to develop.Whilst these are essential\nfor databases that port data between themselves on a frequent,\nrecurrent basis, this is usually completely unnecessary for a\nstandalone research database, which usually only requires a sin-\ngle transfer at a single point in time.The easiest method we have\nfound is to perform a search on the existing database to select the\nrecords that we want to import and then export those in a format\nthat Excel can read.Often the parent database will be able to\nexport in Excel format but comma or tab-delimited text is just as\nacceptable and causes no extra work.Once in Excel the imported\ndata can be quickly sorted and formatted as required.It should be\nnoted that it is best to import as the ﬁrst stage of creating your\n\nresearch database, rather than trying to add the imported data to\nan existing database which may be more problematic.Calculating derived data items within your database\n\nAs noted above it is often easier (and certainly more accurate) to\ncalculate some derived data items from raw source data items\nwithin the database.This can be done using Excel’s calculation\nfunctions and the reader is referred to Excel help ﬁles or\ninstructional books for the details of this.5 Obviously some cal-\nculations are easier than others.If your raw data item is the\nmaximum diameter of a breast cancer in millimetres and you\nwant to convert that to centimetres in the calculation of the\nNottingham Prognostic Index, then you would simply set up a\nformula such: ¼ A23/10 where A23 is the index of the cell\ncontaining the measurement in millimetres.It is a simple matter\nto propagate that formula down the whole column for size in\ncentimetres by using the ‘Fill’ ‘Down’ functions from the Edit\nmenu.Deriving the lymph node status component for the Not-\ntingham Prognostic Index from the total number of positive\nlymph nodes would be more complicated but the conditional\noperators exist in Excel to allow this, e.g.¼ IF(A23 > 3,2,0), and\nautomatic help boxes make this very easy (click the calculator\nsymbol on the Excel toolbar just to the right of the green tick\nsymbol).It should be noted that these calculated values only\nexist when the other items from which they are derived are still\npresent in the datasheet.If for any reason, such as reducing data\ndown to the core items for statistical analysis, you are going to\nremove columns from the datasheet, you must select the whole\ndatasheet, copy it and then paste it back in the same cells using\nthe Paste Special function and selecting Values.You will then\nhave a sheet in which each cell is an independent number not\ndependent on any other cell.Obviously, you should only do this\nwhen you have ﬁnished entering all the data and are ready for\ndata analysis, and you should immediately save this sheet in a\ndifferent name from the original database sheet.Verifying your data\n\nOnce you have input your data you need to make some assess-\nment of the veracity of that data.It is remarkable how many\nerrors are introduced during data entry that need to be corrected\nbefore the database is usable.Excel has some useful functions\nthat make debugging the database relatively easy.One method is\nto ensure that you have saved the database and then try sorting\nthe data in many different ways.Go to ‘Sort’ under the ‘Data’\nmenu and select any single column as the sorting factor and\nperform the sort.Now scroll through the database sheet looking\nat the column you sorted by, especially at the top and bottom of\nthe sorted sheet, and you can see all sorts of data entry errors\nfrom completely blank cells through to mispellings or duplicated\nsymbols.You could repeat these sorts for each column to check\nfor further errors in other columns.A similar, but possibly easier,\nmethod is to use the Autoﬁlter function.Highlight the complete\nsheet (by clicking the diamond symbol in the top left cell of the\nsheet), from the Data menu select the Filter option and then\nselect the Autoﬁlter option.At the top of each column there will\nnow appear an up and down arrow symbol; clicking on this\nproduces a list of all the different occurrences of data items in\nthat column, making it very easy to see errors such as ‘Y’ instead\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n152\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nof ‘y’.When all the obvious typing errors have been corrected, it\nwould be wise to perform an audit, checking perhaps 10% of the\ncase records with their original source data to check that there\nare no systematic data entry errors.Backing up your database\n\nData only exists when it is stored in two places e this widespread\ndictum is never more true than for databases.If you are going to\nspend many hours entering data into a database, then you need to\nhave a reliable system of back-up.The best systems are automatic\nand store the data at a geographically separate location; institutions\nsuch as universities often provide such systems for their members.Excel-based databases produce ﬁles which are very manageable in\nsize and can easily be backed up to CDs or memory sticks, but be\nmindful of security issues even with a completely anonymized\ndatabase (which would still cause media interest if found in an\ninappropriate place) and keep the copies in secure locations.Many\nNHS institutions are now so wary of data loss through sources such\nas memory sticks, that they are considering disabling USB ports on\ntheir computers so automated back-ups onto servers within the\ninstitution’s ﬁrewall may well become the norm.Exporting data for analysis\n\nThe function of a database is to store and order data for a\nresearch project that can then be analysed.By using Excel as the\ndatabase software, many statistical functions and analysis can be\nused directly within Excel.However more sophisticated analyses\nwill require preprocessing and export to other programmes such\nas SSPS.The preprocessing will mainly consist of converting\ndescriptive variables into numerical values, e.g.‘f’ to ‘1’, which\nis easily done using the search and replace functions of Excel.The labels of the columns may have to be shortened to be read by\nsome statistical programmes, e.g.SPSS will only read the ﬁrst\neight characters of variable names.Again, you must remember to\nsave the spreadsheet with a different ﬁlename before beginning\ndata preprocessing, as it will destroy some of the data, or\ncertainly its format.Most specialist statistical programmes, such\nas SPSS, will read Excel ﬁles but data can be output in comma- or\ntab-delimited text from Excel if necessary.Research notes ‘database’\n\nAny researcher 15 years ago would have had supplementary ‘da-\ntabases’ for their research projects, usually an index box with cards\nwith the authors and title of published papers and a number that\nreferred to a folder in a ﬁling cabinet.They might also have had a\nbound book with notes, or possibly a pile of loose papers with\nvarious notes e they still might have those on their desk today.A\nsupervised researcher working in a well-organized laboratory\nshould still have a bound book as a record of their experiments and\nprimary data, but there are now more useful ways of storing other\ninformation than a pile of loose papers.The widespread availability\nof electronic PDF versions of published paper and the information\ndisplayed on numerous authoritative websites has widened the\nscope for electronic databases of collected research ‘notes’.These\nshould be much easier to search, can have direct links to PDF ﬁles\nstored on the computer and direct links to relevant websites, and\ncould signiﬁcantly improve a researcher’s productivity.A number\n\nof software programmes that perform this task are available.On\nMacintosh computers TapForms6 appears to be the current market\nleader and is extremely easy to use.On PCs Microsoft Ofﬁce One-\nNote (available as part of the MS Ofﬁce 2016 Ofﬁce Suite) is a\ncomprehensive electronic documentation application that allows\norganization and storage of information from a wide range of\nsources.7 It also allows resources to be shared securely with project\ncollaborators via the internet.Conclusions\n\nA research database for even relatively sophisticated histopa-\nthology research projects, e.g.immunohistochemical staining of\ntissue arrays with hundreds of tumours, is easy to construct and\nuse provided that care is taken in its overall design and the\ncoding of data items.The purpose of the database should always\nbe to serve the overall aims of the research project and it should\nnot become an isolated resource-consuming entity.For most\nhistopathology projects, a simple spreadsheet programme, such\nas Microsoft Excel, will provide all\nthe necessary database\nfunctions with the minimum amount of infra-structural effort.Conﬂicts of interest\n\nThe authors have no conﬂicts of interest to declare.A\n\nREFERENCES\n1 Balasubramanian SP, Cross SS, Globe J, Cox A, Brown NJ,\n\nReed MW.Endostatin gene variation and protein levels in breast\ncancer susceptibility and severity.BMC Cancer 2007; 7: 107. 2 BBC News website.Thousands of Welsh NHS staff’s data stolen in\n\nhack.Avaliable at: http://www.bbc.co.uk/news/uk-wales-\n39249975 (accessed 4 June 2017). 3 Data Protection Act.Available at: http://www.legislation.gov.uk/\n\nukpga/1998/29/contents (accessed 4 June 2017).4 Iversen A, Liddell K, Fear N, Hotopf M, Wessely S. Consent,\n\nconﬁdentiality and the data protection act.BMJ 2006; 332: 165e9. 5 Walkenbach J. Excel 2016 bible.Hoboken, New Jersey: John Wiley\n\n& Sons, 2015. June 2017). 6 TapForms.Avaliable at: https://www.tapforms.com/ (accessed 4\n\n7 Microsoft Ofﬁce OneNote.Avaliable at: https://www.onenote.com/\n\n(accessed 4 June 2017).Practice points\n\nC Any research database should be anonymized as completely as is\n\nfeasible for the speciﬁc research project\n\nC A research database should always be part of a project approved\nby a research ethics committee and should be speciﬁed within the\nresearch protocol\n\nC A research database should comply with appropriate data pro-\n\ntection legislation, the Data Protection Act in the UK\n\nC The design of the database should be speciﬁed by the aims and\nobjectives of the research project and not by software capabilities\nC Care should be taken to code data items in a format that retains\nall potentially relevant information and which allows them to be\nselected and sorted in a consistent manner\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n153\n\n(cid:1) 2017 Published by Elsevier Ltd.",
          "time": 1205.7154095172882,
          "input_token_size": 7419,
          "output_token_size": 390,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_e27c212a",
        "created_at": 1749769362.5191548,
        "processing_time": 1217.0613460540771,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs_prev1",
        "reason": "shorter_provenance",
        "sentence_count": 190,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs_prev1",
            "sentence_count": 190,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.879729"
      }
    }
  },
  {
    "e43368c5": {
      "question": "How do Simon S Cross, Ian R Palmer, and Timothy J Stephenson define the scope of databases suitable for histopathology research?",
      "answer": "Answer is not found.",
      "provenance": [],
      "metadata": {
        "question_id": "research_database_e43368c5",
        "created_at": 1749627291.377663,
        "processing_time": 0.6114392280578613,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs_prev",
        "reason": "default",
        "sentence_count": 999999,
        "provenance_count": 0,
        "alternatives": [
          {
            "source": "test_outputs_prev",
            "sentence_count": 999999,
            "provenance_count": 0,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.880584"
      }
    }
  },
  {
    "e7bee613": {
      "question": "What legislation must be complied with according to the document?",
      "answer": "1. Data Protection Act (UK)",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            163,
            164,
            165,
            166,
            167,
            168,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance_ids": [
            19,
            22,
            28,
            31,
            34,
            35,
            37,
            38,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            182,
            189
          ],
          "provenance": "A database for a project such as this would be a\nreasonable proposition for a single researcher, such as a histo-\npathology trainee working on an PhD degree, and is the scale\nof database that we use all the time in our projects.1\n\nAnonymization, ethical and legal considerations\n\nAny research database should be anonymized to the highest level\nthat is compatible with the viability of the research project.Any\nresearch project will require local ethics committee approval, and\nmost ethics committees are rightly concerned about the trans-\nmission of personal medical data and usually insist that any\nresearch databases are anonymized.It obviously re-\nduces the risk of identiﬁcation of individuals to close to zero, but\nit does not eliminate the risk of media coverage should the lost\ndata be found somewhere inappropriate (the local newspaper\nheadline ‘Cancer patients’ data found on memory stick in car\npark’ could still be applied whether the data were anonymized or\nnot).novel immuno-\nhistochemistry on a series of tumours) but is obviously not\ncompatible with projects with continuing patient follow-up.Such a database does not need to be electronic; it could\nsimply be a book with two entries on each line e the identiﬁable\ndata and the anonymized research accession number (often\nknown as the study number).Such a book could be kept securely\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n149\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nlocked in a ﬁling cabinet in a locked ofﬁce and access could be\nrestricted to a few named individuals involved in the research\nproject; often it will be a single named individual whose sole\npurpose is to provide linkage if requested.A much simpler method is to use some identiﬁer\nwhich is not identiﬁable without access to some existing infor-\nmation system.This could be the patient’s hospital number but\nmany ethics committees regard this as relatively insecure\nbecause the patient’s hospital number could open access to a\nwhole range of information in many different hospital informa-\ntion systems (and the patient’s NHS number is even less secure\nand more informative).At present the ethics committees that\nwe have passed applications through have been happy to use the\nlaboratory accession number to anonymize the samples and data\nin studies, although they have always required a statement on\nthe circumstances in which the investigators would go back to\nthe laboratory information system for more data.Such consid-\nerations always have to be made for any research project and are\nnot exclusively a feature of research databases.It still needs to be appreciated that simple personal data, such\nas name and address, are not the only items that can identify an\nindividual.The date of birth is quite a speciﬁc item and com-\nbined with other items in a database (e.g.a woman with breast\ncancer diagnosed in 2002) could provide a strong indication of an\nindividual’s identity.It is usually better to change the date of\nbirth to a less speciﬁc age datum at the time of entering infor-\nmation into the database; age at diagnosis will probably give all\nthe information that is required.It should be noted that even when a database has been\n‘anonymized’ using relatively opaque linkage items, such as the\nlaboratory accession number, it is still not completely anony-\nmized because links can be made indirectly which could iden-\ntify the patient.Although this linked ‘anonymization’ will mini-\nmize the adverse effects of any data loss or unauthorized access\nto the data, the database is still legally regarded as personal data\nunder legislation such as the UK Data Protection Act.3,4 Under\nthis Act, only data essential to the study can be collected and they\ncan only be stored for as long as the study is active.Avaliable at: http://www.bbc.co.uk/news/uk-wales-\n39249975 (accessed 4 June 2017). 3 Data Protection Act.Practice points\n\nC Any research database should be anonymized as completely as is\n\nfeasible for the speciﬁc research project\n\nC A research database should always be part of a project approved\nby a research ethics committee and should be speciﬁed within the\nresearch protocol\n\nC A research database should comply with appropriate data pro-\n\ntection legislation, the Data Protection Act in the UK\n\nC The design of the database should be speciﬁed by the aims and\nobjectives of the research project and not by software capabilities\nC Care should be taken to code data items in a format that retains\nall potentially relevant information and which allows them to be\nselected and sorted in a consistent manner\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n153\n\n(cid:1) 2017 Published by Elsevier Ltd.",
          "time": 63.997849464416504,
          "input_token_size": 7417,
          "output_token_size": 16,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_e7bee613",
        "created_at": 1749665252.914603,
        "processing_time": 66.06032514572144,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs_prev",
        "reason": "shorter_provenance",
        "sentence_count": 190,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs_prev",
            "sentence_count": 190,
            "provenance_count": 1,
            "has_answer": true
          },
          {
            "source": "test_outputs_prev1",
            "sentence_count": 190,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.880584"
      }
    }
  },
  {
    "f0df58b4": {
      "question": "What role does Ian R Palmer play in the document?",
      "answer": "Ian R Palmer BSc is the Faculty IT Manager (Medicine, Dentistry & Health) and Faculty IT Liaison Corporate Information and Computing Services at the University of Sheffield, Sheffield, UK.",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            11,
            12,
            13
          ],
          "provenance_ids": [
            11,
            12,
            13
          ],
          "provenance": "Ian R Palmer BSc is the Faculty IT Manager (Medicine, Dentistry &\nHealth) and Faculty IT Liaison Corporate Information and Computing\nServices at the University of Shefﬁeld, Shefﬁeld, UK.Conﬂict of\ninterest: There is no conﬂict of interest.Timothy J Stephenson MA MD MBA FRCPath is a Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation\nTrust and Honorary Professor at the University of Shefﬁeld and\nShefﬁeld Hallam University, Shefﬁeld, UK.",
          "time": 6.314626455307007,
          "input_token_size": 7573,
          "output_token_size": 203,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_f0df58b4",
        "created_at": 1750198965.502825,
        "processing_time": 10.66116738319397,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs",
        "reason": "shorter_provenance",
        "sentence_count": 3,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs",
            "sentence_count": 3,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.881819"
      }
    }
  },
  {
    "f7c681d1": {
      "question": "What are the main purposes of designing a research database according to the document?",
      "answer": "1. Store and organize data.\n2. Make analyzing results easier.\n3. Ensure ethical and legal compliance.\n4. Facilitate data import and export.\n5. Support the aims and objectives of the research project.",
      "provenance": [
        {
          "provenance_id": 0,
          "input_sentence_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            163,
            164,
            165,
            166,
            167,
            168,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189
          ],
          "provenance_ids": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            14,
            15,
            16,
            17,
            18,
            19,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            164,
            165,
            166,
            167,
            169,
            170,
            171,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            181,
            182,
            183,
            184,
            185,
            188,
            189
          ],
          "provenance": "MINI-SYMPOSIUM: RESEARCH\n\nHow to design and use a\nresearch database\n\nSimon S Cross\n\nIan R Palmer\n\nTimothy J Stephenson\n\nAbstract\nThe vast majority of histopathology research projects based on a se-\nries of tissue samples will require a database to store and organize the\ndata.Most of these databases will be relatively simple standalone da-\ntabases that can be created in a spreadsheet application.However,\nthere are still some important considerations in the design of the data-\nbase and coding of the data that will make its subsequent use much\nmore time efﬁcient.This article reviews the scope of databases for\ncommon histopathology research projects, the ethical and legal con-\nsiderations, design of the database structure, coding of data items,\nand import and export of data from databases.Keywords anonymization; databases; histopathology\n\nIntroduction\n\nMost research projects need some method for recording and\nordering data.Sometimes this may be a complex system that\nautomatically links with other data sources, but in most cases it\nwill be a relatively simple standalone database for a single\nresearcher to maintain their research data.However, even though\nthis level of database may be relatively simple, it is still very\nimportant to give some thought to its design before starting to use\nit, as a well-designed database will make analysing results much\neasier, and a poorly-designed database can lead to much wasted\ntime which may even extend as far as having to re-enter data.What sort of database does your project need?At the start of a research project you need to make a simple\nassessment of what your database will need to do.If your\ninvolving\nresearch project\nseveral different centres and which requires data to be entered by\nseveral different personnel, then we hope you have budgeted for\n\nis a randomized controlled trial\n\nSimon S Cross MD FRCPath is Professor of Diagnostic Histopathology\nat the University of Shefﬁeld and an Honorary Consultant\nHistopathologist at Shefﬁeld Teaching Hospitals NHS Foundation,\nUK.Conﬂict of interest: There is no conﬂict of interest.Ian R Palmer BSc is the Faculty IT Manager (Medicine, Dentistry &\nHealth) and Faculty IT Liaison Corporate Information and Computing\nServices at the University of Shefﬁeld, Shefﬁeld, UK.Conﬂict of\ninterest: There is no conﬂict of interest.Conﬂict of interest: There\nis no conﬂict of interest.a dedicated database manager in your research grant because\nyou will need them!Such a database is well outside the scope of\nthis paper.A more tractable project might be something like a\nnumber of different immunohistochemical stains performed on a\nretrospective series of 500 cases of breast cancer with histo-\npathological data (such as tumour size, grade, lymph node sta-\ntus) and clinical follow-up (e.g.time to last follow-up, recurrent\ndisease, death not due to breast cancer, death due to breast\ncancer).A database for a project such as this would be a\nreasonable proposition for a single researcher, such as a histo-\npathology trainee working on an PhD degree, and is the scale\nof database that we use all the time in our projects.1\n\nAnonymization, ethical and legal considerations\n\nAny research database should be anonymized to the highest level\nthat is compatible with the viability of the research project.to be lost or stolen.2 It is likely that you will be\nmoving your data around between computers and it is probable\nthat you will be using a laptop computer, so for security con-\nsiderations alone the database should be anonymized.Any\nresearch project will require local ethics committee approval, and\nmost ethics committees are rightly concerned about the trans-\nmission of personal medical data and usually insist that any\nresearch databases are anonymized.There are two main methods of anonymization e complete\nand linked.The most secure is complete anonymization where\nthe clinicopathological data are taken from their original source\nand entered into the research database with no linkage at all\nbetween the two.If all personal identiﬁers are excluded from the\nresearch database, then there should be no way of systematically\nidentifying patients from the data held in the research database (it\nshould, however, be noted that it might be possible to identify\noccasional individuals if they have very distinctive characteristics,\ne.g.a 16-year-old female living in city ‘x’ who was diagnosed with\nbreast cancer).The advantage of a totally anonymized database is\na lowering of the risk should it be lost or stolen.It obviously re-\nduces the risk of identiﬁcation of individuals to close to zero, but\nit does not eliminate the risk of media coverage should the lost\ndata be found somewhere inappropriate (the local newspaper\nheadline ‘Cancer patients’ data found on memory stick in car\npark’ could still be applied whether the data were anonymized or\nnot).The major disadvantage of a completely anonymized data-\nbase is that it is a static database that cannot be updated later if\nthere is a need for further data input.This may not be a problem\nfor many histopathology research projects (e.g.novel immuno-\nhistochemistry on a series of tumours) but is obviously not\ncompatible with projects with continuing patient follow-up.In linked anonymization there is some system that links the\nresearch database to identiﬁable patient data.One method of\nlinkage is to have a separate secure database that acts as a key\nbetween identiﬁable data records and the anonymized research\ndatabase.Such a database does not need to be electronic; it could\nsimply be a book with two entries on each line e the identiﬁable\ndata and the anonymized research accession number (often\nknown as the study number).Such a book could be kept securely\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n149\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nlocked in a ﬁling cabinet in a locked ofﬁce and access could be\nrestricted to a few named individuals involved in the research\nproject; often it will be a single named individual whose sole\npurpose is to provide linkage if requested.However, this method\ninvolves setting up a separate administration system with its own\nsecurity issues.A much simpler method is to use some identiﬁer\nwhich is not identiﬁable without access to some existing infor-\nmation system.This could be the patient’s hospital number but\nmany ethics committees regard this as relatively insecure\nbecause the patient’s hospital number could open access to a\nwhole range of information in many different hospital informa-\ntion systems (and the patient’s NHS number is even less secure\nand more informative).In histopathology we are fortunate in\nhaving the laboratory accession number which is a restrictive\nsuperﬁcially-anonymous identiﬁer that is only available to those\nwith access to the laboratory information computer system, and\nthat system is already heavily protected by individual password\nlogin, automatic timing out of terminals after a short period of\nnon-use, etc.If we are conducting a research study on archival\ndiagnostic surgical material, then we will probably be using\nslides labelled with the laboratory accession number and we are\nunlikely to anonymize that number because of the slide labelling\nproblems it would cause.At present the ethics committees that\nwe have passed applications through have been happy to use the\nlaboratory accession number to anonymize the samples and data\nin studies, although they have always required a statement on\nthe circumstances in which the investigators would go back to\nthe laboratory information system for more data.Such consid-\nerations always have to be made for any research project and are\nnot exclusively a feature of research databases.It still needs to be appreciated that simple personal data, such\nas name and address, are not the only items that can identify an\nindividual.The date of birth is quite a speciﬁc item and com-\nbined with other items in a database (e.g.a woman with breast\ncancer diagnosed in 2002) could provide a strong indication of an\nindividual’s identity.It is usually better to change the date of\nbirth to a less speciﬁc age datum at the time of entering infor-\nmation into the database; age at diagnosis will probably give all\nthe information that is required.It should be noted that even when a database has been\n‘anonymized’ using relatively opaque linkage items, such as the\nlaboratory accession number, it is still not completely anony-\nmized because links can be made indirectly which could iden-\ntify the patient.Although this linked ‘anonymization’ will mini-\nmize the adverse effects of any data loss or unauthorized access\nto the data, the database is still legally regarded as personal data\nunder legislation such as the UK Data Protection Act.3,4 Under\nthis Act, only data essential to the study can be collected and they\ncan only be stored for as long as the study is active.This brings us to legal consideration as whether the database\nneeds to be registered under the terms of the Data Protection Act\nin the UK, or similar legislation in other countries.If there is no\nlinkage possible at all between the research database and per-\nsonal patient data, then it would not need to registered, but since\nthe act of creation of the database will involve some access to\npersonal data, then we would suggest that it does need regis-\ntration.In most UK institutions this is a simple process because\nthere will be an institutional Data Protection Ofﬁcer and the\ninstitution will be registered with the Government’s Information\n\nCommissioner, which will usually give generic registration for\ndatabases in that institution without the need for the registration\nof individual databases.However, you would need to check the\ndetails of your institution’s processes.A further medicolegal consideration is the duty of disclosure\nthat could occur if review of a case with identiﬁable data showed\nthat there was a misdiagnosis or mistreatment, e.g.if review of a\nseries of cases of mesothelioma showed that one of the cases\nappeared to be mesothelial hyperplasia rather than mesotheli-\noma.If there is complete anonymization, then this cannot apply.If there is linked anonymization, then it could apply and this\nneeds to be considered before the study commences.In most\nhistopathology research studies, the tissue being reviewed is only\na sample of the whole diagnostic material available on the case,\ne.g.a single block of breast cancer, so a full diagnostic review of\nthe case is not being carried out.The tissue is also being exam-\nined in a research context, e.g.a single core of tumour in a tissue\nmicroarray, where it is possible that there could have been some\ntransposition of laboratory accession numbers or rows and col-\numns in a spreadsheet and the risk of misidentiﬁcation would be\nslightly higher than in a fully functioning diagnostic histopa-\nthology laboratory.For these reasons, we include a statement in\nour ethics committee application stating that any discoveries are\nfor research purposes only and that there will be no retrograde\nﬂow of information back to patient records or individual patients.Design your database\n\nThe design of your database should reﬂect the design of your\nresearch project and it would be better to have all your aims and\nobjectives of the project clearly formulated and recorded before\nyou start to design your database.Sometimes, however, design of\nthe database and general objectives of the research project emerge\nconcurrently.A good way to design your database is to take a blank\nsheet of A3 paper and sketch out all the data items you think you\nneed in a ‘spider’ (or ‘mindmap’) diagram with clusters of related\nitems.This gets you away from a computer screen and a form\nformat, and allows you to look at all the data items with an over-\nview.It is worth spending some time doing this, possibly redraw-\ning the diagram if it becomes too cluttered by changes, because this\nis the most important stage of database design and time spent on\nthis stage will pay major dividends later in the process.You need to arrive at a design with all the data items that are\nessential for your project but no more than that.If you do not\ninclude essential data items at the start of the process, you will\ndiscover their absence later and then need to modify the database,\nand you may have to go through all your original data sources to\ninput the missing items.It is usually best to include individual raw\ndata items and use them to calculate derived data items within the\ndatabase.An example in breast cancer would be the Nottingham\nPrognostic Index.If you only include the Nottingham Prognostic\nIndex in your database as an aggregate measure of the potential\nprognostic behaviour of the tumour, then you will not have access\nto the tumour size, tumour grade and lymph node status in future\nanalyses.If you include those three items separately, then you can\ncreate a fourth derived data item that will automatically calculate\nthe Nottingham Prognostic Index from these items.If you only\nrecord axillary lymph node status in a case of breast cancer as\npositive or negative, then you will not have access to the total\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n150\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nnumber of positive lymph nodes, whereas if you record the total\nnumber of positive lymph nodes, you will be able to create\nanother automatically derived data item for overall lymph node\nstatus.The general rule is that data items cannot be split at a later\nstage, but they can be easily, and automatically, aggregated later,\nso it is best to create a database with the simplest raw data items\nincluded instead of derivative/aggregated data items.Any variable that in its raw state is a continuous variable (e.g.tumour size in millimetres) should be stored as that continuous\nvariable rather than a category (e.g. tumours between 5 and 10\nmm).You should of course ensure that all the data items in your\ndatabase are relevant to your project’s aims and objectives\nbecause it is a waste of resources (usually your time) to enter\nirrelevant items.What software should you use? You will notice that choice of software comes after design of the\ndatabase.Too many researchers start with the software choice and\nthen their database design is inﬂuenced by what the software can\ndo, rather than what the software can do for them.There are a\nnumber of popular database software packages on the market,\nsuch as Microsoft Access and Filemaker Pro, which run on indi-\nvidual computers.There are also server-based databases, such as\nMySQL, Microsoft SQL Server or Oracle.These software packages\nare all very good and very powerful for multiuser projects with a\nnumber of interacting databases, but they are overkill for a\nresearch project such as the breast cancer tissue array project\ndescribed above.Although we have used Microsoft Access and\nFilemaker Pro in the past with success, the learning curve for using\nthese packages is relatively steep and the results are no better than\nusing our current preferred option which is Microsoft Excel.This\nspreadsheet application has enough database functions built into it\nto carry out all the necessary preprocessing before statistical\nanalysis of results in speciﬁc statistical software package, such as\nStatistical Package for Social Sciences (SPSS).It has the major\nadvantages of virtually no learning curve, if you already use its\nspreadsheet functions, no platform speciﬁcity (Microsoft Access\ndoes not run on Macintosh computers), accepts ﬁles from other\nsources in a wide range of formats, and does not allow the user to\nwaste time creating colourful graphical interfaces for entering data\nthat have no value to the project.We simply create a column for\neach data item and use a row for each case.The ‘Split Window’ and\n‘Freeze Panes’ functions (found under the Windows menu at the\ntop of the screen) allow the column headings and left-hand row\nlabels to remain on the screen all the time no matter how many\nrows or columns there are in the spreadsheet (see the Excel help\nﬁles for further details).We enter data directly into the spreadsheet\nwithout using any custom entry form, but it is easy to create one if\nyou feel that data entry would be cleaner by using one, e.g.if\nsomeone without specialist knowledge is entering the data for you.If you need multiuser entry, then a single spreadsheet be-\ncomes problematic because version control becomes very difﬁ-\ncult.In these circumstances, a server-based database is more\nuseful but it can be difﬁcult to arrange access from different in-\nstitutions.A more recent development is the availability of web-\nbased databases, which are accessible from any web browser and\nmake multiuser data entry very simple.The consideration with\nthese web-based databases is the security of the commercial\n\nproviders’ servers, but they are basing their business on a secure\nservice so the risk might be lower than for an ad-hoc server in an\nacademic institution.Coding your data\n\nYou will know which data items you want to include in your\ndatabase because you designed it before you touched the com-\nputer keyboard, but now you need to consider how you are going\nto code that data.The laboratory accession number is a simple illustrative\ncase (Tables 1 and 2).This number is usually in the form of the\nyear and then a single unique number issued in ascending order\nas specimens arrive.There may also be a separate block number if\nthe specimen cannot be embedded in a single block.If such a\nnumber is entered into a single column in its usual format, e.g.08/23156/3E, it will be treated as text rather than a number in\nExcel and there can be a number of problems when sorting data\nfor analysis.Tables 1 and 2 illustrate these problems and show\nthat the best solution is to create separate columns for each\nelement of a multipart or mixed number/text item.Binary data\nitems, such as gender or lymph node status, are easier but there is\nstill a decision to be made as to whether to use strict mathematical\nbinary code or a more descriptive code.Gender could be coded as\n1 ¼ female and 0 ¼ male, but this is an arbitrary coding that is not\nmemorable to the data inputer.Coding as f ¼ female and m ¼\nmale is memorable and so far lower rates of errors are likely\nduring the inputting of the data, i.e.make the purest possible\ntransformations of data.It is a very simple automated ‘ﬁnd and\nreplace’ function to convert these to true mathematical binary\nitems for statistical analysis.It is well worth keeping descriptive\ncodings as short as possible, because this reduces the number of\nkeystrokes when entering data.The autoﬁll function of Excel is\n\nCoding the laboratory accession number.If entered in\nthe format in column 1 the accession number sorts to the\norder in column 2 e the year order is incorrect because\nthe full year was not included.With the full year added\nand sorted, column 3, there is still a problem with the\norder of the second and third rows because zeros before\nthe accession number have not been added to numbers\nwith fewer than ﬁve digits.When this has been done,\ncolumn 4, the numbers now do sort into the correct time\norder but a better method is shown in Table 2\n\n1.Unsorted\n\n2. Sorted\n\n3. Full year\nsorted\n\n4.Full year and\npreceeding zeros\nsorted\n\n98/1119/3E\n02/34001/4F\n99/1231/2F\n00/32754/1A\n03/4567/8G\n99/12237/4D\n\n00/32754/1A\n02/34001/4F\n03/4567/8G\n98/1119/3E\n99/1231/2F\n99/12237/4D\n\n1998/1119/3E\n1999/12237/4D\n1999/1231/2F\n2000/32754/1A\n2002/34001/4F\n2003/4567/8G\n\n1998/01119/3E\n1999/01231/2F\n1999/12237/4D\n2000/32754/1A\n2002/34001/4F\n2003/04567/8G\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\nTable 1\n\n151\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nThis shows a better method for coding the laboratory\naccession number by creating a separate column for\neach element of the number.Note that in this case\npreceding zeros do not need to be included as the Excel\nsoftware is treating the numbers as actual numbers\nrather than text, as in Table 1.If you are using a single\nrepresentative section from a multipart specimen, e.g.a\nrepresentative block of breast cancer from a mastectomy\nspecimen, then always remember to include the speciﬁc\nblock number in the database, otherwise future studies\nmay have to retrieve all the slides for the case (speciﬁed\nby the year and accession number) and look at these to\nselect the representative block again e a huge amount\nof rework for no gain in value\n\nNumber\n\n1119\n1231\n12237\n32754\n34001\n4567\n\nPart\n\n3E\n2F\n4D\n1A\n4F\n8G\n\nYear\n\n1998\n1999\n1999\n2000\n2002\n2003\n\nTable 2\n\nuseful and can be optimized by choosing different ﬁrst letters for\nas many different items as possible.An example for breast cancer\nthat we have used is tumour type, where d ¼ ductal, l ¼ lobular, t\n¼ tubular, me ¼ medullary, mu ¼ mucinous, etc.It should be\nnoted that when entering text into Excel it will be case-sensitive in\nany manipulations, such as grouping or pivot data tables, so it is\nbest to use lower case letter throughout, which also reduces\nkeystrokes by not using the Shift key.Importing items into your database\n\nIf some of the data you wish to have in your database exist in\nanother database, it may be possible to import them into your\ndatabase instead of having to key them all in.The ﬁrst thing to\nensure is that the data in the other database are ‘clean’ (i.e.consistently formatted) and veriﬁed.People often volunteer data\nfrom a database which on closer examinations contains many\nformatting inconsistencies, e.g.‘yes’ coded as ‘y’, ‘Y’ or ‘1’ for a\nsingle data ﬁeld, and it then is better to start again with the\noriginal source data.Another common feature of processes\ndesigned to port data from one database to another is that IT\nprofessionals want to write complicated interface programmes\nwhich take weeks or months to develop.Whilst these are essential\nfor databases that port data between themselves on a frequent,\nrecurrent basis, this is usually completely unnecessary for a\nstandalone research database, which usually only requires a sin-\ngle transfer at a single point in time.The easiest method we have\nfound is to perform a search on the existing database to select the\nrecords that we want to import and then export those in a format\nthat Excel can read.Often the parent database will be able to\nexport in Excel format but comma or tab-delimited text is just as\nacceptable and causes no extra work.Once in Excel the imported\ndata can be quickly sorted and formatted as required.It should be\nnoted that it is best to import as the ﬁrst stage of creating your\n\nresearch database, rather than trying to add the imported data to\nan existing database which may be more problematic.Calculating derived data items within your database\n\nAs noted above it is often easier (and certainly more accurate) to\ncalculate some derived data items from raw source data items\nwithin the database.This can be done using Excel’s calculation\nfunctions and the reader is referred to Excel help ﬁles or\ninstructional books for the details of this.5 Obviously some cal-\nculations are easier than others.If your raw data item is the\nmaximum diameter of a breast cancer in millimetres and you\nwant to convert that to centimetres in the calculation of the\nNottingham Prognostic Index, then you would simply set up a\nformula such: ¼ A23/10 where A23 is the index of the cell\ncontaining the measurement in millimetres.It is a simple matter\nto propagate that formula down the whole column for size in\ncentimetres by using the ‘Fill’ ‘Down’ functions from the Edit\nmenu.Deriving the lymph node status component for the Not-\ntingham Prognostic Index from the total number of positive\nlymph nodes would be more complicated but the conditional\noperators exist in Excel to allow this, e.g.¼ IF(A23 > 3,2,0), and\nautomatic help boxes make this very easy (click the calculator\nsymbol on the Excel toolbar just to the right of the green tick\nsymbol).It should be noted that these calculated values only\nexist when the other items from which they are derived are still\npresent in the datasheet.If for any reason, such as reducing data\ndown to the core items for statistical analysis, you are going to\nremove columns from the datasheet, you must select the whole\ndatasheet, copy it and then paste it back in the same cells using\nthe Paste Special function and selecting Values.You will then\nhave a sheet in which each cell is an independent number not\ndependent on any other cell.Obviously, you should only do this\nwhen you have ﬁnished entering all the data and are ready for\ndata analysis, and you should immediately save this sheet in a\ndifferent name from the original database sheet.Verifying your data\n\nOnce you have input your data you need to make some assess-\nment of the veracity of that data.It is remarkable how many\nerrors are introduced during data entry that need to be corrected\nbefore the database is usable.Excel has some useful functions\nthat make debugging the database relatively easy.One method is\nto ensure that you have saved the database and then try sorting\nthe data in many different ways.Go to ‘Sort’ under the ‘Data’\nmenu and select any single column as the sorting factor and\nperform the sort.Now scroll through the database sheet looking\nat the column you sorted by, especially at the top and bottom of\nthe sorted sheet, and you can see all sorts of data entry errors\nfrom completely blank cells through to mispellings or duplicated\nsymbols.You could repeat these sorts for each column to check\nfor further errors in other columns.A similar, but possibly easier,\nmethod is to use the Autoﬁlter function.Highlight the complete\nsheet (by clicking the diamond symbol in the top left cell of the\nsheet), from the Data menu select the Filter option and then\nselect the Autoﬁlter option.At the top of each column there will\nnow appear an up and down arrow symbol; clicking on this\nproduces a list of all the different occurrences of data items in\nthat column, making it very easy to see errors such as ‘Y’ instead\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n152\n\n(cid:1) 2017 Published by Elsevier Ltd.\n\n\fMINI-SYMPOSIUM: RESEARCH\n\nof ‘y’.When all the obvious typing errors have been corrected, it\nwould be wise to perform an audit, checking perhaps 10% of the\ncase records with their original source data to check that there\nare no systematic data entry errors.Backing up your database\n\nData only exists when it is stored in two places e this widespread\ndictum is never more true than for databases.If you are going to\nspend many hours entering data into a database, then you need to\nhave a reliable system of back-up.The best systems are automatic\nand store the data at a geographically separate location; institutions\nsuch as universities often provide such systems for their members.Excel-based databases produce ﬁles which are very manageable in\nsize and can easily be backed up to CDs or memory sticks, but be\nmindful of security issues even with a completely anonymized\ndatabase (which would still cause media interest if found in an\ninappropriate place) and keep the copies in secure locations.Many\nNHS institutions are now so wary of data loss through sources such\nas memory sticks, that they are considering disabling USB ports on\ntheir computers so automated back-ups onto servers within the\ninstitution’s ﬁrewall may well become the norm.Exporting data for analysis\n\nThe function of a database is to store and order data for a\nresearch project that can then be analysed.By using Excel as the\ndatabase software, many statistical functions and analysis can be\nused directly within Excel.However more sophisticated analyses\nwill require preprocessing and export to other programmes such\nas SSPS.The preprocessing will mainly consist of converting\ndescriptive variables into numerical values, e.g.‘f’ to ‘1’, which\nis easily done using the search and replace functions of Excel.The labels of the columns may have to be shortened to be read by\nsome statistical programmes, e.g.SPSS will only read the ﬁrst\neight characters of variable names.Most specialist statistical programmes, such\nas SPSS, will read Excel ﬁles but data can be output in comma- or\ntab-delimited text from Excel if necessary.Research notes ‘database’\n\nAny researcher 15 years ago would have had supplementary ‘da-\ntabases’ for their research projects, usually an index box with cards\nwith the authors and title of published papers and a number that\nreferred to a folder in a ﬁling cabinet.They might also have had a\nbound book with notes, or possibly a pile of loose papers with\nvarious notes e they still might have those on their desk today.A\nsupervised researcher working in a well-organized laboratory\nshould still have a bound book as a record of their experiments and\nprimary data, but there are now more useful ways of storing other\ninformation than a pile of loose papers.These\nshould be much easier to search, can have direct links to PDF ﬁles\nstored on the computer and direct links to relevant websites, and\ncould signiﬁcantly improve a researcher’s productivity.A number\n\nof software programmes that perform this task are available.On\nMacintosh computers TapForms6 appears to be the current market\nleader and is extremely easy to use.Conclusions\n\nA research database for even relatively sophisticated histopa-\nthology research projects, e.g.immunohistochemical staining of\ntissue arrays with hundreds of tumours, is easy to construct and\nuse provided that care is taken in its overall design and the\ncoding of data items.The purpose of the database should always\nbe to serve the overall aims of the research project and it should\nnot become an isolated resource-consuming entity.For most\nhistopathology projects, a simple spreadsheet programme, such\nas Microsoft Excel, will provide all\nthe necessary database\nfunctions with the minimum amount of infra-structural effort.Conﬂicts of interest\n\nThe authors have no conﬂicts of interest to declare.A\n\nREFERENCES\n1 Balasubramanian SP, Cross SS, Globe J, Cox A, Brown NJ,\n\nReed MW.Endostatin gene variation and protein levels in breast\ncancer susceptibility and severity.Thousands of Welsh NHS staff’s data stolen in\n\nhack.Avaliable at: http://www.bbc.co.uk/news/uk-wales-\n39249975 (accessed 4 June 2017). 3 Data Protection Act.Available at: http://www.legislation.gov.uk/\n\nukpga/1998/29/contents (accessed 4 June 2017).4 Iversen A, Liddell K, Fear N, Hotopf M, Wessely S. Consent,\n\nconﬁdentiality and the data protection act.BMJ 2006; 332: 165e9. 5 Walkenbach J. Excel 2016 bible.Avaliable at: https://www.onenote.com/\n\n(accessed 4 June 2017).Practice points\n\nC Any research database should be anonymized as completely as is\n\nfeasible for the speciﬁc research project\n\nC A research database should always be part of a project approved\nby a research ethics committee and should be speciﬁed within the\nresearch protocol\n\nC A research database should comply with appropriate data pro-\n\ntection legislation, the Data Protection Act in the UK\n\nC The design of the database should be speciﬁed by the aims and\nobjectives of the research project and not by software capabilities\nC Care should be taken to code data items in a format that retains\nall potentially relevant information and which allows them to be\nselected and sorted in a consistent manner\n\nDIAGNOSTIC HISTOPATHOLOGY 24:4\n\n153\n\n(cid:1) 2017 Published by Elsevier Ltd.",
          "time": 327.1813485622406,
          "input_token_size": 7425,
          "output_token_size": 180,
          "original_provenance_id": 0
        }
      ],
      "metadata": {
        "question_id": "research_database_f7c681d1",
        "created_at": 1749627277.7962265,
        "processing_time": 331.65458130836487,
        "processing_complete": true,
        "max_provenances": 5
      },
      "source_info": {
        "selected_from": "test_outputs_prev",
        "reason": "shorter_provenance",
        "sentence_count": 190,
        "provenance_count": 1,
        "alternatives": [
          {
            "source": "test_outputs_prev",
            "sentence_count": 190,
            "provenance_count": 1,
            "has_answer": true
          }
        ],
        "selection_timestamp": "2025-06-17T16:48:52.881819"
      }
    }
  }
]